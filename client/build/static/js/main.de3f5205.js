/*! For license information please see main.de3f5205.js.LICENSE.txt */
(()=>{"use strict";var e={579:(e,t,n)=>{e.exports=n(1153)},1153:(e,t,n)=>{var r=n(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},2284:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2730:(e,t,n)=>{var r=n(5043),a=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function p(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(f,e)||!u.call(m,e)&&(h.test(e)?f[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,b);x[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var I,D=Object.assign;function z(e){if(void 0===I)try{throw Error()}catch(_r){var t=_r.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var M=!1;function B(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Lr){var r=Lr}Reflect.construct(e,[],t)}else{try{t.call()}catch(Lr){r=Lr}e.call(t.prototype)}else{try{throw Error()}catch(Lr){r=Lr}e()}}catch(Lr){if(Lr&&r&&"string"===typeof Lr.stack){for(var a=Lr.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case L:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return q(e(t))}catch(_r){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Ir){return e.body}}function K(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Q(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function pe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var xe=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,je=null;function ke(e){if(e=Ca(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=Pa(t),we(e.stateNode,e.type,t))}}function Se(e){Ne?je?je.push(e):je=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=je;if(je=Ne=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ae(e,t){return e(t)}function Ce(){}var Le=!1;function Pe(e,t,n){if(Le)return e(t,n);Le=!0;try{return Ae(e,t,n)}finally{Le=!1,(null!==Ne||null!==je)&&(Ce(),_e())}}function Ee(e,t){var n=e.stateNode;if(null===n)return null;var r=Pa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Fe=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(jr){Fe=!1}function Te(e,t,n,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(Tr){this.onError(Tr)}}var Oe=!1,Ie=null,De=!1,ze=null,Me={onError:function(e){Oe=!0,Ie=e}};function Be(e,t,n,r,a,s,i,o,l){Oe=!1,Ie=null,Te.apply(Me,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(s(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return He(a),e;if(i===r)return He(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ke=a.unstable_requestPaint,$e=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Qe=a.unstable_ImmediatePriority,Ze=a.unstable_UserBlockingPriority,et=a.unstable_NormalPriority,tt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,rt=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=dt(o):0!==(s&=i)&&(r=dt(s))}else 0!==(i=n&~a)?r=dt(i):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var vt,wt,Nt,jt,kt,St=!1,_t=[],At=null,Ct=null,Lt=null,Pt=new Map,Et=new Map,Ft=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Ot(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Ca(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function It(e){var t=Aa(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ca(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function zt(e,t,n){Dt(e)&&n.delete(t)}function Mt(){St=!1,null!==At&&Dt(At)&&(At=null),null!==Ct&&Dt(Ct)&&(Ct=null),null!==Lt&&Dt(Lt)&&(Lt=null),Pt.forEach(zt),Et.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<_t.length){Bt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Ct&&Bt(Ct,e),null!==Lt&&Bt(Lt,e),Pt.forEach(t),Et.forEach(t),n=0;n<Ft.length;n++)(r=Ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&null===(n=Ft[0]).blockedOn;)It(n),null===n.blockedOn&&Ft.shift()}var qt=v.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var a=bt,s=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=a,qt.transition=s}}function Vt(e,t,n,r){var a=bt,s=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=a,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var a=Jt(e,t,n,r);if(null===a)Zr(e,t,r,Yt,n),Tt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return At=Ot(At,e,t,n,r,a),!0;case"dragenter":return Ct=Ot(Ct,e,t,n,r,a),!0;case"mouseover":return Lt=Ot(Lt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Pt.set(s,Ot(Pt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Et.set(s,Ot(Et.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Tt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var s=Ca(a);if(null!==s&&vt(s),null===(s=Jt(e,t,n,r))&&Zr(e,t,r,Yt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var Yt=null;function Jt(e,t,n,r){if(Yt=null,null!==(e=Aa(e=ve(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Qe:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Qt=null;function Zt(){if(Qt)return Qt;var e,t,n=Xt,r=n.length,a="value"in $t?$t.value:$t.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Qt=a.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var an,sn,on,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),dn=D({},ln,{view:0,detail:0}),un=rn(dn),hn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(an=e.screenX-on.screenX,sn=e.screenY-on.screenY):sn=an=0,on=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),mn=rn(hn),fn=rn(D({},hn,{dataTransfer:0})),pn=rn(D({},dn,{relatedTarget:0})),xn=rn(D({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=D({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(gn),yn=rn(D({},ln,{data:0})),vn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function kn(){return jn}var Sn=D({},dn,{key:function(e){if(e.key){var t=vn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=rn(Sn),An=rn(D({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=rn(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Ln=rn(D({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=D({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),En=rn(Pn),Fn=[9,13,27,32],Rn=d&&"CompositionEvent"in window,Tn=null;d&&"documentMode"in document&&(Tn=document.documentMode);var On=d&&"TextEvent"in window&&!Tn,In=d&&(!Rn||Tn&&8<Tn&&11>=Tn),Dn=String.fromCharCode(32),zn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=ta(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Gn=null;function Yn(e){Vr(e,0)}function Jn(e){if(Y(La(e)))return e}function Kn(e,t){if("change"===e)return t}var $n=!1;if(d){var Xn;if(d){var Qn="oninput"in document;if(!Qn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Qn="function"===typeof Zn.oninput}Xn=Qn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Vn&&(Vn.detachEvent("onpropertychange",tr),Gn=Vn=null)}function tr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];Wn(t,Gn,e,ve(e)),Pe(Yn,t)}}function nr(e,t,n){"focusin"===e?(er(),Gn=n,(Vn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ar(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(Er){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=ur(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=cr(n,s);var i=cr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,pr=null,xr=null,gr=null,br=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==pr||pr!==J(r)||("selectionStart"in(r=pr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&or(gr,r)||(gr=r,0<(r=ta(xr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function vr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionend:vr("Transition","TransitionEnd")},Nr={},kr={};function Sr(e){if(Nr[e])return Nr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Nr[e]=n[t];return e}d&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Ar=Sr("animationend"),Fr=Sr("animationiteration"),Rr=Sr("animationstart"),Or=Sr("transitionend"),Dr=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Dr.set(e,t),l(t,[e])}for(var Br=0;Br<zr.length;Br++){var Ur=zr[Br];Mr(Ur.toLowerCase(),"on"+(Ur[0].toUpperCase()+Ur.slice(1)))}Mr(Ar,"onAnimationEnd"),Mr(Fr,"onAnimationIteration"),Mr(Rr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hr=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function Wr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,c){if(Be.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var d=Ie;Oe=!1,Ie=null,De||(De=!0,ze=d)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Wr(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Wr(a,o,c),s=l}}}if(De)throw e=ze,De=!1,ze=null,e}function Yr(e,t){var n=t[ka];void 0===n&&(n=t[ka]=new Set);var r=e+"__bubble";n.has(r)||(Qr(t,e,2,!1),n.add(r))}function Kr(e,t,n){var r=0;t&&(r|=4),Qr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){if(!e[$r]){e[$r]=!0,i.forEach(function(t){"selectionchange"!==t&&(Hr.has(t)||Kr(t,!1,e),Kr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Kr("selectionchange",!1,t))}}function Qr(e,t,n,r){switch(Kt(t)){case 1:var a=Wt;break;case 4:a=Vt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=Aa(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Pe(function(){var r=s,a=ve(n),i=[];e:{var o=Dr.get(e);if(void 0!==o){var l=cn,c=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=pn;break;case"focusout":c="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Ar:case Fr:case Rr:l=xn;break;case Or:l=Ln;break;case"scroll":l=un;break;case"wheel":l=En;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var m,f=r;null!==f;){var p=(m=f).stateNode;if(5===m.tag&&null!==p&&(m=p,null!==h&&(null!=(p=Ee(f,h))&&d.push(ea(f,p,m)))),u)break;f=f.return}0<d.length&&(o=new l(o,c,null,n,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!Aa(c)&&!c[ja])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Aa(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=mn,p="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=An,p="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?o:La(l),m=null==c?o:La(c),(o=new d(p,f+"leave",l,n,a)).target=u,o.relatedTarget=m,p=null,Aa(a)===r&&((d=new d(h,f+"enter",c,n,a)).target=m,d.relatedTarget=u,p=d),u=p,l&&c)e:{for(h=c,f=0,m=d=l;m;m=na(m))f++;for(m=0,p=h;p;p=na(p))m++;for(;0<f-m;)d=na(d),f--;for(;0<m-f;)h=na(h),m--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=na(d),h=na(h)}d=null}else d=null;null!==l&&ra(i,o,l,d,!1),null!==c&&null!==u&&ra(i,u,c,d,!0)}if("select"===(l=(o=r?La(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var x=Kn;else if(Hn(o))if($n)x=sr;else{x=rr;var g=nr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=ar);switch(x&&(x=x(e,r))?Wn(i,x,n,a):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?La(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(pr=g,xr=r,gr=null);break;case"focusout":gr=xr=pr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,yr(i,n,a);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(i,n,a)}var b;if(Rn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?Mn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(In&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(b=Zt()):(Xt="value"in($t=a)?$t.value:$t.textContent,Un=!0)),0<(g=ta(r,y)).length&&(y=new yn(y,e,null,n,a),i.push({event:y,listeners:g}),b?y.data=b:null!==(b=Bn(n))&&(y.data=b))),(b=On?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Dn);case"textInput":return(e=t.data)===Dn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&Mn(e,t)?(e=Zt(),Qt=Xt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ta(r,"onBeforeInput")).length&&(a=new yn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=b))}Vr(i,t)})}function ea(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ta(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Ee(e,n))&&r.unshift(ea(e,s,a)),null!=(s=Ee(e,t))&&r.push(ea(e,s,a))),e=e.return}return r}function na(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ra(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Ee(n,s))&&i.unshift(ea(n,l,o)):a||null!=(l=Ee(n,s))&&i.push(ea(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var aa=/\r\n?/g,sa=/\u0000|\uFFFD/g;function ia(e){return("string"===typeof e?e:""+e).replace(aa,"\n").replace(sa,"")}function oa(e,t,n){if(t=ia(t),ia(e)!==t&&n)throw Error(s(425))}function la(){}var ca=null,da=null;function ua(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ha="function"===typeof setTimeout?setTimeout:void 0,ma="function"===typeof clearTimeout?clearTimeout:void 0,fa="function"===typeof Promise?Promise:void 0,pa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof fa?function(e){return fa.resolve(null).then(e).catch(xa)}:ha;function xa(e){setTimeout(function(){throw e})}function ga(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function ba(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ya(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var va=Math.random().toString(36).slice(2),wa="__reactFiber$"+va,Na="__reactProps$"+va,ja="__reactContainer$"+va,ka="__reactEvents$"+va,Sa="__reactListeners$"+va,_a="__reactHandles$"+va;function Aa(e){var t=e[wa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ja]||n[wa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ya(e);null!==e;){if(n=e[wa])return n;e=ya(e)}return t}n=(e=n).parentNode}return null}function Ca(e){return!(e=e[wa]||e[ja])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function La(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Pa(e){return e[Na]||null}var Ea=[],Fa=-1;function Ra(e){return{current:e}}function Ta(e){0>Fa||(e.current=Ea[Fa],Ea[Fa]=null,Fa--)}function Oa(e,t){Fa++,Ea[Fa]=e.current,e.current=t}var Ia={},Da=Ra(Ia),za=Ra(!1),Ma=Ia;function Ba(e,t){var n=e.type.contextTypes;if(!n)return Ia;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ua(e){return null!==(e=e.childContextTypes)&&void 0!==e}function qa(){Ta(za),Ta(Da)}function Ha(e,t,n){if(Da.current!==Ia)throw Error(s(168));Oa(Da,t),Oa(za,n)}function Wa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,H(e)||"Unknown",a));return D({},n,r)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ia,Ma=Da.current,Oa(Da,e),Oa(za,za.current),!0}function Ga(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Wa(e,t,Ma),r.__reactInternalMemoizedMergedChildContext=e,Ta(za),Ta(Da),Oa(Da,e)):Ta(za),Oa(za,n)}var Ya=null,Ja=!1,Ka=!1;function $a(e){null===Ya?Ya=[e]:Ya.push(e)}function Xa(){if(!Ka&&null!==Ya){Ka=!0;var e=0,t=bt;try{var n=Ya;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ya=null,Ja=!1}catch(a){throw null!==Ya&&(Ya=Ya.slice(e+1)),Ge(Qe,Xa),a}finally{bt=t,Ka=!1}}return null}var Qa=[],Za=0,es=null,ts=0,ns=[],rs=0,as=null,is=1,os="";function ls(e,t){Qa[Za++]=ts,Qa[Za++]=es,es=e,ts=t}function cs(e,t,n){ns[rs++]=is,ns[rs++]=os,ns[rs++]=as,as=e;var r=is;e=os;var a=32-st(r)-1;r&=~(1<<a),n+=1;var s=32-st(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,is=1<<32-st(t)+a|n<<a|r,os=s+e}else is=1<<s|n<<a|r,os=e}function ds(e){null!==e.return&&(ls(e,1),cs(e,1,0))}function us(e){for(;e===es;)es=Qa[--Za],Qa[Za]=null,ts=Qa[--Za],Qa[Za]=null;for(;e===as;)as=ns[--rs],ns[rs]=null,os=ns[--rs],ns[rs]=null,is=ns[--rs],ns[rs]=null}var hs=null,ms=null,fs=!1,ps=null;function xs(e,t){var n=Uc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function gs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,hs=e,ms=ba(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,hs=e,ms=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==as?{id:is,overflow:os}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Uc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,hs=e,ms=null,!0);default:return!1}}function bs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ys(e){if(fs){var t=ms;if(t){var n=t;if(!gs(e,t)){if(bs(e))throw Error(s(418));t=ba(n.nextSibling);var r=hs;t&&gs(e,t)?xs(r,n):(e.flags=-4097&e.flags|2,fs=!1,hs=e)}}else{if(bs(e))throw Error(s(418));e.flags=-4097&e.flags|2,fs=!1,hs=e}}}function vs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;hs=e}function ws(e){if(e!==hs)return!1;if(!fs)return vs(e),fs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ua(e.type,e.memoizedProps)),t&&(t=ms)){if(bs(e))throw Ns(),Error(s(418));for(;t;)xs(e,t),t=ba(t.nextSibling)}if(vs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ms=ba(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ms=null}}else ms=hs?ba(e.stateNode.nextSibling):null;return!0}function Ns(){for(var e=ms;e;)e=ba(e.nextSibling)}function js(){ms=hs=null,fs=!1}function ks(e){null===ps?ps=[e]:ps.push(e)}var Ss=v.ReactCurrentBatchConfig;function _s(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function As(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cs(e){return(0,e._init)(e._payload)}function Ls(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Hc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===j?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===F&&Cs(s)===t.type)?((r=a(t,n.props)).ref=_s(e,t,n),r.return=e,r):((r=Wc(n.type,n.key,n.props,null,e.mode,r)).ref=_s(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Vc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Yc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Wc(t.type,t.key,t.props,null,e.mode,n)).ref=_s(e,null,t),n.return=e,n;case N:return(t=Jc(t,e.mode,n)).return=e,t;case F:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Vc(t,e.mode,n,null)).return=e,t;As(e,t)}return null}function m(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case N:return n.key===a?d(e,t,n,r):null;case F:return m(e,t,(a=n._init)(n._payload),r)}if(te(n)||O(n))return null!==a?null:u(e,t,n,r,null);As(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case N:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case F:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||O(r))return u(t,e=e.get(n)||null,r,a,null);As(t,r)}return null}function p(a,s,o,l){for(var c=null,d=null,u=s,p=s=0,x=null;null!==u&&p<o.length;p++){u.index>p?(x=u,u=null):x=u.sibling;var g=m(a,u,o[p],l);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(a,u),s=i(g,s,p),null===d?c=g:d.sibling=g,d=g,u=x}if(p===o.length)return n(a,u),fs&&ls(a,p),c;if(null===u){for(;p<o.length;p++)null!==(u=h(a,o[p],l))&&(s=i(u,s,p),null===d?c=u:d.sibling=u,d=u);return fs&&ls(a,p),c}for(u=r(a,u);p<o.length;p++)null!==(x=f(u,a,p,o[p],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?p:x.key),s=i(x,s,p),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(a,e)}),fs&&ls(a,p),c}function x(a,o,l,c){var d=O(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,p=o,x=o=0,g=null,b=l.next();null!==p&&!b.done;x++,b=l.next()){p.index>x?(g=p,p=null):g=p.sibling;var y=m(a,p,b.value,c);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(a,p),o=i(y,o,x),null===u?d=y:u.sibling=y,u=y,p=g}if(b.done)return n(a,p),fs&&ls(a,x),d;if(null===p){for(;!b.done;x++,b=l.next())null!==(b=h(a,b.value,c))&&(o=i(b,o,x),null===u?d=b:u.sibling=b,u=b);return fs&&ls(a,x),d}for(p=r(a,p);!b.done;x++,b=l.next())null!==(b=f(p,a,x,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?x:b.key),o=i(b,o,x),null===u?d=b:u.sibling=b,u=b);return e&&p.forEach(function(e){return t(a,e)}),fs&&ls(a,x),d}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===j&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===j){if(7===d.tag){n(r,d.sibling),(s=a(d,i.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===F&&Cs(c)===d.type){n(r,d.sibling),(s=a(d,i.props)).ref=_s(r,d,i),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}i.type===j?((s=Vc(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Wc(i.type,i.key,i.props,null,r.mode,l)).ref=_s(r,s,i),l.return=r,r=l)}return o(r);case N:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Jc(i,r.mode,l)).return=r,r=s}return o(r);case F:return e(r,s,(d=i._init)(i._payload),l)}if(te(i))return p(r,s,i,l);if(O(i))return x(r,s,i,l);As(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Yc(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Ps=Ls(!0),Es=Ls(!1),Fs=Ra(null),Rs=null,Ts=null,Os=null;function Is(){Os=Ts=Rs=null}function Ds(e){var t=Fs.current;Ta(Fs),e._currentValue=t}function zs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ms(e,t){Rs=e,Os=Ts=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Lo=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(Os!==e)if(e={context:e,memoizedValue:t,next:null},null===Ts){if(null===Rs)throw Error(s(308));Ts=e,Rs.dependencies={lanes:0,firstContext:e}}else Ts=Ts.next=e;return t}var Us=null;function qs(e){null===Us?Us=[e]:Us.push(e)}function Hs(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,qs(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ws(e,r)}function Ws(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Vs=!1;function Gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ys(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&zl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ws(e,n)}return null===(a=r.interleaved)?(t.next=t,qs(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ws(e,n)}function $s(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Xs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qs(e,t,n,r){var a=e.updateQueue;Vs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(i=0,d=c=l=null,o=s;;){var h=o.lane,m=o.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,p=o;switch(h=t,m=n,p.tag){case 1:if("function"===typeof(f=p.payload)){u=f.call(m,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=p.payload)?f.call(m,u,h):f)||void 0===h)break e;u=D({},u,h);break e;case 2:Vs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Gl|=i,e.lanes=i,e.memoizedState=u}}function Zs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var ei={},ti=Ra(ei),ni=Ra(ei),ri=Ra(ei);function ai(e){if(e===ei)throw Error(s(174));return e}function si(e,t){switch(Oa(ri,t),Oa(ni,e),Oa(ti,ei),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ta(ti),Oa(ti,t)}function ii(){Ta(ti),Ta(ni),Ta(ri)}function oi(e){ai(ri.current);var t=ai(ti.current),n=le(t,e.type);t!==n&&(Oa(ni,e),Oa(ti,n))}function li(e){ni.current===e&&(Ta(ti),Ta(ni))}var ci=Ra(0);function di(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ui=[];function hi(){for(var e=0;e<ui.length;e++)ui[e]._workInProgressVersionPrimary=null;ui.length=0}var mi=v.ReactCurrentDispatcher,fi=v.ReactCurrentBatchConfig,pi=0,xi=null,gi=null,bi=null,yi=!1,vi=!1,wi=0,Ni=0;function ji(){throw Error(s(321))}function ki(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function Si(e,t,n,r,a,i){if(pi=i,xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mi.current=null===e||null===e.memoizedState?lo:co,e=n(r,a),vi){i=0;do{if(vi=!1,wi=0,25<=i)throw Error(s(301));i+=1,bi=gi=null,t.updateQueue=null,mi.current=uo,e=n(r,a)}while(vi)}if(mi.current=oo,t=null!==gi&&null!==gi.next,pi=0,bi=gi=xi=null,yi=!1,t)throw Error(s(300));return e}function _i(){var e=0!==wi;return wi=0,e}function Ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===bi?xi.memoizedState=bi=e:bi=bi.next=e,bi}function Ci(){if(null===gi){var e=xi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var t=null===bi?xi.memoizedState:bi.next;if(null!==t)bi=t,gi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===bi?xi.memoizedState=bi=e:bi=bi.next=e}return bi}function Li(e,t){return"function"===typeof t?t(e):t}function Pi(e){var t=Ci(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=gi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((pi&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,xi.lanes|=u,Gl|=u}d=d.next}while(null!==d&&d!==i);null===c?o=r:c.next=l,ir(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,xi.lanes|=i,Gl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ei(e){var t=Ci(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);ir(i,t.memoizedState)||(Lo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Fi(){}function Ri(e,t){var n=xi,r=Ci(),a=t(),i=!ir(r.memoizedState,a);if(i&&(r.memoizedState=a,Lo=!0),r=r.queue,Vi(Ii.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==bi&&1&bi.memoizedState.tag){if(n.flags|=2048,Bi(9,Oi.bind(null,n,r,a,t),void 0,null),null===Ml)throw Error(s(349));0!==(30&pi)||Ti(n,t,a)}return a}function Ti(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xi.updateQueue)?(t={lastEffect:null,stores:null},xi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oi(e,t,n,r){t.value=n,t.getSnapshot=r,Di(t)&&zi(e)}function Ii(e,t,n){return n(function(){Di(t)&&zi(e)})}function Di(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(Er){return!0}}function zi(e){var t=Ws(e,1);null!==t&&hc(t,e,1,-1)}function Mi(e){var t=Ai();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},t.queue=e,e=e.dispatch=ro.bind(null,xi,e),[t.memoizedState,e]}function Bi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=xi.updateQueue)?(t={lastEffect:null,stores:null},xi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ui(){return Ci().memoizedState}function qi(e,t,n,r){var a=Ai();xi.flags|=e,a.memoizedState=Bi(1|t,n,void 0,void 0===r?null:r)}function Hi(e,t,n,r){var a=Ci();r=void 0===r?null:r;var s=void 0;if(null!==gi){var i=gi.memoizedState;if(s=i.destroy,null!==r&&ki(r,i.deps))return void(a.memoizedState=Bi(t,n,s,r))}xi.flags|=e,a.memoizedState=Bi(1|t,n,s,r)}function Wi(e,t){return qi(8390656,8,e,t)}function Vi(e,t){return Hi(2048,8,e,t)}function Gi(e,t){return Hi(4,2,e,t)}function Yi(e,t){return Hi(4,4,e,t)}function Ji(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ki(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Hi(4,4,Ji.bind(null,t,e),n)}function $i(){}function Xi(e,t){var n=Ci();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ki(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qi(e,t){var n=Ci();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ki(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zi(e,t,n){return 0===(21&pi)?(e.baseState&&(e.baseState=!1,Lo=!0),e.memoizedState=n):(ir(n,t)||(n=ft(),xi.lanes|=n,Gl|=n,e.baseState=!0),t)}function eo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fi.transition;fi.transition={};try{e(!1),t()}finally{bt=n,fi.transition=r}}function to(){return Ci().memoizedState}function no(e,t,n){var r=uc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ao(e))so(t,n);else if(null!==(n=Hs(e,t,n,r))){hc(n,e,r,dc()),io(n,t,r)}}function ro(e,t,n){var r=uc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ao(e))so(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,ir(o,i)){var l=t.interleaved;return null===l?(a.next=a,qs(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(Lr){}null!==(n=Hs(e,t,a,r))&&(hc(n,e,r,a=dc()),io(n,t,r))}}function ao(e){var t=e.alternate;return e===xi||null!==t&&t===xi}function so(e,t){vi=yi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var oo={readContext:Bs,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useInsertionEffect:ji,useLayoutEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useMutableSource:ji,useSyncExternalStore:ji,useId:ji,unstable_isNewReconciler:!1},lo={readContext:Bs,useCallback:function(e,t){return Ai().memoizedState=[e,void 0===t?null:t],e},useContext:Bs,useEffect:Wi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qi(4194308,4,Ji.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qi(4194308,4,e,t)},useInsertionEffect:function(e,t){return qi(4,2,e,t)},useMemo:function(e,t){var n=Ai();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ai();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=no.bind(null,xi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ai().memoizedState=e},useState:Mi,useDebugValue:$i,useDeferredValue:function(e){return Ai().memoizedState=e},useTransition:function(){var e=Mi(!1),t=e[0];return e=eo.bind(null,e[1]),Ai().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xi,a=Ai();if(fs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ml)throw Error(s(349));0!==(30&pi)||Ti(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Wi(Ii.bind(null,r,i,e),[e]),r.flags|=2048,Bi(9,Oi.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ai(),t=Ml.identifierPrefix;if(fs){var n=os;t=":"+t+"R"+(n=(is&~(1<<32-st(is)-1)).toString(32)+n),0<(n=wi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ni++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},co={readContext:Bs,useCallback:Xi,useContext:Bs,useEffect:Vi,useImperativeHandle:Ki,useInsertionEffect:Gi,useLayoutEffect:Yi,useMemo:Qi,useReducer:Pi,useRef:Ui,useState:function(){return Pi(Li)},useDebugValue:$i,useDeferredValue:function(e){return Zi(Ci(),gi.memoizedState,e)},useTransition:function(){return[Pi(Li)[0],Ci().memoizedState]},useMutableSource:Fi,useSyncExternalStore:Ri,useId:to,unstable_isNewReconciler:!1},uo={readContext:Bs,useCallback:Xi,useContext:Bs,useEffect:Vi,useImperativeHandle:Ki,useInsertionEffect:Gi,useLayoutEffect:Yi,useMemo:Qi,useReducer:Ei,useRef:Ui,useState:function(){return Ei(Li)},useDebugValue:$i,useDeferredValue:function(e){var t=Ci();return null===gi?t.memoizedState=e:Zi(t,gi.memoizedState,e)},useTransition:function(){return[Ei(Li)[0],Ci().memoizedState]},useMutableSource:Fi,useSyncExternalStore:Ri,useId:to,unstable_isNewReconciler:!1};function ho(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dc(),a=uc(e),s=Js(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ks(e,s,a))&&(hc(t,e,a,r),$s(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dc(),a=uc(e),s=Js(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ks(e,s,a))&&(hc(t,e,a,r),$s(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dc(),r=uc(e),a=Js(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ks(e,a,r))&&(hc(t,e,r,n),$s(t,e,r))}};function po(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(a,s))}function xo(e,t,n){var r=!1,a=Ia,s=t.contextType;return"object"===typeof s&&null!==s?s=Bs(s):(a=Ua(t)?Ma:Da.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ba(e,a):Ia),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Gs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Bs(s):(s=Ua(t)?Ma:Da.current,a.context=Ba(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(mo(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&fo.enqueueReplaceState(a,a.state,null),Qs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function yo(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(Pr){a="\nError generating stack: "+Pr.message+"\n"+Pr.stack}return{value:e,source:t,stack:a,digest:null}}function vo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function wo(e,t){try{console.error(t.value)}catch(_r){setTimeout(function(){throw _r})}}var No="function"===typeof WeakMap?WeakMap:Map;function jo(e,t,n){(n=Js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ec||(ec=!0,tc=r),wo(0,t)},n}function ko(e,t,n){(n=Js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){wo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){wo(0,t),"function"!==typeof r&&(null===nc?nc=new Set([this]):nc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function So(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new No;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Oc.bind(null,e,t,n),t.then(e,e))}function _o(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ao(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Js(-1,1)).tag=2,Ks(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Co=v.ReactCurrentOwner,Lo=!1;function Po(e,t,n,r){t.child=null===e?Es(t,null,n,r):Ps(t,e.child,n,r)}function Eo(e,t,n,r,a){n=n.render;var s=t.ref;return Ms(t,a),r=Si(e,t,n,r,s,a),n=_i(),null===e||Lo?(fs&&n&&ds(t),t.flags|=1,Po(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,el(e,t,a))}function Fo(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||qc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ro(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:or)(i,r)&&e.ref===t.ref)return el(e,t,a)}return t.flags|=1,(e=Hc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ro(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(or(s,r)&&e.ref===t.ref){if(Lo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,el(e,t,a);0!==(131072&e.flags)&&(Lo=!0)}}return Io(e,t,n,r,a)}function To(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oa(Hl,ql),ql|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oa(Hl,ql),ql|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Oa(Hl,ql),ql|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Oa(Hl,ql),ql|=r;return Po(e,t,a,n),t.child}function Oo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Io(e,t,n,r,a){var s=Ua(n)?Ma:Da.current;return s=Ba(t,s),Ms(t,a),n=Si(e,t,n,r,s,a),r=_i(),null===e||Lo?(fs&&r&&ds(t),t.flags|=1,Po(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,el(e,t,a))}function Do(e,t,n,r,a){if(Ua(n)){var s=!0;Va(t)}else s=!1;if(Ms(t,a),null===t.stateNode)Zo(e,t),xo(t,n,r),bo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Bs(c):c=Ba(t,c=Ua(n)?Ma:Da.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&go(t,i,r,c),Vs=!1;var h=t.memoizedState;i.state=h,Qs(t,r,i,a),l=t.memoizedState,o!==r||h!==l||za.current||Vs?("function"===typeof d&&(mo(t,n,d,r),l=t.memoizedState),(o=Vs||po(t,n,o,r,h,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ys(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ho(t.type,o),i.props=c,u=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Bs(l):l=Ba(t,l=Ua(n)?Ma:Da.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||h!==l)&&go(t,i,r,l),Vs=!1,h=t.memoizedState,i.state=h,Qs(t,r,i,a);var f=t.memoizedState;o!==u||h!==f||za.current||Vs?("function"===typeof m&&(mo(t,n,m,r),f=t.memoizedState),(c=Vs||po(t,n,c,r,h,f,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return zo(e,t,n,r,s,a)}function zo(e,t,n,r,a,s){Oo(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Ga(t,n,!1),el(e,t,s);r=t.stateNode,Co.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Ps(t,e.child,null,s),t.child=Ps(t,null,o,s)):Po(e,t,o,s),t.memoizedState=r.state,a&&Ga(t,n,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?Ha(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ha(0,t.context,!1),si(e,t.containerInfo)}function Bo(e,t,n,r,a){return js(),ks(a),t.flags|=256,Po(e,t,n,r),t.child}var Uo,qo,Ho,Wo,Vo={dehydrated:null,treeContext:null,retryLane:0};function Go(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yo(e,t,n){var r,a=t.pendingProps,i=ci.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Oa(ci,1&i),null===e)return ys(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Gc(l,a,0,null),e=Vc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Go(n),t.memoizedState=Vo,e):Jo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Ko(e,t,o,r=vo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Gc({mode:"visible",children:r.children},a,0,null),(i=Vc(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Ps(t,e.child,null,o),t.child.memoizedState=Go(o),t.memoizedState=Vo,i);if(0===(1&t.mode))return Ko(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Ko(e,t,o,r=vo(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),Lo||l){if(null!==(r=Ml)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ws(e,a),hc(r,e,a,-1))}return Sc(),Ko(e,t,o,r=vo(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Dc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ms=ba(a.nextSibling),hs=t,fs=!0,ps=null,null!==e&&(ns[rs++]=is,ns[rs++]=os,ns[rs++]=as,is=e.id,os=e.overflow,as=t),t=Jo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Hc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Hc(r,o):(o=Vc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Go(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Vo,a}return e=(o=e.child).sibling,a=Hc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Jo(e,t){return(t=Gc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ko(e,t,n,r){return null!==r&&ks(r),Ps(t,e.child,null,n),(e=Jo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $o(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),zs(e.return,t,n)}function Xo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Qo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Po(e,t,r.children,n),0!==(2&(r=ci.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,n,t);else if(19===e.tag)$o(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oa(ci,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===di(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Xo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===di(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Xo(t,!0,n,null,s);break;case"together":Xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function el(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Gl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Hc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function tl(e,t){if(!fs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(us(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nl(t),null;case 1:case 17:return Ua(t.type)&&qa(),nl(t),null;case 3:return r=t.stateNode,ii(),Ta(za),Ta(Da),hi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ws(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ps&&(xc(ps),ps=null))),qo(e,t),nl(t),null;case 5:li(t);var a=ai(ri.current);if(n=t.type,null!==e&&null!=t.stateNode)Ho(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=ai(ti.current),ws(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[wa]=t,r[Na]=i,e=0!==(1&t.mode),n){case"dialog":Yr("cancel",r),Yr("close",r);break;case"iframe":case"object":case"embed":Yr("load",r);break;case"video":case"audio":for(a=0;a<qr.length;a++)Yr(qr[a],r);break;case"source":Yr("error",r);break;case"img":case"image":case"link":Yr("error",r),Yr("load",r);break;case"details":Yr("toggle",r);break;case"input":$(r,i),Yr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Yr("invalid",r);break;case"textarea":ae(r,i),Yr("invalid",r)}for(var l in ge(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&oa(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&oa(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Yr("scroll",r)}switch(n){case"input":G(r),Z(r,i,!0);break;case"textarea":G(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=la)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[wa]=t,e[Na]=r,Uo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Yr("cancel",e),Yr("close",e),a=r;break;case"iframe":case"object":case"embed":Yr("load",e),a=r;break;case"video":case"audio":for(a=0;a<qr.length;a++)Yr(qr[a],e);a=r;break;case"source":Yr("error",e),a=r;break;case"img":case"image":case"link":Yr("error",e),Yr("load",e),a=r;break;case"details":Yr("toggle",e),a=r;break;case"input":$(e,r),a=K(e,r),Yr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=D({},r,{value:void 0}),Yr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Yr("invalid",e)}for(i in ge(n,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?pe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&de(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Yr("scroll",e):null!=d&&y(e,i,d,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=la)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return nl(t),null;case 6:if(e&&null!=t.stateNode)Wo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=ai(ri.current),ai(ti.current),ws(t)){if(r=t.stateNode,n=t.memoizedProps,r[wa]=t,(i=r.nodeValue!==n)&&null!==(e=hs))switch(e.tag){case 3:oa(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&oa(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[wa]=t,t.stateNode=r}return nl(t),null;case 13:if(Ta(ci),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(fs&&null!==ms&&0!==(1&t.mode)&&0===(128&t.flags))Ns(),js(),t.flags|=98560,i=!1;else if(i=ws(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[wa]=t}else js(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else null!==ps&&(xc(ps),ps=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ci.current)?0===Wl&&(Wl=3):Sc())),null!==t.updateQueue&&(t.flags|=4),nl(t),null);case 4:return ii(),qo(e,t),null===e&&Xr(t.stateNode.containerInfo),nl(t),null;case 10:return Ds(t.type._context),nl(t),null;case 19:if(Ta(ci),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)tl(i,!1);else{if(0!==Wl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=di(e))){for(t.flags|=128,tl(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oa(ci,1&ci.current|2),t.child}e=e.sibling}null!==i.tail&&$e()>Ql&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=di(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!fs)return nl(t),null}else 2*$e()-i.renderingStartTime>Ql&&1073741824!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,n=ci.current,Oa(ci,r?1&n|2:1&n),t):(nl(t),null);case 22:case 23:return wc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ql)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function al(e,t){switch(us(t),t.tag){case 1:return Ua(t.type)&&qa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ii(),Ta(za),Ta(Da),hi(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return li(t),null;case 13:if(Ta(ci),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));js()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ta(ci),null;case 4:return ii(),null;case 10:return Ds(t.type._context),null;case 22:case 23:return wc(),null;default:return null}}Uo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qo=function(){},Ho=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ai(ti.current);var s,i=null;switch(n){case"input":a=K(e,a),r=K(e,r),i=[];break;case"select":a=D({},a,{value:void 0}),r=D({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=la)}for(d in ge(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Yr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Wo=function(e,t,n,r){n!==r&&(t.flags|=4)};var sl=!1,il=!1,ol="function"===typeof WeakSet?WeakSet:Set,ll=null;function cl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Er){Tc(e,t,Er)}else n.current=null}function dl(e,t,n){try{n()}catch(Er){Tc(e,t,Er)}}var ul=!1;function hl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&dl(t,n,s)}a=a.next}while(a!==r)}}function ml(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function pl(e){var t=e.alternate;null!==t&&(e.alternate=null,pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[wa],delete t[Na],delete t[ka],delete t[Sa],delete t[_a])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xl(e){return 5===e.tag||3===e.tag||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=la));else if(4!==r&&null!==(e=e.child))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}var vl=null,wl=!1;function Nl(e,t,n){for(n=n.child;null!==n;)jl(e,t,n),n=n.sibling}function jl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(Cr){}switch(n.tag){case 5:il||cl(n,t);case 6:var r=vl,a=wl;vl=null,Nl(e,t,n),wl=a,null!==(vl=r)&&(wl?(e=vl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):vl.removeChild(n.stateNode));break;case 18:null!==vl&&(wl?(e=vl,n=n.stateNode,8===e.nodeType?ga(e.parentNode,n):1===e.nodeType&&ga(e,n),Ut(e)):ga(vl,n.stateNode));break;case 4:r=vl,a=wl,vl=n.stateNode.containerInfo,wl=!0,Nl(e,t,n),vl=r,wl=a;break;case 0:case 11:case 14:case 15:if(!il&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&dl(n,t,i),a=a.next}while(a!==r)}Nl(e,t,n);break;case 1:if(!il&&(cl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Cr){Tc(n,t,Cr)}Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:1&n.mode?(il=(r=il)||null!==n.memoizedState,Nl(e,t,n),il=r):Nl(e,t,n);break;default:Nl(e,t,n)}}function kl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ol),t.forEach(function(t){var r=zc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Sl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:vl=l.stateNode,wl=!1;break e;case 3:case 4:vl=l.stateNode.containerInfo,wl=!0;break e}l=l.return}if(null===vl)throw Error(s(160));jl(i,o,a),vl=null,wl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(Lr){Tc(a,t,Lr)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)_l(t,e),t=t.sibling}function _l(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sl(t,e),Al(e),4&r){try{hl(3,e,e.return),ml(3,e)}catch(ss){Tc(e,e.return,ss)}try{hl(5,e,e.return)}catch(ss){Tc(e,e.return,ss)}}break;case 1:Sl(t,e),Al(e),512&r&&null!==n&&cl(n,n.return);break;case 5:if(Sl(t,e),Al(e),512&r&&null!==n&&cl(n,n.return),32&e.flags){var a=e.stateNode;try{ue(a,"")}catch(ss){Tc(e,e.return,ss)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(a,i),be(l,o);var d=be(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?pe(a,h):"dangerouslySetInnerHTML"===u?de(a,h):"children"===u?ue(a,h):y(a,u,h,d)}switch(l){case"input":Q(a,i);break;case"textarea":se(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;null!=f?ne(a,!!i.multiple,f,!1):m!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[Na]=i}catch(ss){Tc(e,e.return,ss)}}break;case 6:if(Sl(t,e),Al(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(ss){Tc(e,e.return,ss)}}break;case 3:if(Sl(t,e),Al(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(ss){Tc(e,e.return,ss)}break;case 4:default:Sl(t,e),Al(e);break;case 13:Sl(t,e),Al(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Xl=$e())),4&r&&kl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(il=(d=il)||u,Sl(t,e),il=d):Sl(t,e),Al(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(ll=e,u=e.child;null!==u;){for(h=ll=u;null!==ll;){switch(f=(m=ll).child,m.tag){case 0:case 11:case 14:case 15:hl(4,m,m.return);break;case 1:cl(m,m.return);var p=m.stateNode;if("function"===typeof p.componentWillUnmount){r=m,n=m.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(ss){Tc(r,n,ss)}}break;case 5:cl(m,m.return);break;case 22:if(null!==m.memoizedState){El(h);continue}}null!==f?(f.return=m,ll=f):El(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{a=h.stateNode,d?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(ss){Tc(e,e.return,ss)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(ss){Tc(e,e.return,ss)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sl(t,e),Al(e),4&r&&kl(e);case 21:}}function Al(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(xl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(ue(a,""),r.flags&=-33),yl(e,gl(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;bl(e,gl(e),i);break;default:throw Error(s(161))}}catch(Gr){Tc(e,e.return,Gr)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Cl(e,t,n){ll=e,Ll(e,t,n)}function Ll(e,t,n){for(var r=0!==(1&e.mode);null!==ll;){var a=ll,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||sl;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||il;o=sl;var c=il;if(sl=i,(il=l)&&!c)for(ll=a;null!==ll;)l=(i=ll).child,22===i.tag&&null!==i.memoizedState?Fl(a):null!==l?(l.return=i,ll=l):Fl(a);for(;null!==s;)ll=s,Ll(s,t,n),s=s.sibling;ll=a,sl=o,il=c}Pl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,ll=s):Pl(e)}}function Pl(e){for(;null!==ll;){var t=ll;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:il||ml(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!il)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ho(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Zs(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Zs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(s(163))}il||512&t.flags&&fl(t)}catch(m){Tc(t,t.return,m)}}if(t===e){ll=null;break}if(null!==(n=t.sibling)){n.return=t.return,ll=n;break}ll=t.return}}function El(e){for(;null!==ll;){var t=ll;if(t===e){ll=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ll=n;break}ll=t.return}}function Fl(e){for(;null!==ll;){var t=ll;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ml(4,t)}catch(Gr){Tc(t,n,Gr)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(Gr){Tc(t,a,Gr)}}var s=t.return;try{fl(t)}catch(Gr){Tc(t,s,Gr)}break;case 5:var i=t.return;try{fl(t)}catch(Gr){Tc(t,i,Gr)}}}catch(Gr){Tc(t,t.return,Gr)}if(t===e){ll=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ll=o;break}ll=t.return}}var Rl,Tl=Math.ceil,Ol=v.ReactCurrentDispatcher,Il=v.ReactCurrentOwner,Dl=v.ReactCurrentBatchConfig,zl=0,Ml=null,Bl=null,Ul=0,ql=0,Hl=Ra(0),Wl=0,Vl=null,Gl=0,Yl=0,Jl=0,Kl=null,$l=null,Xl=0,Ql=1/0,Zl=null,ec=!1,tc=null,nc=null,rc=!1,ac=null,sc=0,ic=0,oc=null,lc=-1,cc=0;function dc(){return 0!==(6&zl)?$e():-1!==lc?lc:lc=$e()}function uc(e){return 0===(1&e.mode)?1:0!==(2&zl)&&0!==Ul?Ul&-Ul:null!==Ss.transition?(0===cc&&(cc=ft()),cc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function hc(e,t,n,r){if(50<ic)throw ic=0,oc=null,Error(s(185));xt(e,n,r),0!==(2&zl)&&e===Ml||(e===Ml&&(0===(2&zl)&&(Yl|=n),4===Wl&&gc(e,Ul)),mc(e,r),1===n&&0===zl&&0===(1&t.mode)&&(Ql=$e()+500,Ja&&Xa()))}function mc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-st(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=ht(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ut(e,e===Ml?Ul:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ja=!0,$a(e)}(bc.bind(null,e)):$a(bc.bind(null,e)),pa(function(){0===(6&zl)&&Xa()}),n=null;else{switch(yt(r)){case 1:n=Qe;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=Mc(n,fc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fc(e,t){if(lc=-1,cc=0,0!==(6&zl))throw Error(s(327));var n=e.callbackNode;if(Fc()&&e.callbackNode!==n)return null;var r=ut(e,e===Ml?Ul:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=_c(e,r);else{t=r;var a=zl;zl|=2;var i=kc();for(Ml===e&&Ul===t||(Zl=null,Ql=$e()+500,Nc(e,t));;)try{Cc();break}catch(Cr){jc(e,Cr)}Is(),Ol.current=i,zl=a,null!==Bl?t=0:(Ml=null,Ul=0,t=Wl)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(r=a,t=pc(e,a))),1===t)throw n=Vl,Nc(e,0),gc(e,r),mc(e,$e()),n;if(6===t)gc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!ir(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=_c(e,r))&&(0!==(i=mt(e))&&(r=i,t=pc(e,i))),1===t))throw n=Vl,Nc(e,0),gc(e,r),mc(e,$e()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,$l,Zl);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=Xl+500-$e())){if(0!==ut(e,0))break;if(((a=e.suspendedLanes)&r)!==r){dc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ha(Ec.bind(null,e,$l,Zl),t);break}Ec(e,$l,Zl);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tl(r/1960))-r)){e.timeoutHandle=ha(Ec.bind(null,e,$l,Zl),r);break}Ec(e,$l,Zl);break;default:throw Error(s(329))}}}return mc(e,$e()),e.callbackNode===n?fc.bind(null,e):null}function pc(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(Nc(e,t).flags|=256),2!==(e=_c(e,t))&&(t=$l,$l=n,null!==t&&xc(t)),e}function xc(e){null===$l?$l=e:$l.push.apply($l,e)}function gc(e,t){for(t&=~Jl,t&=~Yl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function bc(e){if(0!==(6&zl))throw Error(s(327));Fc();var t=ut(e,0);if(0===(1&t))return mc(e,$e()),null;var n=_c(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=pc(e,r))}if(1===n)throw n=Vl,Nc(e,0),gc(e,t),mc(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,$l,Zl),mc(e,$e()),null}function yc(e,t){var n=zl;zl|=1;try{return e(t)}finally{0===(zl=n)&&(Ql=$e()+500,Ja&&Xa())}}function vc(e){null!==ac&&0===ac.tag&&0===(6&zl)&&Fc();var t=zl;zl|=1;var n=Dl.transition,r=bt;try{if(Dl.transition=null,bt=1,e)return e()}finally{bt=r,Dl.transition=n,0===(6&(zl=t))&&Xa()}}function wc(){ql=Hl.current,Ta(Hl)}function Nc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ma(n)),null!==Bl)for(n=Bl.return;null!==n;){var r=n;switch(us(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&qa();break;case 3:ii(),Ta(za),Ta(Da),hi();break;case 5:li(r);break;case 4:ii();break;case 13:case 19:Ta(ci);break;case 10:Ds(r.type._context);break;case 22:case 23:wc()}n=n.return}if(Ml=e,Bl=e=Hc(e.current,null),Ul=ql=t,Wl=0,Vl=null,Jl=Yl=Gl=0,$l=Kl=null,null!==Us){for(t=0;t<Us.length;t++)if(null!==(r=(n=Us[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}Us=null}return e}function jc(e,t){for(;;){var n=Bl;try{if(Is(),mi.current=oo,yi){for(var r=xi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yi=!1}if(pi=0,bi=gi=xi=null,vi=!1,wi=0,Il.current=null,null===n||null===n.return){Wl=1,Vl=t,Bl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Ul,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=_o(o);if(null!==f){f.flags&=-257,Ao(f,o,l,0,t),1&f.mode&&So(i,d,t),c=d;var p=(t=f).updateQueue;if(null===p){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}if(0===(1&t)){So(i,d,t),Sc();break e}c=Error(s(426))}else if(fs&&1&l.mode){var g=_o(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Ao(g,o,l,0,t),ks(yo(c,l));break e}}i=c=yo(c,l),4!==Wl&&(Wl=2),null===Kl?Kl=[i]:Kl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Xs(i,jo(0,c,t));break e;case 1:l=c;var b=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===nc||!nc.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Xs(i,ko(i,l,t));break e}}i=i.return}while(null!==i)}Pc(n)}catch(v){t=v,Bl===n&&null!==n&&(Bl=n=n.return);continue}break}}function kc(){var e=Ol.current;return Ol.current=oo,null===e?oo:e}function Sc(){0!==Wl&&3!==Wl&&2!==Wl||(Wl=4),null===Ml||0===(268435455&Gl)&&0===(268435455&Yl)||gc(Ml,Ul)}function _c(e,t){var n=zl;zl|=2;var r=kc();for(Ml===e&&Ul===t||(Zl=null,Nc(e,t));;)try{Ac();break}catch(a){jc(e,a)}if(Is(),zl=n,Ol.current=r,null!==Bl)throw Error(s(261));return Ml=null,Ul=0,Wl}function Ac(){for(;null!==Bl;)Lc(Bl)}function Cc(){for(;null!==Bl&&!Je();)Lc(Bl)}function Lc(e){var t=Rl(e.alternate,e,ql);e.memoizedProps=e.pendingProps,null===t?Pc(e):Bl=t,Il.current=null}function Pc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=rl(n,t,ql)))return void(Bl=n)}else{if(null!==(n=al(n,t)))return n.flags&=32767,void(Bl=n);if(null===e)return Wl=6,void(Bl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Bl=t);Bl=t=e}while(null!==t);0===Wl&&(Wl=5)}function Ec(e,t,n){var r=bt,a=Dl.transition;try{Dl.transition=null,bt=1,function(e,t,n,r){do{Fc()}while(null!==ac);if(0!==(6&zl))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===Ml&&(Bl=Ml=null,Ul=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||rc||(rc=!0,Mc(et,function(){return Fc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Dl.transition,Dl.transition=null;var o=bt;bt=1;var l=zl;zl|=4,Il.current=null,function(e,t){if(ca=Ht,hr(e=ur())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(Jr){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++d===a&&(l=o),m===i&&++u===r&&(c=o),null!==(f=h.nextSibling))break;m=(h=m).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(da={focusedElem:e,selectionRange:n},Ht=!1,ll=t;null!==ll;)if(e=(t=ll).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ll=e;else for(;null!==ll;){t=ll;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var x=p.memoizedProps,g=p.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:ho(t.type,x),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(Jr){Tc(t,t.return,Jr)}if(null!==(e=t.sibling)){e.return=t.return,ll=e;break}ll=t.return}p=ul,ul=!1}(e,n),_l(n,e),mr(da),Ht=!!ca,da=ca=null,e.current=n,Cl(n,e,a),Ke(),zl=l,bt=o,Dl.transition=i}else e.current=n;if(rc&&(rc=!1,ac=e,sc=a),i=e.pendingLanes,0===i&&(nc=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),mc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ec)throw ec=!1,e=tc,tc=null,e;0!==(1&sc)&&0!==e.tag&&Fc(),i=e.pendingLanes,0!==(1&i)?e===oc?ic++:(ic=0,oc=e):ic=0,Xa()}(e,t,n,r)}finally{Dl.transition=a,bt=r}return null}function Fc(){if(null!==ac){var e=yt(sc),t=Dl.transition,n=bt;try{if(Dl.transition=null,bt=16>e?16:e,null===ac)var r=!1;else{if(e=ac,ac=null,sc=0,0!==(6&zl))throw Error(s(331));var a=zl;for(zl|=4,ll=e.current;null!==ll;){var i=ll,o=i.child;if(0!==(16&ll.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(ll=d;null!==ll;){var u=ll;switch(u.tag){case 0:case 11:case 15:hl(8,u,i)}var h=u.child;if(null!==h)h.return=u,ll=h;else for(;null!==ll;){var m=(u=ll).sibling,f=u.return;if(pl(u),u===d){ll=null;break}if(null!==m){m.return=f,ll=m;break}ll=f}}}var p=i.alternate;if(null!==p){var x=p.child;if(null!==x){p.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}ll=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,ll=o;else e:for(;null!==ll;){if(0!==(2048&(i=ll).flags))switch(i.tag){case 0:case 11:case 15:hl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,ll=b;break e}ll=i.return}}var y=e.current;for(ll=y;null!==ll;){var v=(o=ll).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,ll=v;else e:for(o=y;null!==ll;){if(0!==(2048&(l=ll).flags))try{switch(l.tag){case 0:case 11:case 15:ml(9,l)}}catch(N){Tc(l,l.return,N)}if(l===o){ll=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,ll=w;break e}ll=l.return}}if(zl=a,Xa(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(N){}r=!0}return r}finally{bt=n,Dl.transition=t}}return!1}function Rc(e,t,n){e=Ks(e,t=jo(0,t=yo(n,t),1),1),t=dc(),null!==e&&(xt(e,1,t),mc(e,t))}function Tc(e,t,n){if(3===e.tag)Rc(e,e,n);else for(;null!==t;){if(3===t.tag){Rc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===nc||!nc.has(r))){t=Ks(t,e=ko(t,e=yo(n,e),1),1),e=dc(),null!==t&&(xt(t,1,e),mc(t,e));break}}t=t.return}}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=dc(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Ul&n)===n&&(4===Wl||3===Wl&&(130023424&Ul)===Ul&&500>$e()-Xl?Nc(e,0):Jl|=n),mc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=dc();null!==(e=Ws(e,t))&&(xt(e,t,n),mc(e,n))}function Dc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function zc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ic(e,n)}function Mc(e,t){return Ge(e,t)}function Bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uc(e,t,n,r){return new Bc(e,t,n,r)}function qc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hc(e,t){var n=e.alternate;return null===n?((n=Uc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wc(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)qc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Vc(n.children,a,i,t);case k:o=8,a|=8;break;case S:return(e=Uc(12,n,t,2|a)).elementType=S,e.lanes=i,e;case L:return(e=Uc(13,n,t,a)).elementType=L,e.lanes=i,e;case P:return(e=Uc(19,n,t,a)).elementType=P,e.lanes=i,e;case R:return Gc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case A:o=9;break e;case C:o=11;break e;case E:o=14;break e;case F:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Uc(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Vc(e,t,n,r){return(e=Uc(7,e,r,t)).lanes=n,e}function Gc(e,t,n,r){return(e=Uc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Yc(e,t,n){return(e=Uc(6,e,null,t)).lanes=n,e}function Jc(e,t,n){return(t=Uc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,a,s,i,o,l){return e=new Kc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Uc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gs(s),e}function Xc(e){if(!e)return Ia;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ua(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ua(n))return Wa(e,n,t)}return t}function Qc(e,t,n,r,a,s,i,o,l){return(e=$c(n,r,!0,e,0,s,0,o,l)).context=Xc(null),n=e.current,(s=Js(r=dc(),a=uc(n))).callback=void 0!==t&&null!==t?t:null,Ks(n,s,a),e.current.lanes=a,xt(e,a,r),mc(e,r),e}function Zc(e,t,n,r){var a=t.current,s=dc(),i=uc(a);return n=Xc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Js(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ks(a,t,i))&&(hc(e,a,i,s),$s(e,a,i)),i}function ed(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function td(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nd(e,t){td(e,t),(e=e.alternate)&&td(e,t)}Rl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||za.current)Lo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Lo=!1,function(e,t,n){switch(t.tag){case 3:Mo(t),js();break;case 5:oi(t);break;case 1:Ua(t.type)&&Va(t);break;case 4:si(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Oa(Fs,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Oa(ci,1&ci.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Yo(e,t,n):(Oa(ci,1&ci.current),null!==(e=el(e,t,n))?e.sibling:null);Oa(ci,1&ci.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Qo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Oa(ci,ci.current),r)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n)}return el(e,t,n)}(e,t,n);Lo=0!==(131072&e.flags)}else Lo=!1,fs&&0!==(1048576&t.flags)&&cs(t,ts,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zo(e,t),e=t.pendingProps;var a=Ba(t,Da.current);Ms(t,n),a=Si(null,t,r,e,a,n);var i=_i();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ua(r)?(i=!0,Va(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Gs(t),a.updater=fo,t.stateNode=a,a._reactInternals=t,bo(t,r,e,n),t=zo(null,t,r,!0,i,n)):(t.tag=0,fs&&i&&ds(t),Po(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return qc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===E)return 14}return 2}(r),e=ho(r,e),a){case 0:t=Io(null,t,r,e,n);break e;case 1:t=Do(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=Fo(null,t,r,ho(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Io(e,t,r,a=t.elementType===r?a:ho(r,a),n);case 1:return r=t.type,a=t.pendingProps,Do(e,t,r,a=t.elementType===r?a:ho(r,a),n);case 3:e:{if(Mo(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Ys(e,t),Qs(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Bo(e,t,r,n,a=yo(Error(s(423)),t));break e}if(r!==a){t=Bo(e,t,r,n,a=yo(Error(s(424)),t));break e}for(ms=ba(t.stateNode.containerInfo.firstChild),hs=t,fs=!0,ps=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(js(),r===a){t=el(e,t,n);break e}Po(e,t,r,n)}t=t.child}return t;case 5:return oi(t),null===e&&ys(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,ua(r,a)?o=null:null!==i&&ua(r,i)&&(t.flags|=32),Oo(e,t),Po(e,t,o,n),t.child;case 6:return null===e&&ys(t),null;case 13:return Yo(e,t,n);case 4:return si(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ps(t,null,r,n):Po(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Eo(e,t,r,a=t.elementType===r?a:ho(r,a),n);case 7:return Po(e,t,t.pendingProps,n),t.child;case 8:case 12:return Po(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Oa(Fs,r._currentValue),r._currentValue=o,null!==i)if(ir(i.value,o)){if(i.children===a.children&&!za.current){t=el(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Js(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),zs(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),zs(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}Po(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ms(t,n),r=r(a=Bs(a)),t.flags|=1,Po(e,t,r,n),t.child;case 14:return a=ho(r=t.type,t.pendingProps),Fo(e,t,r,a=ho(r.type,a),n);case 15:return Ro(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ho(r,a),Zo(e,t),t.tag=1,Ua(r)?(e=!0,Va(t)):e=!1,Ms(t,n),xo(t,r,a),bo(t,r,a,n),zo(null,t,r,!0,e,n);case 19:return Qo(e,t,n);case 22:return To(e,t,n)}throw Error(s(156,t.tag))};var rd="function"===typeof reportError?reportError:function(e){console.error(e)};function ad(e){this._internalRoot=e}function sd(e){this._internalRoot=e}function id(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function od(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ld(){}function cd(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=ed(i);o.call(e)}}Zc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=ed(i);s.call(e)}}var i=Qc(t,r,e,0,null,!1,0,"",ld);return e._reactRootContainer=i,e[ja]=i.current,Xr(8===e.nodeType?e.parentNode:e),vc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=ed(l);o.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",ld);return e._reactRootContainer=l,e[ja]=l.current,Xr(8===e.nodeType?e.parentNode:e),vc(function(){Zc(t,l,n,r)}),l}(n,t,e,a,r);return ed(i)}sd.prototype.render=ad.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Zc(e,t,null,null)},sd.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vc(function(){Zc(null,e,null,null)}),t[ja]=null}},sd.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&0!==t&&t<Ft[n].priority;n++);Ft.splice(n,0,e),0===n&&It(e)}},vt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),mc(t,$e()),0===(6&zl)&&(Ql=$e()+500,Xa()))}break;case 13:vc(function(){var t=Ws(e,1);if(null!==t){var n=dc();hc(t,e,1,n)}}),nd(e,1)}},wt=function(e){if(13===e.tag){var t=Ws(e,134217728);if(null!==t)hc(t,e,134217728,dc());nd(e,134217728)}},Nt=function(e){if(13===e.tag){var t=uc(e),n=Ws(e,t);if(null!==n)hc(n,e,t,dc());nd(e,t)}},jt=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Pa(r);if(!a)throw Error(s(90));Y(r),Q(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=yc,Ce=vc;var dd={usingClientEntryPoint:!1,Events:[Ca,La,Pa,Se,_e,yc]},ud={findFiberByHostInstance:Aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hd={bundleType:ud.bundleType,version:ud.version,rendererPackageName:ud.rendererPackageName,rendererConfig:ud.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ud.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{rt=md.inject(hd),at=md}catch(jr){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dd,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!id(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!id(e))throw Error(s(299));var n=!1,r="",a=rd;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,a),e[ja]=t.current,Xr(8===e.nodeType?e.parentNode:e),new ad(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return vc(e)},t.hydrate=function(e,t,n){if(!od(t))throw Error(s(200));return cd(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!id(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=rd;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Qc(t,null,e,1,null!=n?n:null,a,0,i,o),e[ja]=t.current,Xr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new sd(t)},t.render=function(e,t,n){if(!od(t))throw Error(s(200));return cd(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!od(e))throw Error(s(40));return!!e._reactRootContainer&&(vc(function(){cd(null,null,e,!1,function(){e._reactRootContainer=null,e[ja]=null})}),!0)},t.unstable_batchedUpdates=yc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!od(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return cd(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,p(v,g.prototype),v.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,j={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)N.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:j.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function L(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+C(l,0):s,w(i)?(a="",null!=e&&(a=e.replace(A,"$&/")+"/"),L(i,t,a,"",function(e){return e})):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(A,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+C(o=e[c],c);l+=L(o,t,a,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=L(o=o.value,t,a,d=s+C(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],a=0;return L(e,r,"","",function(e){return t.call(n,e,a++)}),r}function E(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F={current:null},R={transition:null},T={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:R,ReactCurrentOwner:j};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=i,t.PureComponent=y,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=j.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return F.current.useCallback(e,t)},t.useContext=function(e){return F.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return F.current.useDeferredValue(e)},t.useEffect=function(e,t){return F.current.useEffect(e,t)},t.useId=function(){return F.current.useId()},t.useImperativeHandle=function(e,t,n){return F.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return F.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return F.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return F.current.useMemo(e,t)},t.useReducer=function(e,t,n){return F.current.useReducer(e,t,n)},t.useRef=function(e){return F.current.useRef(e)},t.useState=function(e){return F.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return F.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return F.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4980:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(2284);function a(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=(0,r.A)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5043:(e,t,n)=>{e.exports=n(4202)},6291:(e,t,n)=>{n.d(t,{Sj:()=>i,Yv:()=>o,dW:()=>c,mA:()=>d,tk:()=>l});var r=n(9722);const a="http://127.0.0.1:5000/api";console.log("API_BASE_URL:",a),console.log("Environment:","production"),console.log("Window location:",window.location.href);const s=r.A.create({baseURL:a,headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},timeout:15e3,withCredentials:!1});s.interceptors.request.use(e=>{var t;const n=localStorage.getItem("token");return n&&(e.headers.Authorization="Bearer ".concat(n)),console.log("\ud83c\udf10 API Request:",{method:null===(t=e.method)||void 0===t?void 0:t.toUpperCase(),url:e.url,baseURL:e.baseURL,fullURL:"".concat(e.baseURL).concat(e.url),headers:e.headers,timeout:e.timeout,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,location:window.location.href}),e},e=>(console.error("\u274c API Request Error:",e),Promise.reject(e))),s.interceptors.response.use(e=>(console.log("\u2705 API Response:",{status:e.status,statusText:e.statusText,url:e.config.url,dataLength:e.data?JSON.stringify(e.data).length:0,headers:e.headers,timestamp:(new Date).toISOString()}),e),async e=>{var t,n,r,a,i;if(console.error("\u274c API Response Error:",{status:null===(t=e.response)||void 0===t?void 0:t.status,statusText:null===(n=e.response)||void 0===n?void 0:n.statusText,url:null===(r=e.config)||void 0===r?void 0:r.url,message:e.message,code:e.code,timeout:"ECONNABORTED"===e.code,networkError:!e.response,fullError:e,timestamp:(new Date).toISOString()}),"NETWORK_ERROR"===e.code||"ECONNABORTED"===e.code||"ERR_NETWORK"===e.code||!e.response){console.log("Network error detected, attempting retry...");const t=e.config;if(!t||t.__retryCount>=3)return Promise.reject(e);t.__retryCount||(t.__retryCount=0),t.__retryCount++,console.log("Retrying request (".concat(t.__retryCount,"/3)..."));const n=1e3*Math.pow(2,t.__retryCount-1);return await new Promise(e=>setTimeout(e,n)),s(t)}return 401===(null===(a=e.response)||void 0===a?void 0:a.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.reload()),(null===(i=e.response)||void 0===i?void 0:i.status)>=500&&console.error("Server error:",e.response.status,e.response.data),Promise.reject(e)});const i={getAll:()=>s.get("/tournaments?t=".concat(Date.now())),getById:e=>s.get("/tournaments/".concat(e,"?t=").concat(Date.now())),getPublic:e=>s.get("/tournaments/".concat(e,"/public?t=").concat(Date.now())),create:e=>s.post("/tournaments",e),update:(e,t)=>s.put("/tournaments/".concat(e),t),delete:e=>s.delete("/tournaments/".concat(e)),completeTournament:e=>s.post("/tournaments/".concat(e,"/complete")),getPrizes:e=>s.get("/tournaments/".concat(e,"/prizes")),calculatePrizes:e=>s.post("/tournaments/".concat(e,"/prizes/calculate")),updatePrizeSettings:(e,t)=>s.put("/tournaments/".concat(e,"/prize-settings"),{prizeSettings:t}),getTeamStandings:(e,t)=>{const n=new URLSearchParams;return null!==t&&void 0!==t&&t.scoring_method&&n.append("scoring_method",t.scoring_method),null!==t&&void 0!==t&&t.top_n&&n.append("top_n",t.top_n.toString()),n.append("t",Date.now().toString()),s.get("/teams/tournament/".concat(e,"/standings?").concat(n.toString()))},getTeamPairings:(e,t)=>s.get("/teams/tournament/".concat(e,"/round/").concat(t,"/results?t=").concat(Date.now())),getTeamMatchResults:(e,t)=>s.get("/teams/tournament/".concat(e,"/round/").concat(t,"/match-results?t=").concat(Date.now()))},o={getByTournament:e=>s.get("/players/tournament/".concat(e,"?t=").concat(Date.now())),getById:e=>s.get("/players/".concat(e,"?t=").concat(Date.now())),create:e=>s.post("/players",e),update:(e,t)=>s.put("/players/".concat(e),t),delete:e=>s.delete("/players/".concat(e)),bulkCreate:(e,t)=>s.post("/players/bulk",{tournament_id:e,players:t}),search:(e,t)=>s.get("/players/search?q=".concat(encodeURIComponent(e)).concat(t?"&limit=".concat(t):"","&t=").concat(Date.now())),getDetails:e=>s.get("/players/details/".concat(e,"?t=").concat(Date.now())),downloadTemplate:()=>s.get("/players/csv-template",{responseType:"blob"}),uploadCSV:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=new FormData;return r.append("csvFile",e),r.append("tournament_id",t),r.append("lookup_ratings",n.toString()),s.post("/players/csv-upload",r,{headers:{"Content-Type":"multipart/form-data"}})},importCSV:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return s.post("/players/csv-import",{tournament_id:e,players:t,lookup_ratings:n})},setInactiveRound:(e,t,n)=>s.post("/players/".concat(e,"/inactive-round"),{round:t,reason:n}),removeInactiveRound:(e,t)=>s.delete("/players/".concat(e,"/inactive-round/").concat(t)),getInactiveRounds:e=>s.get("/players/".concat(e,"/inactive-rounds?t=").concat(Date.now())),getTournamentInactiveRounds:e=>s.get("/players/tournament/".concat(e,"/inactive-rounds?t=").concat(Date.now()))},l={getByRound:(e,t)=>s.get("/pairings/tournament/".concat(e,"/round/").concat(t,"?t=").concat(Date.now())),getDisplay:(e,t)=>{const n=new URLSearchParams;return null!==t&&void 0!==t&&t.round&&n.append("round",t.round.toString()),null!==t&&void 0!==t&&t.display_format&&n.append("display_format",t.display_format),void 0!==(null===t||void 0===t?void 0:t.show_ratings)&&n.append("show_ratings",t.show_ratings.toString()),void 0!==(null===t||void 0===t?void 0:t.show_uscf_ids)&&n.append("show_uscf_ids",t.show_uscf_ids.toString()),void 0!==(null===t||void 0===t?void 0:t.board_numbers)&&n.append("board_numbers",t.board_numbers.toString()),n.append("t",Date.now().toString()),s.get("/pairings/tournament/".concat(e,"/display?").concat(n.toString()))},generate:(e,t)=>s.post("/pairings/generate",{tournamentId:e,round:t}),generateForSection:(e,t,n)=>s.post("/pairings/generate/section",{tournamentId:e,round:t,sectionName:n}),updateResult:(e,t)=>s.put("/pairings/".concat(e,"/result"),{result:t}),completeRound:(e,t,n)=>s.post("/pairings/tournament/".concat(e,"/round/").concat(t,"/complete"),{sectionName:n}),getRoundStatus:(e,t,n)=>s.get("/pairings/tournament/".concat(e,"/round/").concat(t,"/status?t=").concat(Date.now()).concat(n?"&section=".concat(n):"")),getStandings:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s.get("/pairings/tournament/".concat(e,"/standings?t=").concat(Date.now(),"&includeRoundResults=").concat(t,"&showPrizes=").concat(n))},resetPairings:(e,t)=>s.delete("/pairings/tournament/".concat(e,"/round/").concat(t))},c={exportDBF:(e,t)=>s.get("/export/dbf/".concat(e).concat(t?"?exportPath=".concat(encodeURIComponent(t)):"")),downloadDBF:e=>s.get("/export/dbf/".concat(e,"/download"),{responseType:"blob"}),getExportStatus:e=>s.get("/export/status/".concat(e))},d={getTournamentInfo:e=>s.get("/registrations/tournament/".concat(e,"/info")),searchPlayers:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.get("/registrations/search-players?q=".concat(encodeURIComponent(e),"&limit=").concat(t))},submitRegistration:e=>s.post("/registrations/submit",e),getRegistrationStatus:e=>s.get("/registrations/status/".concat(e))}},7234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,n))c<a&&0>s(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,p=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(x=!1,v(e),!p)if(null!==r(c))p=!0,R(N);else{var t=r(d);null!==t&&T(w,t.startTime-e)}}function N(e,n){p=!1,x&&(x=!1,b(_),_=-1),f=!0;var s=m;try{for(v(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!L());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),v(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&T(w,u.startTime-n),l=!1}return l}finally{h=null,m=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,k=!1,S=null,_=-1,A=5,C=-1;function L(){return!(t.unstable_now()-C<A)}function P(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?j():(k=!1,S=null)}}else k=!1}if("function"===typeof y)j=function(){y(P)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,F=E.port2;E.port1.onmessage=P,j=function(){F.postMessage(null)}}else j=function(){g(P,0)};function R(e){S=e,k||(k=!0,j())}function T(e,n){_=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,R(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(x?(b(_),_=-1):x=!0,T(w,s-i))):(e.sortIndex=o,n(c,e),p||f||(p=!0,R(N))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},7950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(er){console.error(er)}}(),e.exports=n(2730)},8853:(e,t,n)=>{e.exports=n(7234)},9379:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(4980);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},9722:(e,t,n)=>{n.d(t,{A:()=>At});var r={};function a(e,t){return function(){return e.apply(t,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:()=>de,hasStandardBrowserEnv:()=>he,hasStandardBrowserWebWorkerEnv:()=>me,navigator:()=>ue,origin:()=>fe});const{toString:s}=Object.prototype,{getPrototypeOf:i}=Object,{iterator:o,toStringTag:l}=Symbol,c=(d=Object.create(null),e=>{const t=s.call(e);return d[t]||(d[t]=t.slice(8,-1).toLowerCase())});var d;const u=e=>(e=e.toLowerCase(),t=>c(t)===e),h=e=>t=>typeof t===e,{isArray:m}=Array,f=h("undefined");function p(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const x=u("ArrayBuffer");const g=h("string"),b=h("function"),y=h("number"),v=e=>null!==e&&"object"===typeof e,w=e=>{if("object"!==c(e))return!1;const t=i(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(l in e)&&!(o in e)},N=u("Date"),j=u("File"),k=u("Blob"),S=u("FileList"),_=u("URLSearchParams"),[A,C,L,P]=["ReadableStream","Request","Response","Headers"].map(u);function E(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),m(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(p(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let i;for(n=0;n<s;n++)i=r[n],t.call(null,e[i],i,e)}}function F(e,t){if(p(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const R="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,T=e=>!f(e)&&e!==R;const O=(I="undefined"!==typeof Uint8Array&&i(Uint8Array),e=>I&&e instanceof I);var I;const D=u("HTMLFormElement"),z=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),M=u("RegExp"),B=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};E(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const U=u("AsyncFunction"),q=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],R.addEventListener("message",e=>{let{source:t,data:a}=e;t===R&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),R.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,b(R.postMessage)),H="undefined"!==typeof queueMicrotask?queueMicrotask.bind(R):"undefined"!==typeof process&&process.nextTick||q,W={isArray:m,isArrayBuffer:x,isBuffer:p,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||b(e.append)&&("formdata"===(t=c(e))||"object"===t&&b(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&x(e.buffer),t},isString:g,isNumber:y,isBoolean:e=>!0===e||!1===e,isObject:v,isPlainObject:w,isEmptyObject:e=>{if(!v(e)||p(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:A,isRequest:C,isResponse:L,isHeaders:P,isUndefined:f,isDate:N,isFile:j,isBlob:k,isRegExp:M,isFunction:b,isStream:e=>v(e)&&b(e.pipe),isURLSearchParams:_,isTypedArray:O,isFileList:S,forEach:E,merge:function e(){const{caseless:t,skipUndefined:n}=T(this)&&this||{},r={},a=(a,s)=>{const i=t&&F(r,s)||s;w(r[i])&&w(a)?r[i]=e(r[i],a):w(a)?r[i]=e({},a):m(a)?r[i]=a.slice():n&&f(a)||(r[i]=a)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&E(arguments[s],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return E(t,(t,r)=>{n&&b(t)?e[r]=a(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,o;const l={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],r&&!r(o,e,t)||l[o]||(t[o]=e[o],l[o]=!0);e=!1!==n&&i(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:u,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(m(e))return e;let t=e.length;if(!y(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[o]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:D,hasOwnProperty:z,hasOwnProp:z,reduceDescriptors:B,freezeMethods:e=>{B(e,(t,n)=>{if(b(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];b(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return m(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:F,global:R,isContextDefined:T,isSpecCompliantForm:function(e){return!!(e&&b(e.append)&&"FormData"===e[l]&&e[o])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(v(e)){if(t.indexOf(e)>=0)return;if(p(e))return e;if(!("toJSON"in e)){t[r]=e;const a=m(e)?[]:{};return E(e,(e,t)=>{const s=n(e,r+1);!f(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:U,isThenable:e=>e&&(v(e)||b(e))&&b(e.then)&&b(e.catch),setImmediate:q,asap:H,isIterable:e=>null!=e&&b(e[o])};function V(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const G=V.prototype,Y={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Y[e]={value:e}}),Object.defineProperties(V,Y),Object.defineProperty(G,"isAxiosError",{value:!0}),V.from=(e,t,n,r,a,s)=>{const i=Object.create(G);W.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return V.call(i,o,l,n,r,a),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const J=V;function K(e){return W.isPlainObject(e)||W.isArray(e)}function $(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function X(e,t,n){return e?e.concat(t).map(function(e,t){return e=$(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Q=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});const Z=function(e,t,n){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!W.isUndefined(t[e])})).metaTokens,a=n.visitor||c,s=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(W.isDate(e))return e.toISOString();if(W.isBoolean(e))return e.toString();if(!o&&W.isBlob(e))throw new J("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(e)||W.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let o=e;if(e&&!a&&"object"===typeof e)if(W.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(W.isArray(e)&&function(e){return W.isArray(e)&&!e.some(K)}(e)||(W.isFileList(e)||W.endsWith(n,"[]"))&&(o=W.toArray(e)))return n=$(n),o.forEach(function(e,r){!W.isUndefined(e)&&null!==e&&t.append(!0===i?X([n],r,s):null===i?n:n+"[]",l(e))}),!1;return!!K(e)||(t.append(X(a,n,s),l(e)),!1)}const d=[],u=Object.assign(Q,{defaultVisitor:c,convertValue:l,isVisitable:K});if(!W.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!W.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),W.forEach(n,function(n,s){!0===(!(W.isUndefined(n)||null===n)&&a.call(t,n,W.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])}),d.pop()}}(e),t};function ee(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function te(e,t){this._pairs=[],e&&Z(e,this,t)}const ne=te.prototype;ne.append=function(e,t){this._pairs.push([e,t])},ne.toString=function(e){const t=e?function(t){return e.call(this,t,ee)}:ee;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const re=te;function ae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function se(e,t,n){if(!t)return e;const r=n&&n.encode||ae;W.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):W.isURLSearchParams(t)?t.toString():new re(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const ie=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(t){null!==t&&e(t)})}},oe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var le=n(9379);const ce={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:re,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},de="undefined"!==typeof window&&"undefined"!==typeof document,ue="object"===typeof navigator&&navigator||void 0,he=de&&(!ue||["ReactNative","NativeScript","NS"].indexOf(ue.product)<0),me="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,fe=de&&window.location.href||"http://localhost",pe=(0,le.A)((0,le.A)({},r),ce);const xe=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=a>=e.length;if(s=!s&&W.isArray(r)?r.length:s,o)return W.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!i;r[s]&&W.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&W.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!i}if(W.isFormData(e)&&W.isFunction(e.entries)){const n={};return W.forEachEntry(e,(e,r)=>{t(function(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const ge={transitional:oe,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=W.isObject(e);a&&W.isHTMLForm(e)&&(e=new FormData(e));if(W.isFormData(e))return r?JSON.stringify(xe(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Z(e,new pe.classes.URLSearchParams,(0,le.A)({visitor:function(e,t,n,r){return pe.isNode&&W.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=W.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Z(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ge.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(a){if(n){if("SyntaxError"===a.name)throw J.from(a,J.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pe.classes.FormData,Blob:pe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{ge.headers[e]={}});const be=ge,ye=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ve=Symbol("internals");function we(e){return e&&String(e).trim().toLowerCase()}function Ne(e){return!1===e||null==e?e:W.isArray(e)?e.map(Ne):String(e)}function je(e,t,n,r,a){return W.isFunction(r)?r.call(this,t,n):(a&&(t=n),W.isString(t)?W.isString(r)?-1!==t.indexOf(r):W.isRegExp(r)?r.test(t):void 0:void 0)}class ke{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=we(t);if(!a)throw new Error("header name must be a non-empty string");const s=W.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Ne(e))}const s=(e,t)=>W.forEach(e,(e,n)=>a(e,n,t));if(W.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(W.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&ye[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(W.isObject(e)&&W.isIterable(e)){let n,r,a={};for(const t of e){if(!W.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?W.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=we(e)){const n=W.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(W.isFunction(t))return t.call(this,e,n);if(W.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=we(e)){const n=W.findKey(this,e);return!(!n||void 0===this[n]||t&&!je(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=we(e)){const a=W.findKey(n,e);!a||t&&!je(0,n[a],a,t)||(delete n[a],r=!0)}}return W.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!je(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return W.forEach(this,(r,a)=>{const s=W.findKey(n,a);if(s)return t[s]=Ne(r),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();i!==a&&delete t[a],t[i]=Ne(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return W.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&W.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[ve]=this[ve]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=we(e);t[r]||(!function(e,t){const n=W.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return W.isArray(e)?e.forEach(r):r(e),this}}ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),W.reduceDescriptors(ke.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),W.freezeMethods(ke);const Se=ke;function _e(e,t){const n=this||be,r=t||n,a=Se.from(r.headers);let s=r.data;return W.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function Ae(e){return!(!e||!e.__CANCEL__)}function Ce(e,t,n){J.call(this,null==e?"canceled":e,J.ERR_CANCELED,t,n),this.name="CanceledError"}W.inherits(Ce,J,{__CANCEL__:!0});const Le=Ce;function Pe(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ee=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[i];a||(a=l),n[s]=o,r[s]=l;let d=i,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Fe=function(e,t){let n,r,a=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(n=l,r||(r=setTimeout(()=>{r=null,i(n)},s-t)))},()=>n&&i(n)]},Re=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Ee(50,250);return Fe(n=>{const s=n.loaded,i=n.lengthComputable?n.total:void 0,o=s-r,l=a(o);r=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Te=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Oe=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return W.asap(()=>e(...n))},Ie=pe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,pe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(pe.origin),pe.navigator&&/(msie|trident)/i.test(pe.navigator.userAgent)):()=>!0,De=pe.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const i=[e+"="+encodeURIComponent(t)];W.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),W.isString(r)&&i.push("path="+r),W.isString(a)&&i.push("domain="+a),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ze(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Me=e=>e instanceof Se?(0,le.A)({},e):e;function Be(e,t){t=t||{};const n={};function r(e,t,n,r){return W.isPlainObject(e)&&W.isPlainObject(t)?W.merge.call({caseless:r},e,t):W.isPlainObject(t)?W.merge({},t):W.isArray(t)?t.slice():t}function a(e,t,n,a){return W.isUndefined(t)?W.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!W.isUndefined(t))return r(void 0,t)}function i(e,t){return W.isUndefined(t)?W.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>a(Me(e),Me(t),0,!0)};return W.forEach(Object.keys((0,le.A)((0,le.A)({},e),t)),function(r){const s=l[r]||a,i=s(e[r],t[r],r);W.isUndefined(i)&&s!==o||(n[r]=i)}),n}const Ue=e=>{const t=Be({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:o}=t;if(t.headers=i=Se.from(i),t.url=se(ze(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),W.isFormData(n))if(pe.hasStandardBrowserEnv||pe.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(W.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&i.set(n,r)})}if(pe.hasStandardBrowserEnv&&(r&&W.isFunction(r)&&(r=r(t)),r||!1!==r&&Ie(t.url))){const e=a&&s&&De.read(s);e&&i.set(a,e)}return t},qe="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Ue(e);let a=r.data;const s=Se.from(r.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=r;function f(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let p=new XMLHttpRequest;function x(){if(!p)return;const r=Se.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Pe(function(e){t(e),f()},function(e){n(e),f()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=x:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(x)},p.onabort=function(){p&&(n(new J("Request aborted",J.ECONNABORTED,e,p)),p=null)},p.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new J(r,J.ERR_NETWORK,e,p);a.event=t||null,n(a),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||oe;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new J(t,a.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,p)),p=null},void 0===a&&s.setContentType(null),"setRequestHeader"in p&&W.forEach(s.toJSON(),function(e,t){p.setRequestHeader(t,e)}),W.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),u&&"json"!==u&&(p.responseType=r.responseType),m&&([l,d]=Re(m,!0),p.addEventListener("progress",l)),h&&p.upload&&([o,c]=Re(h),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{p&&(n(!t||t.type?new Le(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===pe.protocols.indexOf(g)?n(new J("Unsupported protocol "+g+":",J.ERR_BAD_REQUEST,e)):p.send(a||null)})},He=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof J?t:new Le(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new J("timeout ".concat(t," of ms exceeded"),J.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=r;return o.unsubscribe=()=>W.asap(i),o}};function We(e,t){this.v=e,this.k=t}function Ve(e){return function(){return new Ge(e.apply(this,arguments))}}function Ge(e){var t,n;function r(t,n){try{var s=e[t](n),i=s.value,o=i instanceof We;Promise.resolve(o?i.v:i).then(function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}a(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(s,i){var o={key:e,arg:a,resolve:s,reject:i,next:null};n?n=n.next=o:(t=n=o,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Ye(e){return new We(e,0)}function Je(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new We(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Ke(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new $e(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function $e(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return $e=function(e){this.s=e,this.n=e.next},$e.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new $e(e)}Ge.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ge.prototype.next=function(e){return this._invoke("next",e)},Ge.prototype.throw=function(e){return this._invoke("throw",e)},Ge.prototype.return=function(e){return this._invoke("return",e)};const Xe=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Qe=function(){var e=Ve(function*(e,t){var n,r=!1,a=!1;try{for(var s,i=Ke(Ze(e));r=!(s=yield Ye(i.next())).done;r=!1){const e=s.value;yield*Je(Ke(Xe(e,t)))}}catch(er){a=!0,n=er}finally{try{r&&null!=i.return&&(yield Ye(i.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Ze=function(){var e=Ve(function*(e){if(e[Symbol.asyncIterator])return void(yield*Je(Ke(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ye(t.read());if(e)break;yield n}}finally{yield Ye(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),et=(e,t,n,r)=>{const a=Qe(e,t);let s,i=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=i+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(er){throw o(er),er}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},{isFunction:tt}=W,nt=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(W.global),{ReadableStream:rt,TextEncoder:at}=W.global,st=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(a){return!1}},it=e=>{e=W.merge.call({skipUndefined:!0},nt,e);const{fetch:t,Request:n,Response:r}=e,a=t?tt(t):"function"===typeof fetch,s=tt(n),i=tt(r);if(!a)return!1;const o=a&&tt(rt),l=a&&("function"===typeof at?(c=new at,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=s&&o&&st(()=>{let e=!1;const t=new n(pe.origin,{body:new rt,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&o&&st(()=>W.isReadableStream(new r("").body)),h={stream:u&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new J("Response type '".concat(e,"' is not supported"),J.ERR_NOT_SUPPORT,n)})});const m=async(e,t)=>{const r=W.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(W.isBlob(e))return e.size;if(W.isSpecCompliantForm(e)){const t=new n(pe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return W.isArrayBufferView(e)||W.isArrayBuffer(e)?e.byteLength:(W.isURLSearchParams(e)&&(e+=""),W.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:i,data:o,signal:l,cancelToken:c,timeout:f,onDownloadProgress:p,onUploadProgress:x,responseType:g,headers:b,withCredentials:y="same-origin",fetchOptions:v}=Ue(e),w=t||fetch;g=g?(g+"").toLowerCase():"text";let N=He([l,c&&c.toAbortSignal()],f),j=null;const k=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let S;try{if(x&&d&&"get"!==i&&"head"!==i&&0!==(S=await m(b,o))){let e,t=new n(a,{method:"POST",body:o,duplex:"half"});if(W.isFormData(o)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=Te(S,Re(Oe(x)));o=et(t.body,65536,e,n)}}W.isString(y)||(y=y?"include":"omit");const t=s&&"credentials"in n.prototype,l=(0,le.A)((0,le.A)({},v),{},{signal:N,method:i.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:t?y:void 0});j=s&&new n(a,l);let c=await(s?w(j,v):w(a,l));const f=u&&("stream"===g||"response"===g);if(u&&(p||f&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=W.toFiniteNumber(c.headers.get("content-length")),[n,a]=p&&Te(t,Re(Oe(p),!0))||[];c=new r(et(c.body,65536,n,()=>{a&&a(),k&&k()}),e)}g=g||"text";let _=await h[W.findKey(h,g)||"text"](c,e);return!f&&k&&k(),await new Promise((t,n)=>{Pe(t,n,{data:_,headers:Se.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:j})})}catch(er){if(k&&k(),er&&"TypeError"===er.name&&/Load failed|fetch/i.test(er.message))throw Object.assign(new J("Network Error",J.ERR_NETWORK,e,j),{cause:er.cause||er});throw J.from(er,er&&er.code,e,j)}}},ot=new Map,lt=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:a}=t,s=[r,a,n];let i,o,l=s.length,c=ot;for(;l--;)i=s[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:it(t)),c=o;return o},ct=(lt(),{http:null,xhr:qe,fetch:{get:lt}});W.forEach(ct,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const dt=e=>"- ".concat(e),ut=e=>W.isFunction(e)||null===e||!1===e,ht=(e,t)=>{e=W.isArray(e)?e:[e];const{length:n}=e;let r,a;const s={};for(let i=0;i<n;i++){let n;if(r=e[i],a=r,!ut(r)&&(a=ct[(n=String(r)).toLowerCase()],void 0===a))throw new J("Unknown adapter '".concat(n,"'"));if(a&&(W.isFunction(a)||(a=a.get(t))))break;s[n||"#"+i]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(dt).join("\n"):" "+dt(e[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a};function mt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Le(null,e)}function ft(e){mt(e),e.headers=Se.from(e.headers),e.data=_e.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ht(e.adapter||be.adapter,e)(e).then(function(t){return mt(e),t.data=_e.call(e,e.transformResponse,t),t.headers=Se.from(t.headers),t},function(t){return Ae(t)||(mt(e),t&&t.response&&(t.response.data=_e.call(e,e.transformResponse,t.response),t.response.headers=Se.from(t.response.headers))),Promise.reject(t)})}const pt="1.12.2",xt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const gt={};xt.transitional=function(e,t,n){function r(e,t){return"[Axios v"+pt+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new J(r(a," has been removed"+(t?" in "+t:"")),J.ERR_DEPRECATED);return t&&!gt[a]&&(gt[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},xt.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const bt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new J("option "+s+" must be "+n,J.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new J("Unknown option "+s,J.ERR_BAD_OPTION)}},validators:xt},yt=bt.validators;class vt{constructor(e){this.defaults=e||{},this.interceptors={request:new ie,response:new ie}}async request(e,t){try{return await this._request(e,t)}catch(er){if(er instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{er.stack?r&&!String(er.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(er.stack+="\n"+r):er.stack=r}catch(n){}}throw er}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Be(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&bt.assertOptions(n,{silentJSONParsing:yt.transitional(yt.boolean),forcedJSONParsing:yt.transitional(yt.boolean),clarifyTimeoutError:yt.transitional(yt.boolean)},!1),null!=r&&(W.isFunction(r)?t.paramsSerializer={serialize:r}:bt.assertOptions(r,{encode:yt.function,serialize:yt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bt.assertOptions(t,{baseUrl:yt.spelling("baseURL"),withXsrfToken:yt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&W.merge(a.common,a[t.method]);a&&W.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Se.concat(s,a);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[ft.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=ft.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return se(ze((e=Be(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}W.forEach(["delete","get","head","options"],function(e){vt.prototype[e]=function(t,n){return this.request(Be(n||{},{method:e,url:t,data:(n||{}).data}))}}),W.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Be(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}vt.prototype[e]=t(),vt.prototype[e+"Form"]=t(!0)});const wt=vt;class Nt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new Le(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Nt(function(t){e=t});return{token:t,cancel:e}}}const jt=Nt;const kt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kt).forEach(e=>{let[t,n]=e;kt[n]=t});const St=kt;const _t=function e(t){const n=new wt(t),r=a(wt.prototype.request,n);return W.extend(r,wt.prototype,n,{allOwnKeys:!0}),W.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Be(t,n))},r}(be);_t.Axios=wt,_t.CanceledError=Le,_t.CancelToken=jt,_t.isCancel=Ae,_t.VERSION=pt,_t.toFormData=Z,_t.AxiosError=J,_t.Cancel=_t.CanceledError,_t.all=function(e){return Promise.all(e)},_t.spread=function(e){return function(t){return e.apply(null,t)}},_t.isAxiosError=function(e){return W.isObject(e)&&!0===e.isAxiosError},_t.mergeConfig=Be,_t.AxiosHeaders=Se,_t.formToJSON=e=>xe(W.isHTMLForm(e)?new FormData(e):e),_t.getAdapter=ht,_t.HttpStatusCode=St,_t.default=_t;const At=_t}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(s,i),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{213:"bc56e43a",239:"726af7c4",455:"316ac34d"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="chess-tournament-client-app:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(m);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,s,[i,o,l]=r,c=0;if(i.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkchess_tournament_client_app=self.webpackChunkchess_tournament_client_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,a=n(5043),s=n.t(a,2),i=n(4391),o=n(7950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const d="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function x(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l=r.Pop,h=null,x=g();function g(){return(o.state||{idx:null}).idx}function b(){l=r.Pop;let e=g(),t=null==e?null:e-x;x=e,h&&h({action:l,location:v.location,delta:t})}function y(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==x&&(x=0,o.replaceState(c({},o.state,{idx:x}),""));let v={get action(){return l},get location(){return e(s,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(d,b),h=e,()=>{s.removeEventListener(d,b),h=null}},createHref:e=>t(s,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let a=f(v.location,e,t);n&&n(a,e),x=g()+1;let c=m(a,x),d=v.createHref(a);try{o.pushState(c,"",d)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(d)}i&&h&&h({action:l,location:v.location,delta:1})},replace:function(e,t){l=r.Replace;let a=f(v.location,e,t);n&&n(a,e),x=g();let s=m(a,x),c=v.createHref(a);o.replaceState(s,"",c),i&&h&&h({action:l,location:v.location,delta:0})},go:e=>o.go(e)};return v}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let a=T(("string"===typeof t?x(t):t).pathname||"/",n);if(null==a)return null;let s=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=R(a);i=E(s[o],e,r)}return i}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(u(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=M([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:P(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of N(e.path))a(e,t,r);else a(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=N(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,k=3,S=2,_=1,A=10,C=-2,L=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(L)&&(r+=C),t&&(r+=S),n.filter(e=>!L(e)).reduce((e,t)=>e+(j.test(t)?k:""===t?_:A),r)}function E(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:M([s,d.pathname]),pathnameBase:B(M([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=M([s,d.pathnameBase]))}return i}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function z(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=x(e):(a=c({},e),u(!a.pathname||!a.pathname.includes("?"),O("?","pathname","search",a)),u(!a.pathname||!a.pathname.includes("#"),O("#","pathname","hash",a)),u(!a.search||!a.search.includes("#"),O("#","search","hash",a)));let s,i=""===e||""===a.pathname,o=i?"/":a.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?x(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:q(a)}}(a,s),d=o&&"/"!==o&&o.endsWith("/"),h=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!d&&!h||(l.pathname+="/"),l}const M=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],V=(new Set(W),["get",...W]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const Y=a.createContext(null);const J=a.createContext(null);const K=a.createContext(null);const $=a.createContext(null);const X=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=a.createContext(null);function Z(){return null!=a.useContext($)}function ee(){return Z()||u(!1),a.useContext($).location}function te(e){a.useContext(K).static||a.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=a.useContext(X);return e?function(){let{router:e}=me(ue.UseNavigateStable),t=pe(he.UseNavigateStable),n=a.useRef(!1);return te(()=>{n.current=!0}),a.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},a)))},[e,t])}():function(){Z()||u(!1);let e=a.useContext(Y),{basename:t,future:n,navigator:r}=a.useContext(K),{matches:s}=a.useContext(X),{pathname:i}=ee(),o=JSON.stringify(D(s,n.v7_relativeSplatPath)),l=a.useRef(!1);return te(()=>{l.current=!0}),a.useCallback(function(n,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=z(n,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[t,r,o,i,e])}()}function re(){let{matches:e}=a.useContext(X),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(K),{matches:s}=a.useContext(X),{pathname:i}=ee(),o=JSON.stringify(D(s,r.v7_relativeSplatPath));return a.useMemo(()=>z(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function se(e,t,n,s){Z()||u(!1);let{navigator:i}=a.useContext(K),{matches:o}=a.useContext(X),l=o[o.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,m=ee();if(t){var f;let e="string"===typeof t?x(t):t;"/"===d||(null==(f=e.pathname)?void 0:f.startsWith(d))||u(!1),h=e}else h=m;let p=h.pathname||"/",g=p;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:g});let v=de(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&v?a.createElement($.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},v):v}function ie(){let e=function(){var e;let t=a.useContext(Q),n=fe(he.UseRouteError),r=pe(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const oe=a.createElement(ie,null);class le extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(X.Provider,{value:this.props.routeContext},a.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,s=a.useContext(Y);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(X.Provider,{value:t},r)}function de(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||u(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=a),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let i,u=!1,h=null,m=null;var f;n&&(i=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||oe,c&&(d<0&&0===s?(f="route-fallback",!1||xe[f]||(xe[f]=!0),u=!0,m=null):d===s&&(u=!0,m=r.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,s+1)),x=()=>{let t;return t=i?h:u?m:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(ce,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?a.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:i,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function me(e){let t=a.useContext(Y);return t||u(!1),t}function fe(e){let t=a.useContext(J);return t||u(!1),t}function pe(e){let t=function(){let e=a.useContext(X);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const xe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function be(e){let{to:t,replace:n,state:r,relative:s}=e;Z()||u(!1);let{future:i,static:o}=a.useContext(K),{matches:l}=a.useContext(X),{pathname:c}=ee(),d=ne(),h=z(t,D(l,i.v7_relativeSplatPath),c,"path"===s),m=JSON.stringify(h);return a.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:s}),[d,m,s,n,r]),null}function ye(e){u(!1)}function ve(e){let{basename:t="/",children:n=null,location:s,navigationType:i=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&u(!1);let d=t.replace(/^\/*/,"/"),h=a.useMemo(()=>({basename:d,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);"string"===typeof s&&(s=x(s));let{pathname:m="/",search:f="",hash:p="",state:g=null,key:b="default"}=s,y=a.useMemo(()=>{let e=T(m,d);return null==e?null:{location:{pathname:e,search:f,hash:p,state:g,key:b},navigationType:i}},[d,m,f,p,g,b,i]);return null==y?null:a.createElement(K.Provider,{value:h},a.createElement($.Provider,{children:n,value:y}))}function we(e){let{children:t,location:n}=e;return se(Ne(t),n)}new Promise(()=>{});a.Component;function Ne(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let s=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,Ne(e.props.children,s));e.type!==ye&&u(!1),e.props.index&&e.props.children&&u(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ne(e.props.children,s)),n.push(i)}),n}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(pi){}new Map;const _e=s.startTransition;l.flushSync,s.useId;function Ae(e){let{basename:t,children:n,future:r,window:s}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),g(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return f("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,o)));let l=i.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},h=a.useCallback(e=>{u&&_e?_e(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>l.listen(h),[l,h]),a.useEffect(()=>ge(r),[r]),a.createElement(ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=a.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m}=e,f=ke(e,Se),{basename:x}=a.useContext(K),g=!1;if("string"===typeof d&&Le.test(d)&&(n=d,Ce))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=T(t.pathname,x);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:g=!0}catch(pi){}let b=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||u(!1);let{basename:r,navigator:s}=a.useContext(K),{hash:i,pathname:o,search:l}=ae(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:M([r,o])),s.createHref({pathname:c,search:l,hash:i})}(d,{relative:s}),y=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),d=ee(),u=ae(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:p(d)===p(u);c(e,{replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,r,s,n,e,i,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:m});return a.createElement("a",je({},f,{href:n||b,onClick:g||i?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:c}))});var Ee,Fe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ee||(Ee={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Fe||(Fe={}));var Re=n(9379),Te=n(579);const Oe={tournaments:[],currentTournament:null,players:[],pairings:[],standings:[],loading:!1,error:null};function Ie(e,t){var n;switch(t.type){case"SET_LOADING":return(0,Re.A)((0,Re.A)({},e),{},{loading:t.payload});case"SET_ERROR":return(0,Re.A)((0,Re.A)({},e),{},{error:t.payload});case"SET_TOURNAMENTS":return(0,Re.A)((0,Re.A)({},e),{},{tournaments:t.payload});case"SET_CURRENT_TOURNAMENT":return(0,Re.A)((0,Re.A)({},e),{},{currentTournament:t.payload});case"SET_PLAYERS":return(0,Re.A)((0,Re.A)({},e),{},{players:t.payload});case"SET_PAIRINGS":return(0,Re.A)((0,Re.A)({},e),{},{pairings:t.payload});case"SET_STANDINGS":return(0,Re.A)((0,Re.A)({},e),{},{standings:t.payload});case"ADD_TOURNAMENT":return(0,Re.A)((0,Re.A)({},e),{},{tournaments:[...e.tournaments,t.payload]});case"UPDATE_TOURNAMENT":return(0,Re.A)((0,Re.A)({},e),{},{tournaments:e.tournaments.map(e=>e.id===t.payload.id?t.payload:e),currentTournament:(null===(n=e.currentTournament)||void 0===n?void 0:n.id)===t.payload.id?t.payload:e.currentTournament});case"ADD_PLAYER":return(0,Re.A)((0,Re.A)({},e),{},{players:[...e.players,t.payload]});case"UPDATE_PLAYER":return(0,Re.A)((0,Re.A)({},e),{},{players:e.players.map(e=>e.id===t.payload.id?t.payload:e)});case"REMOVE_PLAYER":return(0,Re.A)((0,Re.A)({},e),{},{players:e.players.filter(e=>e.id!==t.payload)});case"CLEAR_CACHE":return(0,Re.A)((0,Re.A)({},e),{},{currentTournament:null,players:[],pairings:[],standings:[],error:null});default:return e}}const De=(0,a.createContext)(null);function ze(e){let{children:t}=e;const[n,r]=(0,a.useReducer)(Ie,Oe);return(0,Te.jsx)(De.Provider,{value:{state:n,dispatch:r},children:t})}function Me(){const e=(0,a.useContext)(De);if(!e)throw new Error("useTournament must be used within a TournamentProvider");return e}const Be=(0,a.createContext)(void 0),Ue=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{const n=JSON.parse(t);i(e),r(n)}catch(n){console.error("Error parsing stored user data:",n),localStorage.removeItem("token"),localStorage.removeItem("user")}l(!1)},[]);const c=(e,t)=>{i(e),r(t),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t))},d={user:n,token:s,isAuthenticated:!!n&&!!s,isLoading:o,login:c,signup:async e=>{try{const t="http://127.0.0.1:5000/api",n=await fetch("".concat(t,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await n.json();if(r.success){const e=r.data.token,t=r.data.user;return c(e,t),{success:!0}}return{success:!1,error:r.error||"Signup failed"}}catch(t){return console.error("Signup error:",t),{success:!1,error:"Network error. Please try again."}}},logout:()=>{i(null),r(null),localStorage.removeItem("token"),localStorage.removeItem("user")},updateUser:e=>{r(e),localStorage.setItem("user",JSON.stringify(e))}};return(0,Te.jsx)(Be.Provider,{value:d,children:t})},qe=()=>{const e=(0,a.useContext)(Be);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e};var He=n(9722);const We="http://127.0.0.1:5000/api",Ve=He.A.create({baseURL:We,headers:{"Content-Type":"application/json"}});Ve.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));const Ge={getOrganizations:async()=>{try{return(await Ve.get("/organizations")).data}catch(e){return console.error("Failed to fetch organizations:",e),{success:!1,data:{organizations:[]}}}},getOrganization:async e=>{try{return(await Ve.get("/organizations/".concat(e))).data}catch(t){throw console.error("Failed to fetch organization:",t),t}},createOrganization:async e=>{try{return(await Ve.post("/organizations",e)).data}catch(t){throw console.error("Failed to create organization:",t),t}},updateOrganization:async(e,t)=>{try{return(await Ve.put("/organizations/".concat(e),t)).data}catch(n){throw console.error("Failed to update organization:",n),n}},getOrganizationMembers:async e=>{try{return(await Ve.get("/organizations/".concat(e,"/members"))).data}catch(t){throw console.error("Failed to fetch organization members:",t),t}},inviteUser:async(e,t)=>{try{return(await Ve.post("/organizations/".concat(e,"/invite"),t)).data}catch(n){throw console.error("Failed to invite user:",n),n}},acceptInvitation:async e=>{try{return(await Ve.post("/organizations/invitations/".concat(e,"/accept"))).data}catch(t){throw console.error("Failed to accept invitation:",t),t}},getPublicOrganization:async e=>{try{return(await Ve.get("/organizations/".concat(e,"/public"))).data}catch(t){throw console.error("Failed to fetch public organization:",t),t}},getPublicTournaments:async(e,t)=>{try{const n=new URLSearchParams;null!==t&&void 0!==t&&t.status&&n.append("status",t.status),null!==t&&void 0!==t&&t.format&&n.append("format",t.format),null!==t&&void 0!==t&&t.limit&&n.append("limit",t.limit.toString()),null!==t&&void 0!==t&&t.offset&&n.append("offset",t.offset.toString());return(await Ve.get("/organizations/".concat(e,"/tournaments/public?").concat(n.toString()))).data}catch(n){throw console.error("Failed to fetch public tournaments:",n),n}},getOrganizationStats:async e=>{try{return(await Ve.get("/organizations/".concat(e,"/stats"))).data}catch(t){throw console.error("Failed to fetch organization stats:",t),t}},searchOrganizations:async(e,t)=>{try{const n=new URLSearchParams;e&&n.append("q",e),t&&n.append("limit",t.toString());return(await Ve.get("/organizations/search?".concat(n.toString()))).data}catch(n){throw console.error("Failed to search organizations:",n),n}},getPublicTournament:async(e,t)=>{try{return(await Ve.get("/organizations/".concat(e,"/tournaments/").concat(t,"/public"))).data}catch(n){throw console.error("Failed to fetch organization public tournament:",n),n}}},Ye={organizations:[],currentOrganization:null,members:[],invitations:[],loading:!1,error:null};function Je(e,t){var n,r;switch(t.type){case"SET_LOADING":return(0,Re.A)((0,Re.A)({},e),{},{loading:t.payload});case"SET_ERROR":return(0,Re.A)((0,Re.A)({},e),{},{error:t.payload});case"SET_ORGANIZATIONS":return(0,Re.A)((0,Re.A)({},e),{},{organizations:t.payload});case"SET_CURRENT_ORGANIZATION":return(0,Re.A)((0,Re.A)({},e),{},{currentOrganization:t.payload});case"SET_MEMBERS":return(0,Re.A)((0,Re.A)({},e),{},{members:t.payload});case"SET_INVITATIONS":return(0,Re.A)((0,Re.A)({},e),{},{invitations:t.payload});case"ADD_ORGANIZATION":return(0,Re.A)((0,Re.A)({},e),{},{organizations:[...e.organizations,t.payload]});case"UPDATE_ORGANIZATION":return(0,Re.A)((0,Re.A)({},e),{},{organizations:e.organizations.map(e=>e.id===t.payload.id?t.payload:e),currentOrganization:(null===(n=e.currentOrganization)||void 0===n?void 0:n.id)===t.payload.id?t.payload:e.currentOrganization});case"REMOVE_ORGANIZATION":return(0,Re.A)((0,Re.A)({},e),{},{organizations:e.organizations.filter(e=>e.id!==t.payload),currentOrganization:(null===(r=e.currentOrganization)||void 0===r?void 0:r.id)===t.payload?null:e.currentOrganization});case"ADD_MEMBER":return(0,Re.A)((0,Re.A)({},e),{},{members:[...e.members,t.payload]});case"UPDATE_MEMBER":return(0,Re.A)((0,Re.A)({},e),{},{members:e.members.map(e=>e.id===t.payload.id?t.payload:e)});case"REMOVE_MEMBER":return(0,Re.A)((0,Re.A)({},e),{},{members:e.members.filter(e=>e.id!==t.payload)});case"ADD_INVITATION":return(0,Re.A)((0,Re.A)({},e),{},{invitations:[...e.invitations,t.payload]});case"UPDATE_INVITATION":return(0,Re.A)((0,Re.A)({},e),{},{invitations:e.invitations.map(e=>e.id===t.payload.id?t.payload:e)});case"REMOVE_INVITATION":return(0,Re.A)((0,Re.A)({},e),{},{invitations:e.invitations.filter(e=>e.id!==t.payload)});default:return e}}const Ke=(0,a.createContext)(void 0),$e=()=>{const e=(0,a.useContext)(Ke);return void 0===e?{state:{organizations:[],currentOrganization:null,members:[],invitations:[],loading:!1,error:null},loadOrganizations:async()=>{},loadOrganization:async()=>{},createOrganization:async()=>({}),updateOrganization:async()=>{},setCurrentOrganization:()=>{},loadMembers:async()=>{},inviteUser:async()=>{},acceptInvitation:async()=>{},clearError:()=>{}}:e},Xe=e=>{let{children:t}=e;const[n,r]=(0,a.useReducer)(Je,Ye),s=async()=>{try{r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null});const e=await Ge.getOrganizations();r({type:"SET_ORGANIZATIONS",payload:e.data.organizations})}catch(n){var e,t;r({type:"SET_ERROR",payload:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to load organizations"})}finally{r({type:"SET_LOADING",payload:!1})}};(0,a.useEffect)(()=>{s().catch(e=>{console.error("Failed to load organizations:",e)})},[]);const i={state:n,loadOrganizations:s,loadOrganization:async e=>{try{r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null});const t=await Ge.getOrganization(e);r({type:"SET_CURRENT_ORGANIZATION",payload:t.data.organization})}catch(a){var t,n;r({type:"SET_ERROR",payload:(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to load organization"})}finally{r({type:"SET_LOADING",payload:!1})}},createOrganization:async e=>{try{r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null});const t=(await Ge.createOrganization(e)).data.organization;return r({type:"ADD_ORGANIZATION",payload:t}),t}catch(a){var t,n;throw r({type:"SET_ERROR",payload:(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to create organization"}),a}finally{r({type:"SET_LOADING",payload:!1})}},updateOrganization:async(e,t)=>{try{r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null}),await Ge.updateOrganization(e,t);const n=await Ge.getOrganization(e);r({type:"UPDATE_ORGANIZATION",payload:n.data.organization})}catch(s){var n,a;throw r({type:"SET_ERROR",payload:(null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to update organization"}),s}finally{r({type:"SET_LOADING",payload:!1})}},setCurrentOrganization:e=>{r({type:"SET_CURRENT_ORGANIZATION",payload:e})},loadMembers:async e=>{try{r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null});const t=await Ge.getOrganizationMembers(e);r({type:"SET_MEMBERS",payload:t.data.members})}catch(a){var t,n;r({type:"SET_ERROR",payload:(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to load members"})}finally{r({type:"SET_LOADING",payload:!1})}},inviteUser:async(e,t,n)=>{try{r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null});const a=(await Ge.inviteUser(e,{email:t,role:n})).data.invitation;r({type:"ADD_INVITATION",payload:a})}catch(i){var a,s;throw r({type:"SET_ERROR",payload:(null===(a=i.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.error)||"Failed to send invitation"}),i}finally{r({type:"SET_LOADING",payload:!1})}},acceptInvitation:async e=>{try{r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null}),await Ge.acceptInvitation(e),await s()}catch(a){var t,n;throw r({type:"SET_ERROR",payload:(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to accept invitation"}),a}finally{r({type:"SET_LOADING",payload:!1})}},clearError:()=>{r({type:"SET_ERROR",payload:null})}};return(0,Te.jsx)(Ke.Provider,{value:i,children:t})};function Qe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ze={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const et=["color","size","strokeWidth","absoluteStrokeWidth","children"];var tt=(e,t)=>{const n=(0,a.forwardRef)((n,r)=>{let{color:s="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c}=n,d=Qe(n,et);return(0,a.createElement)("svg",(0,Re.A)((0,Re.A)({ref:r},Ze),{},{width:i,height:i,stroke:s,strokeWidth:l?24*Number(o)/Number(i):o,className:"lucide lucide-".concat((u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},d),[...t.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...(Array.isArray(c)?c:[c])||[]]);var u});return n.displayName="".concat(e),n};const nt=tt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),rt=tt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),at=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),st=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),it=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ot=tt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),lt=e=>{let{className:t="",size:n="md",showText:r=!0}=e;return(0,Te.jsxs)("div",{className:"flex items-center space-x-2 ".concat(t),children:[(0,Te.jsx)("img",{src:"/paircraft-logo.png",alt:"PairCraft Logo",className:"".concat({sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}[n]," object-contain")}),r&&(0,Te.jsxs)("div",{className:"flex flex-col",children:[(0,Te.jsx)("span",{className:"font-bold text-gray-800 ".concat({sm:"text-sm",md:"text-lg",lg:"text-2xl",xl:"text-3xl"}[n]),children:"PairCraft"}),(0,Te.jsx)("span",{className:"text-xs text-gray-600 font-medium ".concat("sm"===n?"hidden":""),children:"CHESS TOURNAMENT"}),(0,Te.jsx)("span",{className:"text-xs text-gray-600 font-medium ".concat("sm"===n?"hidden":""),children:"PAIRING SYSTEM"})]})]})},ct=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dt=tt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ut=tt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ht=e=>{let{isOpen:t,onClose:n,onLogin:r,onShowSignup:s}=e;const[i,o]=(0,a.useState)({username:"",password:""}),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null),f=e=>{const{name:t,value:n}=e.target;o(e=>(0,Re.A)((0,Re.A)({},e),{},{[t]:n})),m(null)};return t?(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Login"}),(0,Te.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,Te.jsx)(ct,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),m(null);try{const e="http://127.0.0.1:5000/api",t=await fetch("".concat(e,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),a=await t.json();a.success?(localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user)),r(a.data.token,a.data.user),n(),o({username:"",password:""})):m(a.error||"Login failed")}catch(er){m("Network error. Please try again.")}finally{u(!1)}},className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username or Email"}),(0,Te.jsx)("input",{type:"text",id:"username",name:"username",value:i.username,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter username or email"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("input",{type:l?"text":"password",id:"password",name:"password",value:i.password,onChange:f,required:!0,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password"}),(0,Te.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?(0,Te.jsx)(dt,{className:"h-4 w-4 text-gray-400"}):(0,Te.jsx)(ut,{className:"h-4 w-4 text-gray-400"})})]})]}),h&&(0,Te.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:h}),(0,Te.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Logging in...":"Login"})]}),(0,Te.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:[(0,Te.jsx)("p",{children:(0,Te.jsx)("strong",{children:"Demo Credentials:"})}),(0,Te.jsx)("p",{children:"Username: admin"}),(0,Te.jsx)("p",{children:"Password: admin123"})]}),s&&(0,Te.jsx)("div",{className:"mt-4 text-center",children:(0,Te.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,Te.jsx)("button",{type:"button",onClick:s,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Sign up here"})]})})]})}):null},mt=tt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ft=tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),pt=tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),xt=["confirmPassword"],gt=e=>{let{isOpen:t,onClose:n,onSignup:r}=e;const[s,i]=(0,a.useState)({username:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[m,f]=(0,a.useState)(null),[p,x]=(0,a.useState)({}),g=e=>{const{name:t,value:n}=e.target;i(e=>(0,Re.A)((0,Re.A)({},e),{},{[t]:n})),p[t]&&x(e=>(0,Re.A)((0,Re.A)({},e),{},{[t]:""})),f(null)};return t?(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(mt,{className:"h-6 w-6 text-blue-600"}),(0,Te.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Create Account"})]}),(0,Te.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Te.jsx)(ct,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{var e,t;const n={};return s.username.trim()?s.username.length<3?n.username="Username must be at least 3 characters long":/^[a-zA-Z0-9_]+$/.test(s.username)||(n.username="Username can only contain letters, numbers, and underscores"):n.username="Username is required",s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(n.email="Please enter a valid email address"):n.email="Email is required",s.password?s.password.length<8?n.password="Password must be at least 8 characters long":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(s.password)||(n.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):n.password="Password is required",s.confirmPassword?s.password!==s.confirmPassword&&(n.confirmPassword="Passwords do not match"):n.confirmPassword="Please confirm your password",null!==(e=s.firstName)&&void 0!==e&&e.trim()||(n.firstName="First name is required"),null!==(t=s.lastName)&&void 0!==t&&t.trim()||(n.lastName="Last name is required"),x(n),0===Object.keys(n).length})()){h(!0),f(null);try{const{confirmPassword:e}=s,t=Qe(s,xt),a=await r(t);a.success?(n(),i({username:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),x({})):f(a.error||"Signup failed")}catch(er){f("Network error. Please try again.")}finally{h(!1)}}},className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Te.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:g,className:"w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.firstName?"border-red-300":"border-gray-300"),placeholder:"John"})]}),p.firstName&&(0,Te.jsx)("p",{className:"text-red-600 text-xs mt-1",children:p.firstName})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Te.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:g,className:"w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.lastName?"border-red-300":"border-gray-300"),placeholder:"Doe"})]}),p.lastName&&(0,Te.jsx)("p",{className:"text-red-600 text-xs mt-1",children:p.lastName})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Te.jsx)("input",{type:"text",id:"username",name:"username",value:s.username,onChange:g,className:"w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.username?"border-red-300":"border-gray-300"),placeholder:"johndoe"})]}),p.username&&(0,Te.jsx)("p",{className:"text-red-600 text-xs mt-1",children:p.username})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Te.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:g,className:"w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.email?"border-red-300":"border-gray-300"),placeholder:"john@example.com"})]}),p.email&&(0,Te.jsx)("p",{className:"text-red-600 text-xs mt-1",children:p.email})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Te.jsx)("input",{type:o?"text":"password",id:"password",name:"password",value:s.password,onChange:g,className:"w-full pl-10 pr-10 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.password?"border-red-300":"border-gray-300"),placeholder:"Create a strong password"}),(0,Te.jsx)("button",{type:"button",onClick:()=>l(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?(0,Te.jsx)(dt,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"}):(0,Te.jsx)(ut,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]}),p.password&&(0,Te.jsx)("p",{className:"text-red-600 text-xs mt-1",children:p.password}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 8 characters with uppercase, lowercase, and number"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(pt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Te.jsx)("input",{type:c?"text":"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:g,className:"w-full pl-10 pr-10 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(p.confirmPassword?"border-red-300":"border-gray-300"),placeholder:"Confirm your password"}),(0,Te.jsx)("button",{type:"button",onClick:()=>d(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c?(0,Te.jsx)(dt,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"}):(0,Te.jsx)(ut,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]}),p.confirmPassword&&(0,Te.jsx)("p",{className:"text-red-600 text-xs mt-1",children:p.confirmPassword})]}),m&&(0,Te.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md border border-red-200",children:m}),(0,Te.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Creating Account...":"Create Account"})]}),(0,Te.jsx)("div",{className:"mt-6 text-center",children:(0,Te.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,Te.jsx)("button",{type:"button",onClick:n,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Sign in instead"})]})})]})}):null},bt=e=>{let{isOpen:t,onClose:n}=e;const{login:r,signup:s}=qe(),i=ne(),[o,l]=(0,a.useState)(!1),c=()=>{l(!1),n()};return(0,Te.jsx)(Te.Fragment,{children:o?(0,Te.jsx)(gt,{isOpen:t,onClose:c,onSignup:async e=>{const t=await s(e);return t.success&&(n(),i("/dashboard")),t}}):(0,Te.jsx)(ht,{isOpen:t,onClose:c,onLogin:(e,t)=>{r(e,t),n(),i("/dashboard")},onShowSignup:()=>{l(!0)}})})},yt=()=>{const e=ee(),{user:t,isAuthenticated:n,logout:r}=qe(),[s,i]=(0,a.useState)(!1),o=t=>e.pathname===t;return(0,Te.jsxs)("nav",{className:"bg-white shadow-lg border-b",children:[(0,Te.jsx)("div",{className:"container mx-auto px-4",children:(0,Te.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,Te.jsx)(Pe,{to:n?"/dashboard":"/",className:"flex items-center",children:(0,Te.jsx)(lt,{size:"md",showText:!0})}),(0,Te.jsxs)("div",{className:"hidden md:flex space-x-6",children:[(0,Te.jsxs)(Pe,{to:"/dashboard",className:"flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(o("/dashboard")?"bg-chess-board text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Te.jsx)(nt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Dashboard"})]}),(0,Te.jsxs)(Pe,{to:"/tournaments",className:"flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(o("/tournaments")?"bg-chess-board text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Te.jsx)(rt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Tournaments"})]})]})]}),(0,Te.jsx)("div",{className:"flex items-center space-x-4",children:n?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)(Pe,{to:"/profile",className:"flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(o("/profile")?"bg-chess-board text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Te.jsx)(at,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:(null===t||void 0===t?void 0:t.firstName)||(null===t||void 0===t?void 0:t.username)||"Account"})]}),(0,Te.jsxs)(Pe,{to:"/tournaments/new",className:"flex items-center space-x-1 bg-chess-board text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-chess-dark transition-colors",children:[(0,Te.jsx)(st,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"New Tournament"})]}),(0,Te.jsxs)("button",{onClick:()=>{r()},className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:[(0,Te.jsx)(it,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Logout"})]})]}):(0,Te.jsxs)("button",{onClick:()=>i(!0),className:"flex items-center space-x-1 px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(ot,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Login / Sign Up"})]})})]})}),(0,Te.jsx)(bt,{isOpen:s,onClose:()=>i(!1)})]})},vt=tt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),wt=tt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Nt=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),jt=tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),kt=tt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);var St=n(6291);const _t=()=>{const{state:e,dispatch:t}=Me(),{user:n}=qe(),{state:r}=$e(),[s,i]=(0,a.useState)("checking"),[o,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{console.log("Dashboard: Fetching tournaments..."),i("checking"),t({type:"SET_LOADING",payload:!0});const e=await St.Sj.getAll();if(console.log("Dashboard: Tournaments response:",e),!e.data.success)throw new Error("Failed to fetch tournaments");console.log("Dashboard: Tournaments data:",e.data.data),t({type:"SET_TOURNAMENTS",payload:e.data.data}),i("connected"),l(null)}catch(n){var e;console.error("Dashboard: Error fetching tournaments:",n),console.error("Dashboard: Error details:",(null===(e=n.response)||void 0===e?void 0:e.data)||n.message),i("error"),l(n.message||"Network error"),t({type:"SET_ERROR",payload:"Failed to fetch tournaments"})}finally{t({type:"SET_LOADING",payload:!1})}})()},[t]);const c=e.tournaments.filter(e=>"active"===e.status),d=e.tournaments.slice(0,5);return(0,Te.jsxs)("div",{className:"space-y-8",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",(null===n||void 0===n?void 0:n.firstName)||(null===n||void 0===n?void 0:n.username)||"User","!"]}),(0,Te.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your chess tournaments and organizations"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[r.currentOrganization&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-50 rounded-lg",children:[(0,Te.jsx)(vt,{className:"h-5 w-5 text-blue-600"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-blue-900",children:r.currentOrganization.name})]}),(0,Te.jsxs)(Pe,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,Te.jsx)(at,{className:"h-5 w-5 text-gray-600"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Profile"})]})]})]})}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Te.jsx)(rt,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Tournaments"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.tournaments.length})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Te.jsx)(wt,{className:"h-6 w-6 text-green-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Tournaments"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:c.length})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Te.jsx)(Nt,{className:"h-6 w-6 text-purple-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Players"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.players.length})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,Te.jsx)(jt,{className:"h-6 w-6 text-orange-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.tournaments.filter(e=>"completed"===e.status).length})]})]})})]}),r.organizations.length>0&&(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Organizations"}),(0,Te.jsx)(Pe,{to:"/profile",className:"text-blue-600 hover:text-blue-800 font-medium text-sm",children:"Manage Organizations"})]}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.organizations.slice(0,3).map(e=>{var t;return(0,Te.jsx)("div",{className:"p-4 border rounded-lg transition-colors ".concat((null===(t=r.currentOrganization)||void 0===t?void 0:t.id)===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)(vt,{className:"h-8 w-8 text-blue-600"}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:e.description||"No description"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,Te.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full ".concat("owner"===e.role?"bg-purple-100 text-purple-800":"admin"===e.role?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.role}),("owner"===e.role||"admin"===e.role)&&(0,Te.jsxs)(Pe,{to:"/organizations/".concat(e.id,"/settings"),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-purple-600 bg-purple-50 rounded-full hover:bg-purple-100 transition-colors",children:[(0,Te.jsx)(kt,{className:"h-3 w-3 mr-1"}),"Customize"]})]})]})]})},e.id)})})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Te.jsxs)(Pe,{to:"/tournaments/new",className:"flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-chess-board hover:bg-chess-light transition-colors",children:[(0,Te.jsx)(rt,{className:"h-8 w-8 text-gray-400 mr-3"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-gray-900",children:"Create Tournament"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Start a new chess tournament"})]})]}),(0,Te.jsxs)(Pe,{to:"/tournaments",className:"flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-chess-board hover:bg-chess-light transition-colors",children:[(0,Te.jsx)(Nt,{className:"h-8 w-8 text-gray-400 mr-3"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-gray-900",children:"Manage Tournaments"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"View and edit existing tournaments"})]})]}),(0,Te.jsxs)(Pe,{to:"/profile",className:"flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-chess-board hover:bg-chess-light transition-colors",children:[(0,Te.jsx)(vt,{className:"h-8 w-8 text-gray-400 mr-3"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-gray-900",children:"Manage Organizations"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Create and manage organizations"})]})]}),r.currentOrganization&&("owner"===r.currentOrganization.role||"admin"===r.currentOrganization.role)&&(0,Te.jsxs)(Pe,{to:"/organizations/".concat(r.currentOrganization.id,"/settings"),className:"flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[(0,Te.jsx)(kt,{className:"h-8 w-8 text-purple-400 mr-3"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-gray-900",children:"Customize Organization"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Design your public page"})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Tournaments"}),(0,Te.jsx)(Pe,{to:"/tournaments",className:"text-chess-board hover:text-chess-dark font-medium",children:"View all"})]}),e.loading?(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-chess-board mx-auto"}),(0,Te.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading tournaments..."})]}):0===d.length?(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(rt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"No tournaments yet"}),(0,Te.jsx)(Pe,{to:"/tournaments/new",className:"text-chess-board hover:text-chess-dark font-medium",children:"Create your first tournament"})]}):(0,Te.jsx)("div",{className:"space-y-3",children:d.map(e=>(0,Te.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,Te.jsxs)("p",{className:"text-sm text-gray-600",children:[e.format," \u2022 ",e.rounds," rounds \u2022 ",e.status]})]}),(0,Te.jsx)(Pe,{to:"/tournaments/".concat(e.id),className:"text-chess-board hover:text-chess-dark font-medium",children:"View"})]},e.id))})]})]})},At=tt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ct=tt("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Lt=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Pt=()=>{const{state:e,dispatch:t}=Me(),{state:n}=$e(),[r,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{console.log("Fetching tournaments..."),t({type:"SET_LOADING",payload:!0});const e=await St.Sj.getAll();if(console.log("Tournaments response:",e),!e.data.success)throw new Error("Failed to fetch tournaments");console.log("Tournaments data:",e.data.data),t({type:"SET_TOURNAMENTS",payload:e.data.data})}catch(n){var e;console.error("Error fetching tournaments:",n),console.error("Error details:",(null===(e=n.response)||void 0===e?void 0:e.data)||n.message),t({type:"SET_ERROR",payload:"Failed to fetch tournaments"})}finally{t({type:"SET_LOADING",payload:!1})}})()},[t]);const l=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=e=>e?new Date(e).toLocaleDateString():"TBD",d=i?e.tournaments.filter(e=>e.organization_id===i):e.tournaments,u=e=>{if(!e)return"No Organization";const t=n.organizations.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.name)||"Unknown Organization"};return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Tournaments"}),(0,Te.jsx)("p",{className:"text-gray-600 mt-2",children:i?"Tournaments for ".concat(u(i)):"Manage all your chess tournaments"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsxs)("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Te.jsx)(At,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Filter by Organization"})]}),(0,Te.jsxs)(Pe,{to:"/tournaments/new",className:"flex items-center space-x-2 bg-chess-board text-white px-4 py-2 rounded-lg hover:bg-chess-dark transition-colors",children:[(0,Te.jsx)(st,{className:"h-5 w-5"}),(0,Te.jsx)("span",{children:"New Tournament"})]})]})]}),e.loading?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-chess-board mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading tournaments..."})]}):0===d.length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(rt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i?"No tournaments for this organization":"No tournaments yet"}),(0,Te.jsx)("p",{className:"text-gray-600 mb-6",children:i?"This organization doesn't have any tournaments yet":"Get started by creating your first tournament"}),(0,Te.jsxs)(Pe,{to:"/tournaments/new",className:"inline-flex items-center space-x-2 bg-chess-board text-white px-6 py-3 rounded-lg hover:bg-chess-dark transition-colors",children:[(0,Te.jsx)(st,{className:"h-5 w-5"}),(0,Te.jsx)("span",{children:"Create Tournament"})]})]}):(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(e=>(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow",children:(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.name}),(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat(l(e.status)),children:e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"Unknown"})]}),(0,Te.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,Te.jsx)(Ct,{className:"h-5 w-5"})})]}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(vt,{className:"h-4 w-4 mr-2"}),(0,Te.jsx)("span",{children:u(e.organization_id)})]}),(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(rt,{className:"h-4 w-4 mr-2"}),(0,Te.jsx)("span",{className:"capitalize",children:e.format.replace("-"," ")})]}),(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 mr-2"}),(0,Te.jsxs)("span",{children:[e.rounds," rounds"]})]}),e.time_control&&(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(Lt,{className:"h-4 w-4 mr-2"}),(0,Te.jsx)("span",{children:e.time_control})]}),(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 mr-2"}),(0,Te.jsxs)("span",{children:[c(e.start_date)," - ",c(e.end_date)]})]})]}),(0,Te.jsx)("div",{className:"mt-6 pt-4 border-t",children:(0,Te.jsx)(Pe,{to:"/tournaments/".concat(e.id),className:"block w-full text-center bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"View Details"})})]})},e.id))}),r&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Filter by Organization"}),(0,Te.jsx)("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Te.jsx)(ct,{className:"h-5 w-5"})})]}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsx)("button",{onClick:()=>{o(null),s(!1)},className:"w-full text-left p-3 rounded-lg border transition-colors ".concat(null===i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)(vt,{className:"h-5 w-5 text-gray-600"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"font-medium text-gray-900",children:"All Organizations"}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"Show tournaments from all organizations"})]})]})}),n.organizations.map(e=>(0,Te.jsx)("button",{onClick:()=>{o(e.id),s(!1)},className:"w-full text-left p-3 rounded-lg border transition-colors ".concat(i===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)(vt,{className:"h-5 w-5 text-blue-600"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:e.description||"No description"})]})]})},e.id))]}),(0,Te.jsx)("div",{className:"mt-6 flex justify-end space-x-3",children:(0,Te.jsx)("button",{onClick:()=>s(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"})})]})})]})},Et=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ft=tt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Rt=tt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Tt=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ot=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),It=tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Dt=tt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),zt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=((e,t)=>{var n;const r=new Set;return null!==(n=e.settings)&&void 0!==n&&n.sections&&e.settings.sections.forEach(e=>{e.name&&""!==e.name.trim()&&r.add(e.name)}),t.forEach(e=>{e.section&&""!==e.section.trim()&&r.add(e.section)}),Array.from(r).sort()})(e,t);return n?["All Sections",...r]:r},Mt=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Bt=tt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Ut=e=>{let{isOpen:t,onClose:n,onSelectPlayer:r,tournamentId:s}=e;const[i,o]=(0,a.useState)(""),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null),[f,p]=(0,a.useState)(null),x=async()=>{if(!i.trim()||i.trim().length<2)return void m("Please enter at least 2 characters to search");u(!0),m(null);const e=Date.now();try{const t=await St.Yv.search(i.trim(),10),n=Date.now()-e;t.data.success?(c(t.data.data.players),console.log("Search completed in ".concat(n,"ms"))):(m(t.data.error||"Failed to search players"),c([]))}catch(er){var t,n,r,a;console.error("Search error:",er);let s="Failed to search players. Please try again.";"NETWORK_ERROR"===er.code||"ECONNABORTED"===er.code?s="Network error. Please check your connection and try again.":500===(null===(t=er.response)||void 0===t?void 0:t.status)?s="Server error. Please try again in a moment.":404===(null===(n=er.response)||void 0===n?void 0:n.status)?s="Search service not available. Please try again later.":null!==(r=er.response)&&void 0!==r&&null!==(a=r.data)&&void 0!==a&&a.error?s=er.response.data.error:er.message&&(s=er.message),m(s),c([])}finally{u(!1)}},g=()=>{o(""),c([]),p(null),m(null),n()};return t?(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,Te.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Search US Chess Players"}),(0,Te.jsx)("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,Te.jsx)("p",{className:"text-gray-600 mt-2",children:"Search for players by name to import them into your tournament"})]}),(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Search by Player Name"}),(0,Te.jsxs)("div",{className:"flex space-x-3",children:[(0,Te.jsx)("input",{type:"text",id:"search",value:i,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&x()},placeholder:"Enter player name (minimum 2 characters)...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Te.jsx)("button",{onClick:x,disabled:d||i.trim().length<2,className:"px-6 py-2 rounded-md font-medium transition-colors ".concat(d||i.trim().length<2?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"),children:d?"Searching...":"Search"})]})]}),h&&(0,Te.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:h}),d&&(0,Te.jsx)("div",{className:"mb-4 p-3 bg-blue-100 border border-blue-400 text-blue-700 rounded",children:"Searching players..."}),l.length>0&&(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Search Results (",l.length,")"]}),(0,Te.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:l.map((e,t)=>{return(0,Te.jsxs)("div",{className:"p-3 border rounded-lg cursor-pointer transition-colors ".concat((null===f||void 0===f?void 0:f.memberId)===e.memberId?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),onClick:()=>(e=>{p(e)})(e),children:[(0,Te.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,Te.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[(0,Te.jsx)("span",{className:"font-medium",children:"USCF ID:"})," ",e.memberId,e.state&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Te.jsx)("span",{className:"font-medium",children:"State:"})," ",e.state]})]}),(0,Te.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Primary Rating:"})," ",(r=e.ratings,n=r.regular||r.quick||r.blitz||null,null===n||void 0===n?"N/A":n.toString())]}),(e.email||e.phone)&&(0,Te.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[e.email&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("span",{className:"font-medium mr-1",children:"Email:"}),(0,Te.jsx)("span",{children:e.email})]}),e.phone&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("span",{className:"font-medium mr-1",children:"Phone:"}),(0,Te.jsx)("span",{children:e.phone})]})]})]}),(0,Te.jsx)("div",{className:"text-right text-sm text-gray-500",children:(null===f||void 0===f?void 0:f.memberId)===e.memberId&&(0,Te.jsx)("span",{className:"text-blue-600 font-medium",children:"Selected"})})]}),(0,Te.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:(0,Te.jsxs)("div",{className:"flex flex-wrap gap-4",children:[e.ratings.regular&&(0,Te.jsxs)("span",{children:["Regular: ",e.ratings.regular]}),e.ratings.quick&&(0,Te.jsxs)("span",{children:["Quick: ",e.ratings.quick]}),e.ratings.blitz&&(0,Te.jsxs)("span",{children:["Blitz: ",e.ratings.blitz]}),e.ratings.online_regular&&(0,Te.jsxs)("span",{children:["Online Regular: ",e.ratings.online_regular]}),e.ratings.online_quick&&(0,Te.jsxs)("span",{children:["Online Quick: ",e.ratings.online_quick]}),e.ratings.online_blitz&&(0,Te.jsxs)("span",{children:["Online Blitz: ",e.ratings.online_blitz]})]})})]},"".concat(e.memberId,"-").concat(t));var n,r})})]}),0===l.length&&!d&&!h&&i.trim().length>=2&&(0,Te.jsxs)("div",{className:"mb-6 p-4 bg-gray-100 border border-gray-300 rounded-lg text-center",children:[(0,Te.jsxs)("p",{className:"text-gray-600",children:['No players found matching "',i,'"']}),(0,Te.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Try a different search term or check the spelling"})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:g,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:()=>{f&&(r(f),n())},disabled:!f,className:"px-4 py-2 rounded-md transition-colors ".concat(f?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Import Selected Player"})]})]})]})}):null},qt=e=>{let{isOpen:t,onClose:n,tournamentId:r}=e;const{state:s,dispatch:i}=Me(),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)({name:"",uscf_id:"",fide_id:"",rating:"",section:"",team_name:"",intentional_bye_rounds:[]}),m=e=>{const{name:t,value:n}=e.target;h(e=>(0,Re.A)((0,Re.A)({},e),{},{[t]:"rating"===t?n?parseInt(n):"":n}))},f=()=>{h({name:"",uscf_id:"",fide_id:"",rating:"",section:"",team_name:"",intentional_bye_rounds:[]}),d(!1),n()};return t?(0,Te.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(at,{className:"h-6 w-6 text-chess-board"}),(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Player"})]}),(0,Te.jsx)("button",{onClick:f,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Te.jsx)(ct,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{const e={tournament_id:r,name:u.name,uscf_id:u.uscf_id||void 0,fide_id:u.fide_id||void 0,rating:u.rating?parseInt(u.rating):void 0,section:u.section||void 0,team_name:u.team_name||void 0,status:"active",intentional_bye_rounds:u.intentional_bye_rounds.length>0?u.intentional_bye_rounds:void 0},t=await St.Yv.create(e);if(!t.data.success)throw new Error(t.data.error||"Failed to add player");i({type:"ADD_PLAYER",payload:t.data.data}),h({name:"",uscf_id:"",fide_id:"",rating:"",section:"",team_name:"",intentional_bye_rounds:[]}),n()}catch(t){console.error("Failed to add player:",t)}finally{l(!1)}},className:"p-6 space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Te.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Player Name *"}),(0,Te.jsxs)("button",{type:"button",onClick:()=>d(!0),className:"flex items-center space-x-1 text-sm text-blue-600 hover:text-blue-800 transition-colors",children:[(0,Te.jsx)(Mt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Search US Chess"})]})]}),(0,Te.jsx)("input",{type:"text",id:"name",name:"name",value:u.name,onChange:m,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter player name or search US Chess"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"rating",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),(0,Te.jsx)("input",{type:"number",id:"rating",name:"rating",value:u.rating,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter rating (optional)"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"uscf_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"USCF ID"}),(0,Te.jsx)("input",{type:"text",id:"uscf_id",name:"uscf_id",value:u.uscf_id,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter USCF ID (optional)"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"fide_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"FIDE ID"}),(0,Te.jsx)("input",{type:"text",id:"fide_id",name:"fide_id",value:u.fide_id,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter FIDE ID (optional)"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"section",className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),(0,Te.jsxs)("select",{id:"section",name:"section",value:u.section,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",children:[(0,Te.jsx)("option",{value:"",children:"Select a section (optional)"}),(()=>{const e=s.tournaments.find(e=>e.id===r);return e?zt(e,s.players).map(e=>(0,Te.jsx)("option",{value:e,children:e},e)):null})()]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"team_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Name"}),(0,Te.jsx)("input",{type:"text",id:"team_name",name:"team_name",value:u.team_name,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter team name (optional)"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intentional Bye Rounds"}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("input",{type:"text",placeholder:"Enter round numbers (e.g., 1,3,5)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",onKeyPress:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target,n=t.value.split(",").map(e=>parseInt(e.trim())).filter(e=>!isNaN(e));n.length>0&&(h(e=>(0,Re.A)((0,Re.A)({},e),{},{intentional_bye_rounds:Array.from(new Set([...e.intentional_bye_rounds,...n])).sort((e,t)=>e-t)})),t.value="")}}}),(0,Te.jsx)("button",{type:"button",onClick:()=>{const e=document.querySelector('input[placeholder*="round numbers"]');if(e){const t=e.value.split(",").map(e=>parseInt(e.trim())).filter(e=>!isNaN(e));t.length>0&&(h(e=>(0,Re.A)((0,Re.A)({},e),{},{intentional_bye_rounds:Array.from(new Set([...e.intentional_bye_rounds,...t])).sort((e,t)=>e-t)})),e.value="")}},className:"px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Add"})]}),u.intentional_bye_rounds.length>0&&(0,Te.jsx)("div",{className:"flex flex-wrap gap-2",children:u.intentional_bye_rounds.map((e,t)=>(0,Te.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-md",children:["Round ",e,(0,Te.jsx)("button",{type:"button",onClick:()=>{h(e=>(0,Re.A)((0,Re.A)({},e),{},{intentional_bye_rounds:e.intentional_bye_rounds.filter((e,n)=>n!==t)}))},className:"ml-1 text-blue-600 hover:text-blue-800",children:"\xd7"})]},t))})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Te.jsx)("button",{type:"button",onClick:f,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Te.jsxs)("button",{type:"submit",disabled:o,className:"flex items-center space-x-2 bg-chess-board text-white px-4 py-2 rounded-md hover:bg-chess-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Te.jsx)(Bt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:o?"Adding...":"Add Player"})]})]})]})]}),(0,Te.jsx)(Ut,{isOpen:c,onClose:()=>d(!1),onSelectPlayer:e=>{h(t=>(0,Re.A)((0,Re.A)({},t),{},{name:e.name,uscf_id:e.uscf_id,rating:e.rating?e.rating.toString():""})),d(!1)},tournamentId:r})]}):null},Ht=tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Wt=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Vt=e=>{let{isOpen:t,onClose:n,tournamentId:r}=e;const{dispatch:s}=Me(),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)([{id:"1",name:"",uscf_id:"",fide_id:"",rating:"",section:"",status:"active"}]),[d,u]=(0,a.useState)(!1),h=(e,t,n)=>{c(l.map(r=>r.id===e?(0,Re.A)((0,Re.A)({},r),{},{[t]:n}):r))},m=()=>{c([{id:"1",name:"",uscf_id:"",fide_id:"",rating:"",section:"",status:"active"}]),n()},f=e=>{let t=[];switch(e){case"school-team":t=[{id:"1",name:"Board 1 Player",uscf_id:"",fide_id:"",rating:"1800",section:"Open",status:"active"},{id:"2",name:"Board 2 Player",uscf_id:"",fide_id:"",rating:"1600",section:"Open",status:"active"},{id:"3",name:"Board 3 Player",uscf_id:"",fide_id:"",rating:"1400",section:"Reserve",status:"active"},{id:"4",name:"Board 4 Player",uscf_id:"",fide_id:"",rating:"1200",section:"Reserve",status:"active"}];break;case"club-members":t=[{id:"1",name:"Club Member 1",uscf_id:"",fide_id:"",rating:"",section:"",status:"active"},{id:"2",name:"Club Member 2",uscf_id:"",fide_id:"",rating:"",section:"",status:"active"},{id:"3",name:"Club Member 3",uscf_id:"",fide_id:"",rating:"",section:"",status:"active"}];break;case"unrated-players":t=[{id:"1",name:"Unrated Player 1",uscf_id:"",fide_id:"",rating:"0",section:"Unrated",status:"active"},{id:"2",name:"Unrated Player 2",uscf_id:"",fide_id:"",rating:"0",section:"Unrated",status:"active"}]}c(t),u(!1)};return t?(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(Nt,{className:"h-6 w-6 text-chess-board"}),(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Bulk Add Players"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>u(!d),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors",children:"Templates"}),(0,Te.jsx)("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Te.jsx)(ct,{className:"h-6 w-6"})})]})]}),d&&(0,Te.jsx)("div",{className:"px-6 py-3 bg-gray-50 border-b",children:(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>f("school-team"),className:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors",children:"School Team (4 players)"}),(0,Te.jsx)("button",{onClick:()=>f("club-members"),className:"px-3 py-1 text-sm bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200 transition-colors",children:"Club Members (3 players)"}),(0,Te.jsx)("button",{onClick:()=>f("unrated-players"),className:"px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded-md hover:bg-orange-200 transition-colors",children:"Unrated Players (2 players)"})]})}),(0,Te.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{const e=l.filter(e=>""!==e.name.trim());if(0===e.length)throw new Error("Please add at least one player with a name");const a=e.map(e=>({tournament_id:r,name:e.name.trim(),uscf_id:e.uscf_id.trim()||void 0,fide_id:e.fide_id.trim()||void 0,rating:e.rating?parseInt(e.rating):void 0,section:e.section.trim()||void 0,status:e.status,intentional_bye_rounds:void 0})),i=[];for(const n of a)try{const e=await St.Yv.create(n);e.data.success&&(i.push(e.data.data),s({type:"ADD_PLAYER",payload:e.data.data}))}catch(t){console.error("Failed to add player ".concat(n.name,":"),t)}i.length>0&&(c([{id:"1",name:"",uscf_id:"",fide_id:"",rating:"",section:"",status:"active"}]),n())}catch(t){console.error("Failed to add players:",t)}finally{o(!1)}},className:"flex flex-col h-full",children:[(0,Te.jsx)("div",{className:"flex-1 overflow-auto p-6",children:(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-8 gap-4 text-sm font-medium text-gray-700 bg-gray-50 p-3 rounded-md",children:[(0,Te.jsx)("div",{className:"col-span-2",children:"Name *"}),(0,Te.jsx)("div",{children:"Rating"}),(0,Te.jsx)("div",{children:"USCF ID"}),(0,Te.jsx)("div",{children:"FIDE ID"}),(0,Te.jsx)("div",{children:"Section"}),(0,Te.jsx)("div",{children:"Status"}),(0,Te.jsx)("div",{children:"Actions"})]}),l.map((e,t)=>(0,Te.jsxs)("div",{className:"grid grid-cols-8 gap-4 items-center",children:[(0,Te.jsx)("div",{className:"col-span-2",children:(0,Te.jsx)("input",{type:"text",value:e.name,onChange:t=>h(e.id,"name",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Player name",required:!0})}),(0,Te.jsx)("div",{children:(0,Te.jsx)("input",{type:"number",value:e.rating,onChange:t=>h(e.id,"rating",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Rating"})}),(0,Te.jsx)("div",{children:(0,Te.jsx)("input",{type:"text",value:e.uscf_id,onChange:t=>h(e.id,"uscf_id",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"USCF ID"})}),(0,Te.jsx)("div",{children:(0,Te.jsx)("input",{type:"text",value:e.fide_id,onChange:t=>h(e.id,"fide_id",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"FIDE ID"})}),(0,Te.jsx)("div",{children:(0,Te.jsx)("input",{type:"text",value:e.section,onChange:t=>h(e.id,"section",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Section"})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("select",{value:e.status,onChange:t=>h(e.id,"status",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",children:[(0,Te.jsx)("option",{value:"active",children:"Active"}),(0,Te.jsx)("option",{value:"withdrawn",children:"Withdrawn"}),(0,Te.jsx)("option",{value:"bye",children:"Bye"}),(0,Te.jsx)("option",{value:"inactive",children:"Inactive"})]})}),(0,Te.jsxs)("div",{className:"flex space-x-1",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>(e=>{const t=l.find(t=>t.id===e);if(t){const e=(l.length+1).toString(),n=(0,Re.A)((0,Re.A)({},t),{},{id:e,name:""});c([...l,n])}})(e.id),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Duplicate row",children:(0,Te.jsx)(Ht,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void(l.length>1&&c(l.filter(e=>e.id!==t)));var t},disabled:1===l.length,className:"p-1 text-gray-400 hover:text-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove row",children:(0,Te.jsx)(Wt,{className:"h-4 w-4"})})]})]},e.id))]})}),(0,Te.jsx)("div",{className:"border-t p-6 bg-gray-50",children:(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsxs)("button",{type:"button",onClick:()=>{const e=(l.length+1).toString();c([...l,{id:e,name:"",uscf_id:"",fide_id:"",rating:"",section:"",status:"active"}])},className:"flex items-center space-x-1 px-3 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[(0,Te.jsx)(st,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Add Row"})]}),(0,Te.jsx)("button",{type:"button",onClick:()=>{c([{id:"1",name:"",uscf_id:"",fide_id:"",rating:"",section:"",status:"active"}])},className:"px-3 py-2 text-sm bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Clear All"})]}),(0,Te.jsxs)("div",{className:"flex space-x-3",children:[(0,Te.jsx)("button",{type:"button",onClick:m,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Te.jsxs)("button",{type:"submit",disabled:i,className:"flex items-center space-x-2 bg-chess-board text-white px-4 py-2 rounded-md hover:bg-chess-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Te.jsx)(Bt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:i?"Adding...":"Add ".concat(l.filter(e=>e.name.trim()).length," Players")})]})]})]})})]})]})}):null},Gt=tt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Yt=e=>{var t;let{isOpen:n,onClose:r,selectedPlayers:s,onPlayersUpdated:i}=e;const{state:o,dispatch:l}=Me(),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[m,f]=(0,a.useState)(""),[p,x]=(0,a.useState)("active"),g=[{type:"status",label:"Change Status",description:"Update player status for all selected players",icon:(0,Te.jsx)(Gt,{className:"h-5 w-5"}),requiresInput:!0,inputType:"select",options:[{value:"active",label:"Active"},{value:"withdrawn",label:"Withdrawn"},{value:"bye",label:"Bye"},{value:"inactive",label:"Inactive"}]},{type:"section",label:"Change Section",description:"Move all selected players to a new section",icon:(0,Te.jsx)(Nt,{className:"h-5 w-5"}),requiresInput:!0,inputType:"text"},{type:"rating",label:"Adjust Rating",description:"Add or subtract points from all selected players",icon:(0,Te.jsx)(Gt,{className:"h-5 w-5"}),requiresInput:!0,inputType:"number"},{type:"duplicate",label:"Duplicate Players",description:"Create copies of all selected players",icon:(0,Te.jsx)(Ht,{className:"h-5 w-5"})},{type:"export",label:"Export Selected",description:"Export selected players to CSV",icon:(0,Te.jsx)(It,{className:"h-5 w-5"})},{type:"delete",label:"Delete Players",description:"Remove all selected players from tournament",icon:(0,Te.jsx)(Wt,{className:"h-5 w-5"})}],b=o.players.filter(e=>s.has(e.id)),y=()=>{h(null),f(""),x("active"),r()};return n?(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(Nt,{className:"h-6 w-6 text-chess-board"}),(0,Te.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Batch Operations (",s.size," players)"]})]}),(0,Te.jsx)("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Te.jsx)(ct,{className:"h-6 w-6"})})]}),(0,Te.jsx)("div",{className:"p-6",children:u?(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("div",{className:"text-blue-600",children:u.icon}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:u.label}),(0,Te.jsx)("p",{className:"text-sm text-gray-500",children:u.description})]})]}),u.requiresInput&&(0,Te.jsx)("div",{children:"select"===u.inputType?(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Status"}),(0,Te.jsx)("select",{value:p,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",children:null===(t=u.options)||void 0===t?void 0:t.map(e=>(0,Te.jsx)("option",{value:e.value,children:e.label},e.value))})]}):(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"section"===u.type?"Section Name":"rating"===u.type?"Rating Adjustment (+/-)":"Value"}),(0,Te.jsx)("input",{type:u.inputType,value:m,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"section"===u.type?"Enter section name":"rating"===u.type?"Enter rating adjustment":"Enter value"})]})}),(0,Te.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,Te.jsx)("strong",{children:"Warning:"})," This operation will affect ",s.size," players:"]}),(0,Te.jsxs)("div",{className:"mt-2 text-sm text-yellow-700",children:[b.slice(0,5).map(e=>e.name).join(", "),b.length>5&&" and ".concat(b.length-5," more...")]})]})]}):(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:["Select an operation to perform on ",s.size," selected players:"]}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(e=>(0,Te.jsxs)("button",{onClick:()=>(e=>{h(e),f(""),x("active")})(e),className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-sm transition-all text-left",children:[(0,Te.jsx)("div",{className:"text-blue-600 mt-0.5",children:e.icon}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"font-medium text-gray-900",children:e.label}),(0,Te.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]},e.type))})]})}),(0,Te.jsx)("div",{className:"border-t p-6 bg-gray-50",children:(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:u?()=>h(null):y,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:u?"Back":"Cancel"}),u&&(0,Te.jsxs)("button",{onClick:async()=>{if(u){d(!0);try{switch(u.type){case"status":await Promise.all(b.map(e=>St.Yv.update(e.id,(0,Re.A)((0,Re.A)({},e),{},{status:p}))));break;case"section":await Promise.all(b.map(e=>St.Yv.update(e.id,(0,Re.A)((0,Re.A)({},e),{},{section:m}))));break;case"rating":const e=parseInt(m);isNaN(e)||await Promise.all(b.map(t=>{const n=(t.rating||0)+e;return St.Yv.update(t.id,(0,Re.A)((0,Re.A)({},t),{},{rating:Math.max(0,n)}))}));break;case"duplicate":await Promise.all(b.map(e=>{const t=(0,Re.A)((0,Re.A)({},e),{},{name:"".concat(e.name," (Copy)"),id:void 0});return St.Yv.create(t)}));break;case"export":const t=[["Name","USCF ID","FIDE ID","Rating","Section","Status"],...b.map(e=>{var t;return[e.name,e.uscf_id||"",e.fide_id||"",(null===(t=e.rating)||void 0===t?void 0:t.toString())||"",e.section||"",e.status]})].map(e=>e.join(",")).join("\n"),n=new Blob([t],{type:"text/csv"}),r=window.URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="selected_players_".concat((new Date).toISOString().split("T")[0],".csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r);break;case"delete":await Promise.all(b.map(e=>St.Yv.delete(e.id)))}i(),r()}catch(e){console.error("Batch operation failed:",e)}finally{d(!1)}}},disabled:c||u.requiresInput&&!m&&"select"!==u.inputType,className:"flex items-center space-x-2 bg-chess-board text-white px-4 py-2 rounded-md hover:bg-chess-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Te.jsx)(Bt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:c?"Processing...":"Execute"})]})]})})]})}):null},Jt=tt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Kt=tt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),$t=tt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Xt=e=>{let{isOpen:t,onClose:n,tournamentId:r}=e;const{dispatch:s}=Me(),i=(0,a.useRef)(null),[o,l]=(0,a.useState)("upload"),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)([]),[m,f]=(0,a.useState)([]),[p,x]=(0,a.useState)([]),[g,b]=(0,a.useState)(!0),[y,v]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),[j,k]=(0,a.useState)(null),[S,_]=(0,a.useState)({current:0,total:0,stage:""}),A=e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&("text/csv"===n.type||n.name.toLowerCase().endsWith(".csv")?(d(n),N(null)):N("Please select a CSV file"))},C=async()=>{try{const e=await St.Yv.downloadTemplate(),t=new Blob([e.data],{type:"text/csv"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="player_template.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}catch(er){N("Failed to download template")}},L=()=>{l("upload"),d(null),h([]),f([]),x([]),N(null),k(null),i.current&&(i.current.value=""),n()};return t?(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,Te.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(Nt,{className:"h-6 w-6 text-blue-500"}),(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Import Players from CSV"})]}),(0,Te.jsx)("button",{onClick:L,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]})}),(0,Te.jsxs)("div",{className:"p-6",children:[w&&(0,Te.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:w}),"upload"===o&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(Ot,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Upload CSV File"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Select a CSV file containing player data to import"})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CSV File"}),(0,Te.jsx)("input",{ref:i,type:"file",accept:".csv",onChange:A,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),c&&(0,Te.jsxs)("p",{className:"mt-2 text-sm text-green-600",children:["Selected: ",c.name," (",(c.size/1024).toFixed(1)," KB)"]})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"lookupRatings",checked:g,onChange:e=>b(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"lookupRatings",className:"ml-2 block text-sm text-gray-700",children:"Lookup ratings for players with USCF IDs"})]}),(0,Te.jsx)("div",{className:"flex space-x-3",children:(0,Te.jsxs)("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:[(0,Te.jsx)(It,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Download Template"})]})})]})]}),"preview"===o&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(Jt,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Preview Import"}),(0,Te.jsxs)("p",{className:"text-gray-600",children:["Review the ",u.length," players that will be imported"]})]}),p.length>0&&(0,Te.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Te.jsx)(Kt,{className:"h-5 w-5 text-red-500 mr-2"}),(0,Te.jsx)("h4",{className:"text-sm font-medium text-red-800",children:"Validation Errors"})]}),(0,Te.jsx)("div",{className:"text-sm text-red-700",children:p.map((e,t)=>(0,Te.jsxs)("div",{className:"mb-1",children:["Row ",e.row,": ",e.player," - ",e.errors.join(", ")]},t))})]}),m.length>0&&(0,Te.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Te.jsx)(Kt,{className:"h-5 w-5 text-yellow-500 mr-2"}),(0,Te.jsx)("h4",{className:"text-sm font-medium text-yellow-800",children:"Parse Warnings"})]}),(0,Te.jsx)("div",{className:"text-sm text-yellow-700",children:m.map((e,t)=>(0,Te.jsxs)("div",{className:"mb-1",children:["Row ",e.row,": ",e.error]},t))})]}),(0,Te.jsxs)("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-md",children:[(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),(0,Te.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"USCF ID"}),(0,Te.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Rating"}),(0,Te.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Section"}),(0,Te.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Team"}),(0,Te.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,Te.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Bye Rounds"}),(0,Te.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Notes"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.slice(0,10).map((e,t)=>(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900",children:e.name}),(0,Te.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900",children:e.uscf_id||"-"}),(0,Te.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900",children:e.rating||"-"}),(0,Te.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900",children:e.section||"-"}),(0,Te.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900",children:e.team_name||"-"}),(0,Te.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900",children:e.status}),(0,Te.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900",children:e.bye_rounds||"-"}),(0,Te.jsx)("td",{className:"px-3 py-2 text-sm text-gray-900 max-w-xs truncate",children:e.notes||"-"})]},t))})]}),u.length>10&&(0,Te.jsxs)("div",{className:"px-3 py-2 text-sm text-gray-500 text-center bg-gray-50",children:["... and ",u.length-10," more players"]})]})]}),"importing"===o&&(0,Te.jsxs)("div",{className:"text-center space-y-4",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Importing Players"}),(0,Te.jsx)("p",{className:"text-gray-600",children:S.stage}),S.total>0&&(0,Te.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,Te.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:"".concat(S.current/S.total*100,"%")}})}),(0,Te.jsxs)("p",{className:"text-sm text-gray-500",children:[S.current," of ",S.total," players processed"]})]}),"complete"===o&&(0,Te.jsxs)("div",{className:"text-center space-y-4",children:[(0,Te.jsx)($t,{className:"h-12 w-12 text-green-500 mx-auto"}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Import Complete"}),(0,Te.jsxs)("div",{className:"text-gray-600",children:[(0,Te.jsxs)("p",{children:["Successfully imported ",(null===j||void 0===j?void 0:j.importedCount)||0," players"]}),(null===j||void 0===j?void 0:j.ratingLookupResults)&&(0,Te.jsxs)("p",{className:"text-sm mt-2",children:["Rating lookups: ",j.ratingLookupResults.filter(e=>e.success).length," successful"]})]})]})]}),(0,Te.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3",children:["upload"===o&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{onClick:L,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:async()=>{if(c){v(!0),N(null);try{const e=await St.Yv.uploadCSV(c,r,g);if(!e.data.success)throw new Error(e.data.error||"Failed to upload CSV file");{const t=e.data.data;h(t.players),f(t.parseErrors||[]),x(t.validationErrors||[])}l("preview")}catch(er){var e,t;N((null===(e=er.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to upload CSV file")}finally{v(!1)}}},disabled:!c||y,className:"px-4 py-2 rounded-md transition-colors ".concat(c&&!y?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:y?"Uploading...":"Upload & Preview"})]}),"preview"===o&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{onClick:()=>l("upload"),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Back"}),(0,Te.jsx)("button",{onClick:async()=>{v(!0),l("importing"),_({current:0,total:u.length,stage:"Starting import..."});try{const e=setInterval(()=>{_(e=>(0,Re.A)((0,Re.A)({},e),{},{current:Math.min(e.current+Math.ceil(u.length/10),u.length),stage:e.current<.3*u.length?"Parsing players...":e.current<.7*u.length?"Looking up ratings...":e.current<.9*u.length?"Importing to database...":"Finalizing..."}))},200),t=await St.Yv.importCSV(r,u,g);if(clearInterval(e),_({current:u.length,total:u.length,stage:"Complete!"}),!t.data.success)throw new Error(t.data.error||"Failed to import players");{const e=t.data.data;if(k(e),e.player_ids&&e.player_ids.length>0){const e=await St.Yv.getByTournament(r);e.data.success&&s({type:"SET_PLAYERS",payload:e.data.data})}}l("complete")}catch(er){var e,t;N((null===(e=er.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to import players"),l("preview")}finally{v(!1),_({current:0,total:0,stage:""})}},disabled:y||0===u.length,className:"px-4 py-2 rounded-md transition-colors ".concat(!y&&u.length>0?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:y?"Importing...":"Import ".concat(u.length," Players")})]}),"complete"===o&&(0,Te.jsx)("button",{onClick:L,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Done"})]})]})}):null},Qt=e=>{let{isOpen:t,onClose:n,tournamentId:r,tournamentName:s}=e;const[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),[f,p]=(0,a.useState)(null),x=(0,a.useCallback)(async()=>{try{o(!0),m(null);const e=await St.dW.getExportStatus(r);u(e.data)}catch(er){var e,t;m((null===(e=er.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load export status")}finally{o(!1)}},[r]);(0,a.useEffect)(()=>{if(t){x();const e=setInterval(x,3e4);return()=>clearInterval(e)}},[t,r,x]);const g=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return t?(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Export USCF DBF Files"}),(0,Te.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:["Tournament: ",s]}),(0,Te.jsx)("p",{className:"text-gray-600 text-sm",children:"Export tournament data in USCF-compatible DBF format for rating submission. This creates three files: THEXPORT.DBF (Tournament Header), TSEXPORT.DBF (Section Header), and TDEXPORT.DBF (Player Details)."})]}),h&&(0,Te.jsx)("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:h}),f&&(0,Te.jsx)("div",{className:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded",children:f}),d&&(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"Export Status"}),(0,Te.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(d.files).map(e=>{let[t,n]=e;return(0,Te.jsxs)("div",{className:"text-sm",children:[(0,Te.jsx)("div",{className:"font-medium text-gray-700",children:t}),(0,Te.jsx)("div",{className:"text-xs ".concat(n.exists?"text-green-600":"text-red-600"),children:n.exists?"\u2713 Exists":"\u2717 Missing"}),n.exists&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"text-xs text-gray-500",children:["Size: ",g(n.size)]}),(0,Te.jsxs)("div",{className:"text-xs text-gray-500",children:["Modified: ",(r=n.modified,r?new Date(r).toLocaleString():"Never")]})]})]},t);var r})}),(0,Te.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"All files ready:"}),(0,Te.jsx)("span",{className:"text-sm font-medium ".concat(d.allFilesExist?"text-green-600":"text-red-600"),children:d.allFilesExist?"\u2713 Yes":"\u2717 No - Auto-generating..."})]}),!d.allFilesExist&&(0,Te.jsx)("div",{className:"mt-2 text-xs text-blue-600",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Te.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Te.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Missing files are being generated automatically..."]})})]})]})]}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Te.jsx)("button",{onClick:async()=>{try{o(!0),m(null),p(null);const e=await St.dW.exportDBF(r);e.data.success?(p("DBF files exported successfully!"),await x()):m(e.data.message||"Export failed")}catch(er){var e,t;m((null===(e=er.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to export DBF files")}finally{o(!1)}},disabled:i,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:i?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Te.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Te.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):"Export DBF Files"}),(0,Te.jsx)("button",{onClick:async()=>{try{c(!0),m(null);const e=await St.dW.downloadDBF(r),t=new Blob([e.data],{type:"application/zip"}),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="".concat(s.replace(/[^a-zA-Z0-9]/g,"_"),"_USCF_Export.zip"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n),p("DBF files downloaded successfully!")}catch(er){var e,t;m((null===(e=er.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to download DBF files")}finally{c(!1)}},disabled:l||!(null!==d&&void 0!==d&&d.allFilesExist),className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Te.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Te.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Downloading..."]}):"Download ZIP"}),(0,Te.jsx)("button",{onClick:x,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Refresh"})]}),(0,Te.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Te.jsx)("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"USCF Submission Information"}),(0,Te.jsxs)("div",{className:"text-xs text-blue-700 space-y-1",children:[(0,Te.jsx)("p",{children:"\u2022 These DBF files are compatible with USCF's TD/Affiliate Support Area"}),(0,Te.jsxs)("p",{children:["\u2022 Upload the ZIP file to: ",(0,Te.jsx)("a",{href:"https://secure2.uschess.org/TD_Affil",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"secure2.uschess.org/TD_Affil"})]}),(0,Te.jsx)("p",{children:"\u2022 Files will be validated and processed for rating updates"}),(0,Te.jsx)("p",{children:"\u2022 Make sure all player USCF IDs and results are accurate before submission"})]})]}),(0,Te.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Te.jsx)("button",{onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Close"})})]})})}):null},Zt=e=>{let{isOpen:t,onClose:n,playerId:r,playerName:s,tournamentId:i,maxRounds:o}=e;const[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),x=(0,a.useCallback)(async()=>{try{u(!0);const e=await St.Yv.getInactiveRounds(r);e.data.success&&c(e.data.data)}catch(e){console.error("Failed to fetch inactive rounds:",e)}finally{u(!1)}},[r]);(0,a.useEffect)(()=>{t&&r&&x()},[t,r,x]);return t?(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(wt,{className:"h-6 w-6 text-chess-board"}),(0,Te.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Inactive Rounds - ",s]})]}),(0,Te.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Te.jsx)(ct,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Add Inactive Round"}),(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsx)("input",{type:"number",min:"1",max:o,value:h,onChange:e=>m(e.target.value),placeholder:"Round (1-".concat(o,")"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent"}),(0,Te.jsxs)("button",{onClick:async()=>{const e=parseInt(h);if(isNaN(e)||e<1||e>o)alert("Please enter a valid round number between 1 and ".concat(o));else if(l.some(t=>t.round===e))alert("This round is already marked as inactive");else try{u(!0);const t=await St.Yv.setInactiveRound(r,e,f||void 0);if(!t.data.success)throw new Error(t.data.error||"Failed to set inactive round");await x(),m(""),p("")}catch(t){console.error("Failed to add inactive round:",t),alert(t.message||"Failed to add inactive round")}finally{u(!1)}},disabled:d||!h,className:"flex items-center space-x-1 px-3 py-2 bg-chess-board text-white rounded-md hover:bg-chess-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Te.jsx)(st,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Add"})]})]}),(0,Te.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),placeholder:"Reason (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent"})]}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Current Inactive Rounds"}),d?(0,Te.jsx)("div",{className:"text-center py-4 text-gray-500",children:"Loading..."}):0===l.length?(0,Te.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No inactive rounds"}):(0,Te.jsx)("div",{className:"space-y-2",children:l.map(e=>(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("span",{className:"font-medium",children:["Round ",e.round]}),e.reason&&(0,Te.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["- ",e.reason]})]}),(0,Te.jsx)("button",{onClick:()=>(async e=>{try{u(!0);const t=await St.Yv.removeInactiveRound(r,e);if(!t.data.success)throw new Error(t.data.error||"Failed to remove inactive round");await x()}catch(t){console.error("Failed to remove inactive round:",t),alert(t.message||"Failed to remove inactive round")}finally{u(!1)}})(e.round),disabled:d,className:"text-red-600 hover:text-red-800 transition-colors disabled:opacity-50",children:(0,Te.jsx)(Wt,{className:"h-4 w-4"})})]},e.id))})]})]}),(0,Te.jsx)("div",{className:"flex justify-end p-6 border-t",children:(0,Te.jsx)("button",{onClick:n,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Close"})})]})}):null},en=e=>{let{tournament:t,pairings:n=[],standings:r=[],currentRound:a=1,viewType:s,selectedSection:i="all",separatePages:o=!1}=e;const l=e=>e?new Date(e).toLocaleDateString():"TBD",c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"section";const n={};return e.forEach(e=>{const r=e[t]||"Open";n[r]||(n[r]=[]),n[r].push(e)}),n},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"section";return"all"===i?e:e.filter(e=>(e[t]||"Open")===i)},u=()=>{const e=d(r);if("all"!==i){const t=e;return t.sort((e,t)=>t.total_points-e.total_points),(0,Te.jsxs)("div",{className:"section",children:[(0,Te.jsxs)("h3",{className:"section-header",children:[i," Section"]}),(0,Te.jsx)("div",{className:"table-container",children:(0,Te.jsxs)("table",{className:"standings-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"rank",children:"Rank"}),(0,Te.jsx)("th",{children:"Name"}),(0,Te.jsx)("th",{children:"Rating"}),(0,Te.jsx)("th",{className:"points",children:"Points"}),(0,Te.jsx)("th",{children:"Games"}),(0,Te.jsx)("th",{children:"W-L-D"}),(0,Te.jsx)("th",{className:"tiebreak",children:"Buchholz"}),(0,Te.jsx)("th",{className:"tiebreak",children:"S-B"})]})}),(0,Te.jsx)("tbody",{children:t.map((e,t)=>{var n,r;return(0,Te.jsxs)("tr",{className:"player-row",children:[(0,Te.jsx)("td",{className:"rank",children:t+1}),(0,Te.jsxs)("td",{children:[(0,Te.jsx)("div",{className:"player-name",children:e.name}),e.uscf_id&&(0,Te.jsxs)("div",{className:"player-id",children:["[",e.uscf_id,"]"]})]}),(0,Te.jsx)("td",{children:e.rating||"Unrated"}),(0,Te.jsx)("td",{className:"points",children:e.total_points}),(0,Te.jsx)("td",{children:e.games_played}),(0,Te.jsxs)("td",{children:[e.wins,"-",e.losses,"-",e.draws]}),(0,Te.jsx)("td",{className:"tiebreak",children:(null===(n=e.buchholz)||void 0===n?void 0:n.toFixed(1))||"-"}),(0,Te.jsx)("td",{className:"tiebreak",children:(null===(r=e.sonneborn_berger)||void 0===r?void 0:r.toFixed(1))||"-"})]},e.id)})})]})})]})}const t=c(e),n=Object.keys(t).sort();return(0,Te.jsx)("div",{className:"section",children:n.map((e,n)=>{const r=t[e];return r.sort((e,t)=>t.total_points-e.total_points),(0,Te.jsxs)("div",{className:o&&n>0?"section-break":"no-page-break",children:[(0,Te.jsxs)("h3",{className:"section-header",children:[e," Section"]}),(0,Te.jsx)("div",{className:"table-container",children:(0,Te.jsxs)("table",{className:"standings-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"rank",children:"Rank"}),(0,Te.jsx)("th",{children:"Name"}),(0,Te.jsx)("th",{children:"Rating"}),(0,Te.jsx)("th",{className:"points",children:"Points"}),(0,Te.jsx)("th",{children:"Games"}),(0,Te.jsx)("th",{children:"W-L-D"}),(0,Te.jsx)("th",{className:"tiebreak",children:"Buchholz"}),(0,Te.jsx)("th",{className:"tiebreak",children:"S-B"})]})}),(0,Te.jsx)("tbody",{children:r.map((e,t)=>{var n,r;return(0,Te.jsxs)("tr",{className:"player-row",children:[(0,Te.jsx)("td",{className:"rank",children:t+1}),(0,Te.jsxs)("td",{children:[(0,Te.jsx)("div",{className:"player-name",children:e.name}),e.uscf_id&&(0,Te.jsxs)("div",{className:"player-id",children:["[",e.uscf_id,"]"]})]}),(0,Te.jsx)("td",{children:e.rating||"Unrated"}),(0,Te.jsx)("td",{className:"points",children:e.total_points}),(0,Te.jsx)("td",{children:e.games_played}),(0,Te.jsxs)("td",{children:[e.wins,"-",e.losses,"-",e.draws]}),(0,Te.jsx)("td",{className:"tiebreak",children:(null===(n=e.buchholz)||void 0===n?void 0:n.toFixed(1))||"-"}),(0,Te.jsx)("td",{className:"tiebreak",children:(null===(r=e.sonneborn_berger)||void 0===r?void 0:r.toFixed(1))||"-"})]},e.id)})})]})})]},e)})})};return(0,Te.jsxs)("div",{className:"printable-content",children:[(0,Te.jsxs)("div",{className:"tournament-header",children:[(0,Te.jsx)("h1",{className:"tournament-title",children:t.name}),"pairings"===s&&(0,Te.jsxs)("h2",{className:"tournament-subtitle",children:["Round ",a," Pairings"]}),"standings"===s&&(0,Te.jsx)("h2",{className:"tournament-subtitle",children:"Tournament Standings"}),"report"===s&&(0,Te.jsx)("h2",{className:"tournament-subtitle",children:"Tournament Report"}),(0,Te.jsxs)("div",{className:"tournament-details",children:[t.start_date&&(0,Te.jsxs)("span",{children:["Start: ",l(t.start_date)]}),t.end_date&&(0,Te.jsxs)("span",{children:["End: ",l(t.end_date)]}),t.time_control&&(0,Te.jsxs)("span",{children:["Time Control: ",t.time_control]}),t.city&&t.state&&(0,Te.jsxs)("span",{children:["Location: ",t.city,", ",t.state]}),t.location&&(0,Te.jsxs)("span",{children:["Venue: ",t.location]}),(0,Te.jsxs)("span",{children:["Format: ",t.format]}),(0,Te.jsxs)("span",{children:["Rounds: ",t.rounds]}),(0,Te.jsxs)("span",{children:["Players: ",r.length]})]})]}),"pairings"===s&&(()=>{const e=n.filter(e=>e.round===a),t=d(e);if("all"!==i){const e=t;return e.sort((e,t)=>(e.board||0)-(t.board||0)),(0,Te.jsxs)("div",{className:"section",children:[(0,Te.jsxs)("h3",{className:"section-header",children:[i," Section"]}),(0,Te.jsx)("div",{className:"table-container",children:(0,Te.jsxs)("table",{className:"pairings-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"board-number",children:"Board"}),(0,Te.jsx)("th",{children:"White Player"}),(0,Te.jsx)("th",{children:"Black Player"}),(0,Te.jsx)("th",{className:"result",children:"Result"})]})}),(0,Te.jsx)("tbody",{children:e.map(e=>(0,Te.jsxs)("tr",{className:"player-row",children:[(0,Te.jsx)("td",{className:"board-number",children:e.board||"-"}),(0,Te.jsxs)("td",{children:[(0,Te.jsxs)("div",{className:"player-name",children:[(0,Te.jsx)("span",{className:"white-piece",children:"\u2654"})," ",e.white_name||"TBD"]}),e.white_rating&&(0,Te.jsxs)("div",{className:"player-rating",children:["(",e.white_rating,")"]}),e.white_uscf_id&&(0,Te.jsxs)("div",{className:"player-id",children:["[",e.white_uscf_id,"]"]}),e.is_bye&&(0,Te.jsx)("div",{className:"bye-indicator",children:e.is_intentional_bye?"Intentional Bye":"Bye"})]}),(0,Te.jsxs)("td",{children:[(0,Te.jsxs)("div",{className:"player-name",children:[(0,Te.jsx)("span",{className:"black-piece",children:"\u265a"})," ",e.black_name||"TBD"]}),e.black_rating&&(0,Te.jsxs)("div",{className:"player-rating",children:["(",e.black_rating,")"]}),e.black_uscf_id&&(0,Te.jsxs)("div",{className:"player-id",children:["[",e.black_uscf_id,"]"]}),e.is_bye&&(0,Te.jsx)("div",{className:"bye-indicator",children:e.is_intentional_bye?"Intentional Bye":"Bye"})]}),(0,Te.jsx)("td",{className:"result",children:e.result||"-"})]},e.id))})]})})]})}const r=c(t),s=Object.keys(r).sort();return(0,Te.jsx)("div",{className:"section",children:s.map((e,t)=>{const n=r[e];return n.sort((e,t)=>(e.board||0)-(t.board||0)),(0,Te.jsxs)("div",{className:o&&t>0?"section-break":"no-page-break",children:[(0,Te.jsxs)("h3",{className:"section-header",children:[e," Section"]}),(0,Te.jsx)("div",{className:"table-container",children:(0,Te.jsxs)("table",{className:"pairings-table",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"board-number",children:"Board"}),(0,Te.jsx)("th",{children:"White Player"}),(0,Te.jsx)("th",{children:"Black Player"}),(0,Te.jsx)("th",{className:"result",children:"Result"})]})}),(0,Te.jsx)("tbody",{children:n.map(e=>(0,Te.jsxs)("tr",{className:"player-row",children:[(0,Te.jsx)("td",{className:"board-number",children:e.board||"-"}),(0,Te.jsxs)("td",{children:[(0,Te.jsxs)("div",{className:"player-name",children:[(0,Te.jsx)("span",{className:"white-piece",children:"\u2654"})," ",e.white_name||"TBD"]}),e.white_rating&&(0,Te.jsxs)("div",{className:"player-rating",children:["(",e.white_rating,")"]}),e.white_uscf_id&&(0,Te.jsxs)("div",{className:"player-id",children:["[",e.white_uscf_id,"]"]}),e.is_bye&&(0,Te.jsx)("div",{className:"bye-indicator",children:e.is_intentional_bye?"Intentional Bye":"Bye"})]}),(0,Te.jsxs)("td",{children:[(0,Te.jsxs)("div",{className:"player-name",children:[(0,Te.jsx)("span",{className:"black-piece",children:"\u265a"})," ",e.black_name||"TBD"]}),e.black_rating&&(0,Te.jsxs)("div",{className:"player-rating",children:["(",e.black_rating,")"]}),e.black_uscf_id&&(0,Te.jsxs)("div",{className:"player-id",children:["[",e.black_uscf_id,"]"]}),e.is_bye&&(0,Te.jsx)("div",{className:"bye-indicator",children:e.is_intentional_bye?"Intentional Bye":"Bye"})]}),(0,Te.jsx)("td",{className:"result",children:e.result||"-"})]},e.id))})]})})]},e)})})})(),"standings"===s&&u(),"report"===s&&(0,Te.jsxs)("div",{className:"section",children:[(0,Te.jsxs)("div",{className:"tournament-info",children:[(0,Te.jsx)("h3",{children:"Tournament Summary"}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Format:"})," ",t.format]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Rounds:"})," ",t.rounds]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Players:"})," ",r.length]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Status:"}),(0,Te.jsx)("span",{className:"status-badge status-".concat(t.status),children:t.status})]}),t.chief_td_name&&(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Chief TD:"})," ",t.chief_td_name]}),t.chief_arbiter_name&&(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Chief Arbiter:"})," ",t.chief_arbiter_name]})]}),u(),Array.from({length:t.rounds},(e,t)=>t+1).map(e=>(0,Te.jsxs)("div",{className:"page-break",children:[(0,Te.jsxs)("h2",{className:"tournament-subtitle",children:["Round ",e," Pairings"]}),(0,Te.jsxs)("p",{className:"text-gray-600",children:["Pairings for Round ",e," would be displayed here"]})]},e))]}),(0,Te.jsxs)("div",{className:"print-footer",children:["Generated on ",(new Date).toLocaleString()," | ",t.name]})]})},tn=e=>{let{standings:t,tournament:n,selectedSection:r="all",showTiebreakers:a=!0,showPrizes:s=!0}=e;const i=(e,t)=>{if(!e)return"-";const{result:n,opponent_rank:r,color:a}=e;let s="";if("1/2-1/2"===n||"1/2-1/2F"===n)s="D";else if("1-0"===n||"1-0F"===n)s="white"===a?"W":"L";else{if("0-1"!==n&&"0-1F"!==n)return"-";s="black"===a?"W":"L"}const i="white"===a?"(b)":"(w)",o=r?r.toString():"TBD";return"".concat(s).concat(o," ").concat(i)},o=e=>{let t=e.name.toUpperCase();return t.includes("GM")||t.includes("IM")||t.includes("FM")||t.includes("CM")||(e.rating&&e.rating>=2500?t="GM ".concat(t):e.rating&&e.rating>=2400?t="IM ".concat(t):e.rating&&e.rating>=2300&&(t="FM ".concat(t))),t},l=e=>void 0===e||null===e?"":e.toFixed(1),c=Array.from({length:n.rounds},(e,t)=>t+1),d=t.reduce((e,t)=>{const n=t.section||"Open";return e[n]||(e[n]=[]),e[n].push(t),e},{}),u="all"===r?t:t.filter(e=>(e.section||"Open")===r),h="all"===r?d:{[r]:u};return(0,Te.jsx)("div",{className:"space-y-8",children:Object.entries(h).map(e=>{let[t,n]=e;return(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[(0,Te.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-slate-600 px-6 py-4",children:(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-white",children:[t," Section",(0,Te.jsxs)("span",{className:"ml-2 text-blue-200 text-sm",children:["(",n.length," players)"]})]})}),(0,Te.jsx)("div",{className:"overflow-x-auto mb-6",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 chess-standings-table",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-2 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"No."}),(0,Te.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Player's Name"}),(0,Te.jsx)("th",{className:"px-2 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"USCF"}),(0,Te.jsx)("th",{className:"px-2 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Rating"}),(0,Te.jsx)("th",{className:"px-2 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Pts"}),c.map(e=>(0,Te.jsxs)("th",{className:"px-2 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider border-r border-gray-200",children:["Rnd",e]},e)),a&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("th",{className:"px-2 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"BH"}),(0,Te.jsx)("th",{className:"px-2 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"SB"}),(0,Te.jsx)("th",{className:"px-2 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Perf"})]}),s&&(0,Te.jsx)("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Prize"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>{return(0,Te.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[(0,Te.jsxs)("td",{className:"px-2 py-3 whitespace-nowrap text-sm font-medium text-gray-900 border-r border-gray-200",children:[e.rank,"."]}),(0,Te.jsx)("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-medium text-gray-900 border-r border-gray-200",children:o(e)}),(0,Te.jsx)("td",{className:"px-2 py-3 whitespace-nowrap text-sm text-gray-500 border-r border-gray-200",children:e.uscf_id||""}),(0,Te.jsx)("td",{className:"px-2 py-3 whitespace-nowrap text-sm text-gray-500 border-r border-gray-200",children:(n=e.rating,n?n.toString().padStart(4," "):"")}),(0,Te.jsx)("td",{className:"px-2 py-3 whitespace-nowrap text-sm font-bold text-gray-900 border-r border-gray-200 text-center",children:(t=e.total_points,t.toString())}),c.map(t=>(0,Te.jsx)("td",{className:"px-2 py-3 whitespace-nowrap text-sm text-gray-500 border-r border-gray-200 text-center",children:i(e.roundResults[t])},t)),a&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("td",{className:"px-2 py-3 whitespace-nowrap text-sm text-gray-500 border-r border-gray-200 text-center",children:l(e.tiebreakers.buchholz)}),(0,Te.jsx)("td",{className:"px-2 py-3 whitespace-nowrap text-sm text-gray-500 border-r border-gray-200 text-center",children:l(e.tiebreakers.sonnebornBerger)}),(0,Te.jsx)("td",{className:"px-2 py-3 whitespace-nowrap text-sm text-gray-500 border-r border-gray-200 text-center",children:l(e.tiebreakers.performanceRating)})]}),s&&(0,Te.jsx)("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-500",children:e.prize||""})]},e.id);var t,n})})]})})]},t)})})},nn=tt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),rn=tt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),an=e=>{let{standings:t,tournamentFormat:n,scoringMethod:r="all_players",topN:a,showTiebreakers:s=!0,totalRounds:i=7}=e;console.log("TeamStandingsTable props:",{standings:t,tournamentFormat:n,scoringMethod:r,topN:a,showTiebreakers:s,totalRounds:i});const o=t,l=e=>{switch(e){case 1:return(0,Te.jsx)(rt,{className:"h-4 w-4 text-yellow-500"});case 2:return(0,Te.jsx)(nn,{className:"h-4 w-4 text-gray-400"});case 3:return(0,Te.jsx)(rn,{className:"h-4 w-4 text-amber-600"});default:return null}},c=e=>void 0===e||null===e?"":e.toFixed(1),d=Array.from({length:i},(e,t)=>t+1),u=e=>{const t=e.total_members||e.member_count||0;return"".concat(e.team_name," (").concat(t,")")},h=(e,t)=>{if(!e.progressive_scores||e.progressive_scores.length<t)return"";const n=e.progressive_scores[t-1];return n?n.toFixed(1):"0.0"},m=o.reduce((e,t)=>{const n=t.section||"Open";return e[n]||(e[n]=[]),e[n].push(t),e},{});return(0,Te.jsx)("div",{className:"space-y-8",children:0===o.length?(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow p-8",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(rt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Team Standings Available"}),(0,Te.jsx)("p",{className:"text-gray-600 mb-4",children:"Team standings will appear here once players are assigned to teams and games have been played."}),(0,Te.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,Te.jsx)("p",{children:"To see team standings:"}),(0,Te.jsxs)("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[(0,Te.jsx)("li",{children:"Assign players to teams by setting their team names"}),(0,Te.jsx)("li",{children:"Play some games to generate results"}),(0,Te.jsx)("li",{children:"Team standings will be calculated based on individual player results"})]})]})]})}):Object.entries(m).map(e=>{let[t,n]=e;return(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Te.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-4 rounded-t-lg",children:(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-white",children:[t," Team Standings",(0,Te.jsxs)("span",{className:"ml-2 text-green-200 text-sm",children:["(",n.length," teams)"]})]})}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 border border-gray-300 chess-standings-table",children:[(0,Te.jsx)("thead",{className:"bg-gray-100",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-2 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-r border-gray-300",children:"No."}),(0,Te.jsx)("th",{className:"px-3 py-2 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-r border-gray-300",children:"Team Name"}),(0,Te.jsx)("th",{className:"px-2 py-2 text-center text-xs font-bold text-gray-700 uppercase tracking-wider border-r border-gray-300",children:"Pts"}),d.map(e=>(0,Te.jsxs)("th",{className:"px-2 py-2 text-center text-xs font-bold text-gray-700 uppercase tracking-wider border-r border-gray-300",children:["Rnd",e]},e)),s&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("th",{className:"px-2 py-2 text-center text-xs font-bold text-gray-700 uppercase tracking-wider border-r border-gray-300",children:"BH"}),(0,Te.jsx)("th",{className:"px-2 py-2 text-center text-xs font-bold text-gray-700 uppercase tracking-wider border-r border-gray-300",children:"SB"}),(0,Te.jsx)("th",{className:"px-2 py-2 text-center text-xs font-bold text-gray-700 uppercase tracking-wider border-r border-gray-300",children:"Perf"})]})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e,t)=>{return(0,Te.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Te.jsx)("td",{className:"px-2 py-2 whitespace-nowrap text-sm font-medium text-gray-900 border-r border-gray-300",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[l(t+1),(0,Te.jsxs)("span",{className:"ml-2",children:[t+1,"."]})]})}),(0,Te.jsxs)("td",{className:"px-3 py-2 text-sm font-medium text-gray-900 border-r border-gray-300",children:[(0,Te.jsx)("div",{className:"font-semibold",children:u(e)}),e.players&&e.players.map((e,t)=>(0,Te.jsxs)("div",{className:"text-xs text-gray-600 mt-1 ml-4",children:[e.name," (",e.points,",",e.rating,")"]},t))]}),(0,Te.jsx)("td",{className:"px-2 py-2 whitespace-nowrap text-sm font-medium text-gray-900 border-r border-gray-300 text-center",children:(0,Te.jsx)("span",{className:"font-semibold",children:(n=e.team_total_points||e.score,void 0===n||null===n?"0.0":n.toFixed(1))})}),d.map(t=>(0,Te.jsx)("td",{className:"px-2 py-2 whitespace-nowrap text-sm text-gray-500 border-r border-gray-300 text-center",children:h(e,t)},t)),s&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("td",{className:"px-2 py-2 whitespace-nowrap text-sm text-gray-500 border-r border-gray-300 text-center",children:c(e.buchholz)}),(0,Te.jsx)("td",{className:"px-2 py-2 whitespace-nowrap text-sm text-gray-500 border-r border-gray-300 text-center",children:c(e.sonneborn_berger)}),(0,Te.jsx)("td",{className:"px-2 py-2 whitespace-nowrap text-sm text-gray-500 border-r border-gray-300 text-center",children:e.team_performance_rating||""})]})]},e.team_name);var n})})]})})]},t)})})},sn=e=>{let{pairings:t,round:n,tournamentFormat:r,showResults:a=!1}=e;const s=e=>{switch(e){case"win":return(0,Te.jsx)(rt,{className:"h-4 w-4 text-green-500"});case"loss":return(0,Te.jsx)("span",{className:"text-red-500 font-bold",children:"L"});case"draw":return(0,Te.jsx)("span",{className:"text-yellow-500 font-bold",children:"D"});default:return null}},i=e=>{switch(e){case"win":return"text-green-600 bg-green-50";case"loss":return"text-red-600 bg-red-50";case"draw":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600"}},o=e=>void 0===e||null===e?"-":e.toFixed(1);return(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Te.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,Te.jsx)(Nt,{className:"h-5 w-5 mr-2"}),"Round ",n," Team Pairings"]}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"individual-team-swiss"===r?"Teams paired based on cumulative scores - individual players compete within team matchups":"Teams compete directly against each other"})]}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Board"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team 1"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team 2"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,Te.jsxs)("tr",{children:[(0,Te.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Board ",e.board]}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.team_name})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:a?o(e.team_score):"-"}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.is_bye?(0,Te.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"1-0F"}):a&&e.result?(0,Te.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(i(e.result)),children:[s(e.result),(0,Te.jsx)("span",{className:"ml-1",children:e.result.toUpperCase()})]}):(0,Te.jsx)("span",{className:"text-gray-400",children:"vs"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:a&&!e.is_bye?o(e.opponent_score):"-"}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,Te.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.is_bye?(0,Te.jsx)("span",{className:"text-gray-500 italic",children:"1-0F"}):e.opponent_team_name||"1-0F"})})]},e.id||"".concat(e.team_name,"-").concat(e.board)))})]})}),0===t.length&&(0,Te.jsx)("div",{className:"px-6 py-8 text-center text-gray-500",children:"No team pairings available for this round."})]})},on=tt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),ln=e=>{var t,n;let{tournamentId:r}=e;const[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)([]),[m,f]=(0,a.useState)(!1),[p,x]=(0,a.useState)(""),[g,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[w,N]=(0,a.useState)({player_name:"",uscf_id:"",email:"",phone:"",section:"",bye_requests:[],notes:""}),j=e=>{if(!1===e.allow_registration)return!1;if(!e.start_date)return!0;return new Date(e.start_date)>new Date};(0,a.useEffect)(()=>{(async()=>{if(!r)return d("No tournament ID provided"),void l(!1);try{l(!0);const t=await fetch("/api/registrations/tournament/".concat(r,"/info?t=").concat(Date.now())),n=await t.json();if(n.success){var e;const t=(0,Re.A)((0,Re.A)({},n.data),{},{sections:(null===(e=n.data.sections)||void 0===e?void 0:e.map(e=>"string"===typeof e?e:e.name))||[]});i(t)}else d(n.error||"Failed to load tournament")}catch(er){d("Failed to connect to server"),console.error("Error fetching tournament:",er)}finally{l(!1)}})()},[r]);return o?(0,Te.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Te.jsx)(on,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,Te.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading tournament..."})]}):c?(0,Te.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Kt,{className:"h-5 w-5 text-red-400 mr-2"}),(0,Te.jsx)("span",{className:"text-red-700",children:c})]})}):s?(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:s.name}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(wt,{className:"h-5 w-5 text-gray-400"}),(0,Te.jsx)("span",{className:"text-gray-600",children:s.start_date?new Date(s.start_date).toLocaleDateString():"TBD"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Format:"})," ",s.format]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Rounds:"})," ",s.rounds]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Registration:"}),(0,Te.jsx)("span",{className:"ml-1 ".concat(j(s)?"text-green-600":"text-red-600"),children:j(s)?"Open":"Closed"}),!s.allow_registration&&(0,Te.jsx)("span",{className:"ml-2 text-xs text-red-500",children:"(Disabled by TD)"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Sections:"})," ",(null===(t=s.sections)||void 0===t?void 0:t.join(", "))||"Open"]})]})]}),s&&j(s)?(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,Te.jsx)(mt,{className:"h-5 w-5 mr-2"}),"Register for Tournament"]}),y&&(0,Te.jsxs)("div",{className:"mb-4 p-4 rounded-lg flex items-center ".concat("success"===y.type?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"),children:["success"===y.type?(0,Te.jsx)($t,{className:"h-5 w-5 mr-2"}):(0,Te.jsx)(Kt,{className:"h-5 w-5 mr-2"}),y.text]}),(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r)if(w.player_name&&w.email)if(!s||j(s))try{b(!0),v(null);const e=await fetch("/api/registrations/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,Re.A)({tournament_id:r},w))}),t=await e.json();t.success?(v({type:"success",text:t.message||"Registration submitted successfully!"}),N({player_name:"",uscf_id:"",email:"",phone:"",section:"",bye_requests:[],notes:""}),x("")):t.error&&t.error.includes("Registration is currently closed")?v({type:"error",text:"Registration is currently closed for this tournament. The tournament director has disabled registration."}):v({type:"error",text:t.error||"Failed to submit registration"})}catch(er){er instanceof Error&&er.message&&er.message.includes("fetch")?v({type:"error",text:"Unable to connect to the server. Please check your internet connection and try again."}):er instanceof Error&&er.message?v({type:"error",text:er.message}):v({type:"error",text:"Failed to submit registration. Please try again."}),console.error("Error submitting registration:",er)}finally{b(!1)}else v({type:"error",text:"Registration is currently closed for this tournament. The tournament director has disabled registration."});else v({type:"error",text:"Player name and email are required"});else v({type:"error",text:"No tournament ID provided"})},className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player Name *"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Te.jsx)("input",{type:"text",value:p,onChange:e=>{const t=e.target.value;x(t),(async e=>{if(e.length<2)h([]);else try{f(!0);const t=await fetch("/api/registrations/search-players?q=".concat(encodeURIComponent(e),"&limit=10")),n=await t.json();n.success?h(n.data.players||[]):h([])}catch(er){console.error("Error searching players:",er),h([])}finally{f(!1)}})(t)},placeholder:"Search for player or enter name manually",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),m&&(0,Te.jsx)(on,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-gray-400"})]}),u.length>0&&(0,Te.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:u.map((e,t)=>(0,Te.jsxs)("button",{type:"button",onClick:()=>(e=>{N(t=>(0,Re.A)((0,Re.A)({},t),{},{player_name:e.name,uscf_id:e.uscf_id})),x(e.name),h([])})(e),className:"w-full px-4 py-2 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[(0,Te.jsx)("div",{className:"font-medium",children:e.name}),(0,Te.jsxs)("div",{className:"text-sm text-gray-500",children:["USCF ID: ",e.uscf_id," | Rating: ",e.rating,e.expiration_date&&(0,Te.jsxs)("span",{className:"ml-2",children:["| Expires: ",new Date(e.expiration_date).toLocaleDateString()]})]})]},t))})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player Name *"}),(0,Te.jsx)("input",{type:"text",value:w.player_name,onChange:e=>N(t=>(0,Re.A)((0,Re.A)({},t),{},{player_name:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"USCF ID"}),(0,Te.jsx)("input",{type:"text",value:w.uscf_id,onChange:e=>N(t=>(0,Re.A)((0,Re.A)({},t),{},{uscf_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,Te.jsx)("input",{type:"email",value:w.email,onChange:e=>N(t=>(0,Re.A)((0,Re.A)({},t),{},{email:e.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,Te.jsx)("input",{type:"tel",value:w.phone,onChange:e=>N(t=>(0,Re.A)((0,Re.A)({},t),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),(0,Te.jsxs)("select",{value:w.section,onChange:e=>N(t=>(0,Re.A)((0,Re.A)({},t),{},{section:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Te.jsx)("option",{value:"",children:"Select Section"}),null===(n=s.sections)||void 0===n?void 0:n.map(e=>(0,Te.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,Te.jsx)("textarea",{value:w.notes,onChange:e=>N(t=>(0,Re.A)((0,Re.A)({},t),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional information..."})]}),(0,Te.jsx)("div",{className:"flex justify-end",children:(0,Te.jsx)("button",{type:"submit",disabled:g||s&&!j(s),className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(on,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):s&&!j(s)?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(mt,{className:"h-4 w-4 mr-2"}),"Registration Closed"]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(mt,{className:"h-4 w-4 mr-2"}),"Submit Registration"]})})})]})]}):(0,Te.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Kt,{className:"h-6 w-6 text-red-500 mr-3"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Registration Closed"}),(0,Te.jsxs)("p",{className:"text-red-700",children:["Registration is currently closed for this tournament.",!s.allow_registration&&" The tournament director has disabled registration."]})]})]})})]}):(0,Te.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Kt,{className:"h-5 w-5 text-yellow-400 mr-2"}),(0,Te.jsx)("span",{className:"text-yellow-700",children:"Tournament not found or registration is not available."})]})})},cn=tt("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]),dn=e=>{let{onSystemChange:t,onTiebreakerChange:n,onAccelerationChange:r,onColorBalanceChange:s,onByeSettingsChange:i,selectedSystem:o="fide_dutch",selectedTiebreakers:l=["buchholz","sonneborn_berger","direct_encounter"],accelerationSettings:c={enabled:!1,type:"standard",rounds:2,threshold:null},colorBalanceRules:d="fide",byeSettings:u={fullPointBye:!0,avoidUnratedDropping:!0}}=e;const[h,m]=(0,a.useState)([]),[f,p]=(0,a.useState)([]),[x,g]=(0,a.useState)(!0),[b,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{v(),w()},[]);const v=async()=>{try{const e=await fetch("/api/pairings/systems"),t=await e.json();m(t)}catch(e){console.error("Error fetching pairing systems:",e)}},w=async()=>{try{const e=await fetch("/api/pairings/tiebreakers"),t=await e.json();p(t)}catch(e){console.error("Error fetching tiebreakers:",e)}finally{g(!1)}},N=(e,t)=>{r((0,Re.A)((0,Re.A)({},c),{},{[e]:t}))},j=(e,t)=>{i((0,Re.A)((0,Re.A)({},u),{},{[e]:t}))};if(x)return(0,Te.jsx)("div",{className:"flex justify-center p-4",children:"Loading pairing systems..."});const k=h.find(e=>e.id===o);return(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Pairing System Configuration"}),(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pairing System"}),(0,Te.jsx)("select",{value:o,onChange:e=>{return n=e.target.value,void t(n);var n},className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:h.map(e=>(0,Te.jsx)("option",{value:e.id,children:e.name},e.id))}),k&&(0,Te.jsxs)("div",{className:"mt-2 p-3 bg-gray-50 rounded-md",children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:k.description}),(0,Te.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:["Suitable for: ",k.suitableFor]}),(0,Te.jsx)("div",{className:"flex flex-wrap gap-1",children:k.features.map((e,t)=>(0,Te.jsx)("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:e},t))})]})]}),(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiebreaker Order"}),(0,Te.jsx)("div",{className:"space-y-2",children:f.map(e=>(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",checked:l.includes(e.id),onChange:t=>{return r=e.id,a=t.target.checked,void n(a?[...l,r]:l.filter(e=>e!==r));var r,a},className:"mr-2"}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("span",{className:"text-sm font-medium",children:e.name}),(0,Te.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))})]}),(0,Te.jsxs)("button",{onClick:()=>y(!b),className:"flex items-center text-sm text-blue-600 hover:text-blue-800 mb-4",children:[b?"\u25bc":"\u25b6"," Advanced Settings"]}),b&&(0,Te.jsxs)("div",{className:"space-y-6 border-t pt-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Acceleration Settings"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",checked:c.enabled,onChange:e=>N("enabled",e.target.checked),className:"mr-2"}),(0,Te.jsx)("span",{className:"text-sm",children:"Enable acceleration for large tournaments"})]}),c.enabled&&(0,Te.jsxs)("div",{className:"ml-6 space-y-2",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Acceleration Type"}),(0,Te.jsxs)("select",{value:c.type,onChange:e=>N("type",e.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",children:[(0,Te.jsx)("option",{value:"standard",children:"Standard (A1 vs A2, B1 vs B2)"}),(0,Te.jsx)("option",{value:"added_score",children:"Added Score"}),(0,Te.jsx)("option",{value:"sixths",children:"Sixths"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Rounds to Accelerate"}),(0,Te.jsx)("input",{type:"number",min:"1",max:"5",value:c.rounds,onChange:e=>N("rounds",parseInt(e.target.value)),className:"w-full p-2 border border-gray-300 rounded-md text-sm"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Player Threshold (optional)"}),(0,Te.jsx)("input",{type:"number",min:"0",placeholder:"Auto-calculate if empty",value:c.threshold||"",onChange:e=>N("threshold",e.target.value?parseInt(e.target.value):null),className:"w-full p-2 border border-gray-300 rounded-md text-sm"})]})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Balance Rules"}),(0,Te.jsxs)("select",{value:d,onChange:e=>{return t=e.target.value,void s(t);var t},className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,Te.jsx)("option",{value:"fide",children:"FIDE Rules (Aggressive color correction)"}),(0,Te.jsx)("option",{value:"uscf",children:"USCF Rules (Rating-aware with limits)"}),(0,Te.jsx)("option",{value:"simple",children:"Simple (Basic color balancing)"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bye Settings"}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",checked:u.fullPointBye,onChange:e=>j("fullPointBye",e.target.checked),className:"mr-2"}),(0,Te.jsx)("span",{className:"text-sm",children:"Full-point bye (1.0 points)"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",checked:u.avoidUnratedDropping,onChange:e=>j("avoidUnratedDropping",e.target.checked),className:"mr-2"}),(0,Te.jsx)("span",{className:"text-sm",children:"Avoid dropping unrated players"})]})]})]})]})]})},un=e=>{let{tournamentId:t,round:n,section:r,onPairingsGenerated:s,onError:i}=e;const[o,l]=(0,a.useState)("fide_dutch"),[c,d]=(0,a.useState)(["buchholz","sonneborn_berger","direct_encounter"]),[u,h]=(0,a.useState)({enabled:!1,type:"standard",rounds:2,threshold:null}),[m,f]=(0,a.useState)("fide"),[p,x]=(0,a.useState)({fullPointBye:!0,avoidUnratedDropping:!0}),[g,b]=(0,a.useState)(!1);return(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-xl font-semibold",children:["Generate Round ",n," Pairings"]}),(0,Te.jsx)("button",{onClick:()=>{console.log("\ud83d\udd18 Generate Pairings button clicked!"),(async()=>{if(console.log("\ud83d\ude80 Starting pairing generation...",{tournamentId:t,round:n,pairingSystem:o,tiebreakerOrder:c,accelerationSettings:u,colorBalanceRules:m,byeSettings:p}),console.log("\ud83d\udd0d Round type:",typeof n,"Round value:",n),!t)return console.error("\u274c No tournament ID provided"),void i("No tournament ID provided");const e=parseInt(n.toString());if(isNaN(e)||e<1)return console.error("\u274c Invalid round number:",n),void i("Invalid round number");b(!0);try{const n=await fetch("/api/enhanced/pairings/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournamentId:t,round:e,pairingSystem:o,tiebreakerOrder:c,accelerationSettings:u,colorBalanceRules:m,byeSettings:p,section:r})});console.log("\ud83d\udce1 API Response status:",n.status);const a=await n.json();if(console.log("\ud83d\udcca API Response data:",a),!n.ok)throw new Error(a.error||"Failed to generate pairings");console.log("\u2705 Pairings generated successfully:",a.pairings),s(a.pairings)}catch(a){console.error("\u274c Error generating pairings:",a),i(a instanceof Error?a.message:"An error occurred")}finally{b(!1)}})()},disabled:g,className:"px-4 py-2 rounded-md font-medium ".concat(g?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:g?"Generating...":"Generate Pairings"})]}),(0,Te.jsx)(dn,{onSystemChange:l,onTiebreakerChange:d,onAccelerationChange:h,onColorBalanceChange:f,onByeSettingsChange:x,selectedSystem:o,selectedTiebreakers:c,accelerationSettings:u,colorBalanceRules:m,byeSettings:p}),(0,Te.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-md",children:[(0,Te.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Current Configuration"}),(0,Te.jsxs)("div",{className:"text-sm text-blue-800 space-y-1",children:[(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Pairing System:"})," ",o]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Tiebreakers:"})," ",c.join(", ")]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Color Balance:"})," ",m]}),u.enabled&&(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Acceleration:"})," ",u.type," for ",u.rounds," rounds"]})]})]})]})},hn=e=>{let{tournament:t,players:n,pairings:r,currentRound:s,onRoundChange:i,onPairingsUpdate:o,onCompleteRound:l,onResetPairings:c,onPrint:d,onGeneratePairingsForSection:u,onResetPairingsForSection:h,onUpdateResult:m,onSectionChange:f,availableSections:p,isLoading:x}=e;const g=ne(),[b,y]=(0,a.useState)(p[0]||"Open"),[v,w]=(0,a.useState)(!1),[N,j]=(0,a.useState)("pairings"),[k,S]=(0,a.useState)(null),[_,A]=(0,a.useState)(!1),C=async()=>{if(null!==t&&void 0!==t&&t.id){A(!0);try{const e=await St.tk.getRoundStatus(t.id,s,b);S(e.data)}catch(e){console.error("Failed to fetch round status:",e)}finally{A(!1)}}};(0,a.useEffect)(()=>{C()},[null===t||void 0===t?void 0:t.id,s,b]),console.log("\ud83c\udfaf StreamlinedPairingSystem - Total pairings:",r.length),console.log("\ud83c\udfaf Current round:",s,"Selected section:",b),console.log("\ud83c\udfaf All pairings:",r);const L=r.filter(e=>e.round===s&&(e.section||"Open")===b);console.log("\ud83c\udfaf Filtered pairings for round",s,":",L.length);const P=L.reduce((e,t)=>{const n=t.section||"Open";return e[n]||(e[n]=[]),e[n].push(t),e},{}),E=(()=>{if(k)return{totalPairings:k.totalPairings,completedPairings:k.completedPairings,percentage:k.completionPercentage,isComplete:k.isComplete,canGenerateNextRound:k.canGenerateNextRound};const e=L.length,t=L.filter(e=>e.result&&"TBD"!==e.result).length;return{totalPairings:e,completedPairings:t,percentage:e>0?Math.round(t/e*100):0,isComplete:e>0&&t===e,canGenerateNextRound:!1}})(),F=async(e,t)=>{try{console.log("\ud83c\udfaf Updating result for pairing:",e,"result:",t),await m(e,t),console.log("\u2705 Result updated successfully"),setTimeout(()=>{console.log("\ud83d\udd04 Refreshing round status..."),C()},500)}catch(n){console.error("\u274c Failed to update result:",n),alert("Failed to update result: ".concat(n))}},R=(e,t)=>{const n="px-2 py-1 text-xs font-medium rounded transition-colors",r=t===e;switch(e){case"1-0":case"1-0F":return"".concat(n," ").concat(r?"bg-green-600 text-white":"bg-green-100 text-green-800 hover:bg-green-200");case"0-1":case"0-1F":return"".concat(n," ").concat(r?"bg-red-600 text-white":"bg-red-100 text-red-800 hover:bg-red-200");case"1/2-1/2":case"1/2-1/2F":return"".concat(n," ").concat(r?"bg-yellow-600 text-white":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200");default:return"".concat(n," ").concat(r?"bg-blue-600 text-white":"bg-blue-100 text-blue-800 hover:bg-blue-200")}};return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:(0,Te.jsx)("div",{className:"border-b border-gray-200",children:(0,Te.jsxs)("nav",{className:"-mb-px flex space-x-8 px-6",children:[(0,Te.jsxs)("button",{onClick:()=>j("pairings"),className:"".concat("pairings"===N?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,Te.jsx)(Nt,{className:"h-4 w-4 mr-2"}),"Pairings"]}),(0,Te.jsxs)("button",{onClick:()=>j("generator"),className:"".concat("generator"===N?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,Te.jsx)(cn,{className:"h-4 w-4 mr-2"}),"Generator"]})]})})}),"generator"===N&&(0,Te.jsx)(un,{tournamentId:null===t||void 0===t?void 0:t.id,round:s,section:b,onPairingsGenerated:e=>{console.log("Generated pairings:",e),o(e),j("pairings")},onError:e=>{console.error("Pairing generation error:",e);const t="string"===typeof e?e:(null===e||void 0===e?void 0:e.message)||"Unknown error";alert("Pairing generation failed: ".concat(t))}}),"pairings"===N&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Round ",s," Pairings"]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsxs)("button",{onClick:()=>i(s-1),disabled:s<=1,className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:[(0,Te.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,Te.jsx)("span",{children:"Prev"})]}),(0,Te.jsxs)("span",{className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md",children:["Round ",s]}),(0,Te.jsxs)("button",{onClick:()=>i(s+1),disabled:s>=((null===t||void 0===t?void 0:t.total_rounds)||5),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:[(0,Te.jsx)("span",{children:"Next"}),(0,Te.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),(0,Te.jsx)("div",{className:"flex items-center space-x-4",children:(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsxs)("button",{onClick:()=>w(!v),className:"flex items-center space-x-2 px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[(0,Te.jsxs)("span",{children:[b," Section"]}),(0,Te.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),v&&(0,Te.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-10",children:(0,Te.jsx)("div",{className:"py-1",children:p.map(e=>(0,Te.jsxs)("button",{onClick:()=>(e=>{"all"!==e&&(y(e),w(!1),f(e))})(e),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 ".concat(b===e?"bg-blue-50 text-blue-700":"text-gray-700"),children:[e," Section"]},e))})})]})})]})}),(0,Te.jsx)("div",{className:"px-6 py-4 bg-blue-50 border-b border-blue-200",children:(0,Te.jsxs)("div",{className:"flex items-start",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(0,Te.jsx)("svg",{className:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Te.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Independent Section Pairings"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-blue-700",children:"Each section generates pairings independently. You can generate pairings for individual sections or all sections at once."})]})]})}),(0,Te.jsxs)("div",{className:"px-6 py-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsxs)("button",{onClick:d,className:"flex items-center space-x-2 px-3 py-1.5 text-sm font-medium text-white bg-purple-600 rounded-md hover:bg-purple-700 transition-colors",children:[(0,Te.jsx)(Dt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Print"})]}),(0,Te.jsxs)("button",{onClick:c,className:"flex items-center space-x-2 px-3 py-1.5 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 transition-colors",children:[(0,Te.jsx)(Ft,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Reset"})]}),b&&(0,Te.jsx)("button",{onClick:()=>u(b),disabled:x,className:"flex items-center space-x-2 px-3 py-1.5 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,Te.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Te.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Te.jsx)("span",{children:"Generating..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Nt,{className:"h-4 w-4"}),(0,Te.jsxs)("span",{children:["Generate ",b," Section"]})]})})]}),E.totalPairings>0&&(0,Te.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Te.jsx)("span",{className:"font-medium",children:E.completedPairings})," of ",(0,Te.jsx)("span",{className:"font-medium",children:E.totalPairings})," completed (",E.percentage,"%)"]})]}),E.totalPairings>0&&(0,Te.jsx)("div",{className:"mt-4",children:(0,Te.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Te.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(E.percentage,"%")}})})})]})]}),"all"===b&&Object.keys(P).length>0&&(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(P).map(e=>{let[n,r]=e;const a={total:r.length,completed:r.filter(e=>e.result&&"TBD"!==e.result).length},i=a.total>0?Math.round(a.completed/a.total*100):0,o=(e=>e.length>0&&e.every(e=>e.result&&"TBD"!==e.result))(r);return(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4 hover:shadow-md transition-shadow",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsxs)("h3",{className:"font-semibold text-gray-900",children:[n," Section"]}),(0,Te.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Independent"})]}),(0,Te.jsx)("button",{onClick:()=>(e=>{null!==t&&void 0!==t&&t.id&&g("/tournaments/".concat(t.id,"/pairings/").concat(e))})(n),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"View in separate page",children:(0,Te.jsx)(Rt,{className:"h-4 w-4"})})]}),(0,Te.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:[a.total," games \u2022 Round ",s]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,Te.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,Te.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(o?"bg-green-500":"bg-blue-500"),style:{width:"".concat(i,"%")}})}),(0,Te.jsxs)("span",{className:"text-xs text-gray-500 w-8",children:[i,"%"]})]}),(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>u(n),disabled:x,className:"flex-1 px-3 py-1 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200 disabled:opacity-50 transition-colors",children:"Generate"}),(0,Te.jsx)("button",{onClick:()=>h(n),disabled:x,className:"flex-1 px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200 disabled:opacity-50 transition-colors",children:"Reset"})]}),o&&a.total>0&&(0,Te.jsxs)("div",{className:"mt-2 flex items-center space-x-1 text-green-600 text-xs",children:[(0,Te.jsx)($t,{className:"h-3 w-3"}),(0,Te.jsxs)("span",{children:["Ready for Round ",s+1]})]})]},n)})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:0===L.length?(0,Te.jsxs)("div",{className:"p-12 text-center",children:[(0,Te.jsx)(Nt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Te.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pairings Yet"}),(0,Te.jsx)("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"all"===b?"Select a section to generate pairings for this round.":'Click "Generate" to create pairings for the '.concat(b," section.")}),"all"!==b&&(0,Te.jsx)("button",{onClick:()=>u(b),disabled:x,className:"inline-flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 disabled:opacity-50 transition-colors",children:x?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,Te.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Te.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Te.jsx)("span",{children:"Generating..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Nt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Generate Pairings"})]})})]}):(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Board"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"White Player"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Black Player"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Result"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Section"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(e=>(0,Te.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:e.board}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Te.jsxs)("div",{className:"flex flex-col",children:[(0,Te.jsx)("span",{className:"font-medium text-gray-900",children:e.white_name||"TBD"}),e.white_rating&&(0,Te.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.white_rating,")"]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Te.jsxs)("div",{className:"flex flex-col",children:[(0,Te.jsx)("span",{className:"font-medium text-gray-900",children:e.black_name||"TBD"}),e.black_rating&&(0,Te.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.black_rating,")"]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,Te.jsxs)("div",{className:"flex space-x-1 justify-center",children:[(0,Te.jsx)("button",{onClick:t=>{t.preventDefault(),console.log("\ud83d\udd25 BUTTON CLICKED: 1-0 for pairing:",e.id),F(e.id,"1-0")},className:R("1-0",e.result),title:"White wins",children:"1-0"}),(0,Te.jsx)("button",{onClick:t=>{t.preventDefault(),console.log("\ud83d\udd25 BUTTON CLICKED: 0-1 for pairing:",e.id),F(e.id,"0-1")},className:R("0-1",e.result),title:"Black wins",children:"0-1"}),(0,Te.jsx)("button",{onClick:t=>{t.preventDefault(),console.log("\ud83d\udd25 BUTTON CLICKED: 1/2-1/2 for pairing:",e.id),F(e.id,"1/2-1/2")},className:R("1/2-1/2",e.result),title:"Draw",children:"\xbd-\xbd"}),(0,Te.jsx)("button",{onClick:()=>F(e.id,"1-0F"),className:R("1-0F",e.result),title:"White wins by forfeit",children:"1-0F"}),(0,Te.jsx)("button",{onClick:()=>F(e.id,"0-1F"),className:R("0-1F",e.result),title:"Black wins by forfeit",children:"0-1F"}),(0,Te.jsx)("button",{onClick:()=>F(e.id,"1/2-1/2F"),className:R("1/2-1/2F",e.result),title:"Draw by forfeit",children:"\xbd-\xbdF"})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.section||"Open"})]},e.id))})]})})}),E.isComplete&&E.totalPairings>0&&(0,Te.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)($t,{className:"h-5 w-5 text-green-600"}),(0,Te.jsx)("span",{className:"text-green-800 font-medium",children:"All results submitted!"}),E.canGenerateNextRound&&(0,Te.jsxs)("span",{className:"text-green-600 text-sm",children:["Ready for Round ",s+1]})]}),(0,Te.jsxs)("div",{className:"flex space-x-2",children:[E.canGenerateNextRound&&(0,Te.jsxs)("button",{onClick:()=>i(s+1),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:["Go to Round ",s+1]}),(0,Te.jsxs)("button",{onClick:()=>l(b),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:["Complete Round ",s]})]})]})}),!1]})]})},mn=e=>{var t,n;let{tournamentId:r,isVisible:s,onClose:i}=e;const[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[m,f]=(0,a.useState)("top_4"),[p,x]=(0,a.useState)(4);(0,a.useEffect)(()=>{s&&r&&g()},[s,r,m,p]);const g=async()=>{d(!0),h(null);try{const e=await fetch("/api/teams/tournament/".concat(r,"/standings?scoring_method=").concat(m,"&top_n=").concat(p));if(!e.ok)throw new Error("Failed to fetch team standings");const t=await e.json();if(!t.success)throw new Error(t.error||"Failed to fetch team standings");l(t.standings||[])}catch(er){console.error("Error fetching team standings:",er),h(er.message)}finally{d(!1)}};return s?(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)(Nt,{className:"w-6 h-6 text-blue-600"}),(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Team Standings"})]}),(0,Te.jsxs)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors",children:[(0,Te.jsx)("span",{className:"sr-only",children:"Close"}),(0,Te.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"mb-6 flex flex-wrap gap-4 items-center",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("label",{htmlFor:"scoring-method",className:"text-sm font-medium text-gray-700",children:"Scoring Method:"}),(0,Te.jsxs)("select",{id:"scoring-method",value:m,onChange:e=>f(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"top_4",children:"Top 4 Players"}),(0,Te.jsx)("option",{value:"top_3",children:"Top 3 Players"}),(0,Te.jsx)("option",{value:"top_2",children:"Top 2 Players"}),(0,Te.jsx)("option",{value:"all_players",children:"All Players"})]})]}),m.startsWith("top_")&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("label",{htmlFor:"top-n",className:"text-sm font-medium text-gray-700",children:"Count:"}),(0,Te.jsx)("input",{id:"top-n",type:"number",min:"1",max:"10",value:p,onChange:e=>x(parseInt(e.target.value)||4),className:"border border-gray-300 rounded-md px-3 py-1 text-sm w-16 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsx)("button",{onClick:g,disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 text-sm",children:c?"Loading...":"Refresh"})]}),u&&(0,Te.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,Te.jsx)("p",{className:"text-red-800 text-sm",children:u})}),c?(0,Te.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===o.length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(Nt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-500 text-lg",children:"No team standings available"}),(0,Te.jsx)("p",{className:"text-gray-400 text-sm",children:"Teams need to be created and players assigned to see standings"})]}):(0,Te.jsx)(an,{standings:o,tournamentFormat:"individual-team-swiss",scoringMethod:"top_4"===m?"top_players":"all_players",topN:p,showTiebreakers:!0,totalRounds:(null===(t=o[0])||void 0===t||null===(n=t.progressive_scores)||void 0===n?void 0:n.length)||7})]})]})}):null},fn=()=>{const{id:e}=re(),t=ne(),{state:r,dispatch:s}=Me(),[i,o]=(0,a.useState)("pairings"),[l,c]=(0,a.useState)(1),[d,u]=(0,a.useState)(""),[h,m]=(0,a.useState)({}),[f,p]=(0,a.useState)(null),[x,g]=(0,a.useState)(""),b=e=>h[e]||1,y=(e,t)=>{m(n=>(0,Re.A)((0,Re.A)({},n),{},{[e]:t}))},[v,w]=(0,a.useState)(!1),[N,j]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1),[_,A]=(0,a.useState)(!1),[C,L]=(0,a.useState)(!1),[P,E]=(0,a.useState)(!1),[F,R]=(0,a.useState)(!1),[T,O]=(0,a.useState)(null),[I,D]=(0,a.useState)(new Set),[z,M]=(0,a.useState)(null),[B,U]=(0,a.useState)({showRatings:!0,showUscfIds:!1,boardNumbers:!0,displayFormat:"default"}),[q,H]=(0,a.useState)(!0),[W,V]=(0,a.useState)(null),[G,Y]=(0,a.useState)("standard"),[J,K]=(0,a.useState)(!1),$=(0,a.useRef)(!1),[X,Q]=(0,a.useState)(!1),[Z,ee]=(0,a.useState)([]),[te,ae]=(0,a.useState)([]),[se,ie]=(0,a.useState)("all_players"),[oe,le]=(0,a.useState)(4),ce=r.currentTournament,de=(0,a.useCallback)(async()=>{if(e)try{console.log("TournamentDetail: Starting fetchTournament for ID:",e),K(!0),s({type:"SET_ERROR",payload:null});const t=await St.Sj.getById(e);if(console.log("TournamentDetail: API response:",t),!t.data.success)throw console.error("TournamentDetail: API returned error:",t.data.error),new Error(t.data.error||"Failed to load tournament");console.log("TournamentDetail: Tournament data loaded:",t.data.data),s({type:"SET_CURRENT_TOURNAMENT",payload:t.data.data})}catch(r){var t,n;console.error("Failed to fetch tournament:",r),s({type:"SET_ERROR",payload:r.message||(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to load tournament"})}finally{K(!1)}},[e,s]),ue=(0,a.useCallback)(async()=>{if(e)try{const t=await St.Yv.getByTournament(e);if(!t.data.success)throw new Error(t.data.error||"Failed to load players");s({type:"SET_PLAYERS",payload:t.data.data})}catch(r){var t,n;console.error("Failed to fetch players:",r),s({type:"SET_ERROR",payload:(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to load players"})}},[e,s]),he=(0,a.useCallback)(async t=>{if(e)try{console.log("\ud83d\udd0d Fetching pairings for tournament:",e,"round:",t);const n=await St.tk.getByRound(e,t);console.log("\u2705 Pairings fetched:",n.data.length,"pairings"),console.log("\ud83d\udcca Pairings data:",n.data),s({type:"SET_PAIRINGS",payload:n.data})}catch(n){console.error("\u274c Failed to fetch pairings:",n)}},[e,s]),me=(0,a.useCallback)(async()=>{if(e)try{const t=await St.tk.getStandings(e,!0,!0);s({type:"SET_STANDINGS",payload:t.data})}catch(r){var t,n;console.error("Failed to fetch standings:",r),s({type:"SET_ERROR",payload:(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to load standings"})}},[e,s]),fe=(0,a.useCallback)(async()=>{if(e)try{const t=n(6291).Sj,r=await t.getTeamStandings(e,{scoring_method:"top_players"===se?"top_4":"all_players",top_n:"top_players"===se?oe:void 0});console.log("Team standings response:",r.data),console.log("Team standings data:",r.data.standings),ee(r.data.standings||[])}catch(t){console.error("Failed to fetch team standings:",t)}},[e,se,oe]),pe=(0,a.useCallback)(async()=>{if(e&&ce&&["team-swiss","team-round-robin"].includes(ce.format))try{const t=n(6291).Sj,r=await t.getTeamPairings(e,l);ae(r.data||[])}catch(t){console.error("Failed to fetch team pairings:",t)}},[e,ce,l]);(0,a.useEffect)(()=>{e&&(console.log("TournamentDetail: Fetching data for tournament ID:",e),s({type:"CLEAR_CACHE"}),de(),ue(),me())},[e,s,de,ue,me]),(0,a.useEffect)(()=>{if(ce&&""===d){const e=xe();e.length>0&&u(e[0])}},[ce,d]),(0,a.useEffect)(()=>{ce&&(fe(),pe())},[ce,fe,pe]),(0,a.useEffect)(()=>{e&&l&&he(l)},[e,l,he]),(0,a.useEffect)(()=>{if(ce&&r.pairings.length>0){const e=Math.max(...r.pairings.map(e=>e.round));e>l&&c(e)}},[ce,r.pairings,l]);const xe=()=>ce?zt(ce,r.players):[],ge=async e=>{try{await St.Yv.update(e,{team_name:x||void 0}),await ue(),p(null),g("")}catch(t){console.error("Failed to update team name:",t),alert("Failed to update team name. Please try again.")}},be=()=>{p(null),g("")};if(console.log("TournamentDetail: Render state:",{tournament:ce,isLoading:J,error:r.error,hasTournament:!!ce,shouldShowLoading:!ce&&(J||!r.error)}),!ce&&(J||!r.error))return(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-chess-board mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading tournament..."}),(0,Te.jsxs)("div",{className:"mt-4 space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>{console.log("Manual test - fetching tournament..."),de()},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Test API Call"}),(0,Te.jsx)("button",{onClick:()=>{console.log("Manual test - clearing cache and refetching..."),s({type:"CLEAR_CACHE"}),de()},className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Clear Cache & Retry"})]})]});if(r.error)return(0,Te.jsx)("div",{className:"text-center py-12",children:(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,Te.jsx)("p",{className:"font-bold",children:"Error"}),(0,Te.jsx)("p",{children:r.error})]}),(0,Te.jsx)("button",{onClick:()=>{s({type:"SET_ERROR",payload:null}),de(),ue(),me()},className:"bg-chess-board text-white px-4 py-2 rounded-lg hover:bg-chess-dark transition-colors",children:"Retry"})]})});if(!ce)return(0,Te.jsx)("div",{className:"text-center py-12",children:(0,Te.jsxs)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded",children:[(0,Te.jsx)("p",{className:"font-bold",children:"Tournament Not Found"}),(0,Te.jsx)("p",{children:"The tournament you're looking for doesn't exist or has been removed."})]})});return(0,Te.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Te.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("button",{onClick:()=>t(-1),className:"flex items-center text-gray-500 hover:text-gray-700 transition-colors",children:[(0,Te.jsx)(Et,{className:"h-4 w-4 mr-1"}),(0,Te.jsx)("span",{className:"text-sm font-medium",children:"Back"})]}),(0,Te.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:ce.name}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3 mt-1",children:[(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat((e=>{if(!e)return"bg-gray-100 text-gray-800";switch(e){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(ce.status)),children:ce.status?ce.status.charAt(0).toUpperCase()+ce.status.slice(1):"Unknown"}),(0,Te.jsx)("span",{className:"text-sm text-gray-500 capitalize",children:ce.format?ce.format.replace("-"," "):"Unknown"}),(0,Te.jsxs)("span",{className:"text-sm text-gray-500",children:[ce.rounds," rounds"]})]})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsxs)("button",{onClick:()=>{s({type:"SET_ERROR",payload:null}),de(),ue(),me()},className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[(0,Te.jsx)(Ft,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Refresh"})]}),(0,Te.jsxs)("a",{href:"/public/tournaments/".concat(e),target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(Rt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Public View"})]}),"pairings"===i&&(0,Te.jsxs)("button",{onClick:()=>E(!P),className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[(0,Te.jsx)(Tt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Display Options"})]})]})]})})}),(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Tournament Details"})}),(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(0,Te.jsx)(wt,{className:"h-5 w-5 text-gray-400"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),(0,Te.jsx)("p",{className:"text-sm text-gray-900",children:ce.start_date?new Date(ce.start_date).toLocaleDateString():"TBD"})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(0,Te.jsx)(wt,{className:"h-5 w-5 text-gray-400"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"End Date"}),(0,Te.jsx)("p",{className:"text-sm text-gray-900",children:ce.end_date?new Date(ce.end_date).toLocaleDateString():"TBD"})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(0,Te.jsx)(Lt,{className:"h-5 w-5 text-gray-400"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Time Control"}),(0,Te.jsx)("p",{className:"text-sm text-gray-900",children:ce.time_control||"TBD"})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(0,Te.jsx)(Nt,{className:"h-5 w-5 text-gray-400"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Players"}),(0,Te.jsx)("p",{className:"text-sm text-gray-900",children:r.players.length})]})]})]}),(0,Te.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Registration Settings"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Control whether players can register for this tournament"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("span",{className:"text-sm font-medium ".concat(ce.allow_registration?"text-green-600":"text-red-600"),children:ce.allow_registration?"Registration Open":"Registration Closed"}),(0,Te.jsx)("button",{onClick:async()=>{try{const t=(0,Re.A)((0,Re.A)({},ce),{},{allow_registration:!ce.allow_registration});await St.Sj.update(e,t),await de()}catch(t){console.error("Failed to update registration setting:",t),alert("Failed to update registration setting. Please try again.")}},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-chess-board focus:ring-offset-2 ".concat(ce.allow_registration?"bg-chess-board":"bg-gray-200"),children:(0,Te.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(ce.allow_registration?"translate-x-6":"translate-x-1")})})]})]})}),(ce.city||ce.state||ce.location||ce.chief_td_name||ce.website)&&(0,Te.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tournament Details"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[ce.city&&ce.state&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-6 w-6 text-gray-400 mr-3 flex items-center justify-center",children:"\ud83d\udccd"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Location"}),(0,Te.jsxs)("p",{className:"font-medium",children:[ce.city,", ",ce.state]}),ce.location&&(0,Te.jsx)("p",{className:"text-sm text-gray-500",children:ce.location})]})]}),ce.chief_td_name&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-6 w-6 text-gray-400 mr-3 flex items-center justify-center",children:"\ud83d\udc68\u200d\ud83d\udcbc"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Chief TD"}),(0,Te.jsx)("p",{className:"font-medium",children:ce.chief_td_name}),ce.chief_td_uscf_id&&(0,Te.jsxs)("p",{className:"text-sm text-gray-500",children:["USCF ID: ",ce.chief_td_uscf_id]})]})]}),ce.chief_arbiter_name&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-6 w-6 text-gray-400 mr-3 flex items-center justify-center",children:"\u2696\ufe0f"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Chief Arbiter"}),(0,Te.jsx)("p",{className:"font-medium",children:ce.chief_arbiter_name}),ce.chief_arbiter_fide_id&&(0,Te.jsxs)("p",{className:"text-sm text-gray-500",children:["FIDE ID: ",ce.chief_arbiter_fide_id]})]})]}),ce.expected_players&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-6 w-6 text-gray-400 mr-3 flex items-center justify-center",children:"\ud83d\udc65"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Expected Players"}),(0,Te.jsx)("p",{className:"font-medium",children:ce.expected_players})]})]}),ce.website&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-6 w-6 text-gray-400 mr-3 flex items-center justify-center",children:"\ud83c\udf10"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Website"}),(0,Te.jsx)("a",{href:ce.website,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:text-blue-800",children:"Visit Website"})]})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-6 w-6 text-gray-400 mr-3 flex items-center justify-center",children:"\ud83c\udfc6"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Rating"}),(0,Te.jsxs)("div",{className:"flex space-x-2",children:[ce.uscf_rated&&(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"USCF"}),ce.fide_rated&&(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"FIDE"}),!ce.uscf_rated&&!ce.fide_rated&&(0,Te.jsx)("span",{className:"text-sm text-gray-500",children:"Unrated"})]})]})]})]})]})]}),(()=>{const e=(()=>{if(!r.players||0===r.players.length)return[];const e=[],t=new Date;return r.players.forEach(n=>{if(n.expiration_date){const r=new Date(n.expiration_date),a=Math.ceil((r.getTime()-t.getTime())/864e5);a<0?e.push({type:"expired",player:n.name,message:"".concat(n.name,"'s USCF ID has expired")}):a<=30&&e.push({type:"expiring",player:n.name,message:"".concat(n.name,"'s USCF ID expires in ").concat(a," days")})}}),e})();return 0===e.length?null:(0,Te.jsx)("div",{className:"space-y-2",children:e.map((e,t)=>(0,Te.jsx)("div",{className:"px-4 py-3 rounded-md ".concat("expired"===e.type?"bg-red-100 border border-red-400 text-red-700":"bg-yellow-100 border border-yellow-400 text-yellow-700"),children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:"expired"===e.type?(0,Te.jsx)(ct,{className:"h-5 w-5 text-red-400"}):(0,Te.jsx)(Lt,{className:"h-5 w-5 text-yellow-400"})}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("p",{className:"text-sm font-medium",children:"expired"===e.type?"Expired ID":"Expiring ID"}),(0,Te.jsx)("p",{className:"text-sm",children:e.message})]})]})},t))})})(),P&&"pairings"===i&&(0,Te.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border",children:[(0,Te.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Pairings Display Options"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Te.jsx)("div",{className:"flex items-center space-x-2",children:(0,Te.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("input",{type:"checkbox",checked:B.showRatings,onChange:e=>U(t=>(0,Re.A)((0,Re.A)({},t),{},{showRatings:e.target.checked})),className:"rounded"}),(0,Te.jsx)("span",{className:"text-sm",children:"Show Ratings"})]})}),(0,Te.jsx)("div",{className:"flex items-center space-x-2",children:(0,Te.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("input",{type:"checkbox",checked:B.showUscfIds,onChange:e=>U(t=>(0,Re.A)((0,Re.A)({},t),{},{showUscfIds:e.target.checked})),className:"rounded"}),(0,Te.jsx)("span",{className:"text-sm",children:"Show USCF IDs"})]})}),(0,Te.jsx)("div",{className:"flex items-center space-x-2",children:(0,Te.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("input",{type:"checkbox",checked:B.boardNumbers,onChange:e=>U(t=>(0,Re.A)((0,Re.A)({},t),{},{boardNumbers:e.target.checked})),className:"rounded"}),(0,Te.jsx)("span",{className:"text-sm",children:"Board Numbers"})]})}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("label",{className:"text-sm",children:"Format:"}),(0,Te.jsxs)("select",{value:B.displayFormat,onChange:e=>U(t=>(0,Re.A)((0,Re.A)({},t),{},{displayFormat:e.target.value})),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[(0,Te.jsx)("option",{value:"default",children:"Default"}),(0,Te.jsx)("option",{value:"compact",children:"Compact"}),(0,Te.jsx)("option",{value:"detailed",children:"Detailed"})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[(0,Te.jsx)("div",{className:"border-b border-gray-200",children:(0,Te.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,Te.jsxs)("button",{onClick:()=>o("players"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("players"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Players (",r.players.length,")"]}),(0,Te.jsx)("button",{onClick:()=>o("pairings"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("pairings"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Pairings"}),(0,Te.jsx)("button",{onClick:()=>o("standings"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("standings"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Standings"}),(0,Te.jsx)("button",{onClick:()=>{o("team-standings"),fe()},className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("team-standings"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Team Standings"}),ce&&["team-swiss","team-round-robin"].includes(ce.format)&&(0,Te.jsx)("button",{onClick:()=>o("team-pairings"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("team-pairings"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Team Pairings"}),(0,Te.jsx)("button",{onClick:()=>o("registrations"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat("registrations"===i?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Registrations"})]})}),(0,Te.jsxs)("div",{className:"p-6",children:["players"===i&&(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Player Management"}),(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(st,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Add Player"})]}),(0,Te.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center space-x-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[(0,Te.jsx)(Nt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Bulk Add"})]}),(0,Te.jsxs)("button",{onClick:()=>A(!0),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[(0,Te.jsx)(Ot,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Import CSV"})]}),(0,Te.jsxs)("button",{onClick:()=>L(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(It,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Export USCF"})]})]})]}),(0,Te.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:[(0,Te.jsx)("p",{children:"\u2022 Click \u270f\ufe0f next to team names to edit them inline"}),(0,Te.jsx)("p",{children:"\u2022 Select multiple players to assign them to teams or perform bulk operations"})]})]}),I.size>0&&(0,Te.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("span",{className:"text-sm font-medium text-blue-800",children:[I.size," player(s) selected"]}),(0,Te.jsx)("button",{onClick:()=>D(new Set),className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Clear selection"})]}),(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsxs)("button",{onClick:()=>S(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(Nt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Batch Operations"})]}),(0,Te.jsx)("button",{onClick:async()=>{if(0!==I.size)try{const e=Array.from(I).map(e=>St.Yv.update(e,{status:"active"}));await Promise.all(e),D(new Set),await ue(),await me(),alert("Successfully activated ".concat(I.size," player(s)"))}catch(e){console.error("Failed to batch activate players:",e),alert("Failed to activate some players. Please try again.")}},className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:(0,Te.jsx)("span",{children:"Activate Selected"})}),(0,Te.jsx)("button",{onClick:async()=>{if(0!==I.size)try{const e=Array.from(I).map(e=>St.Yv.update(e,{status:"inactive"}));await Promise.all(e),D(new Set),await ue(),await me(),alert("Successfully deactivated ".concat(I.size," player(s)"))}catch(e){console.error("Failed to batch deactivate players:",e),alert("Failed to deactivate some players. Please try again.")}},className:"flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:(0,Te.jsx)("span",{children:"Deactivate Selected"})}),(0,Te.jsxs)("button",{onClick:async()=>{const e=prompt("Enter team name for selected players:");if(e)try{const t=Array.from(I).map(t=>St.Yv.update(t,{team_name:e}));await Promise.all(t),await ue(),D(new Set),alert("Successfully assigned ".concat(I.size,' players to team "').concat(e,'"'))}catch(t){console.error("Failed to assign team to players:",t),alert("Failed to assign team to players. Please try again.")}},className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[(0,Te.jsx)(Nt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Assign to Team"})]}),(0,Te.jsxs)("button",{onClick:async()=>{const e=prompt("Enter team name for new team:");if(e)try{const t=Array.from(I).map(t=>St.Yv.update(t,{team_name:e}));await Promise.all(t),await ue(),D(new Set),alert('Successfully created team "'.concat(e,'" with ').concat(I.size," players"))}catch(t){console.error("Failed to create team:",t),alert("Failed to create team. Please try again.")}},className:"flex items-center space-x-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[(0,Te.jsx)(st,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Create New Team"})]})]})]})}),0===r.players.length?(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(Nt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600 mb-4",children:"No players added yet"}),(0,Te.jsx)("button",{onClick:()=>w(!0),className:"text-chess-board hover:text-chess-dark font-medium",children:"Add your first player"})]}):(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Te.jsx)("input",{type:"checkbox",checked:r.players.length>0&&I.size===r.players.length,onChange:()=>{const e=r.players;I.size===e.length?D(new Set):D(new Set(e.map(e=>e.id)))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"USCF ID"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Expires"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.players.map(e=>(0,Te.jsxs)("tr",{className:I.has(e.id)?"bg-blue-50":"",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("input",{type:"checkbox",checked:I.has(e.id),onChange:()=>{return t=e.id,void D(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.rating||"Unrated"}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.uscf_id||"-"}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.section||"-"}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f===e.id?(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("input",{type:"text",value:x,onChange:e=>g(e.target.value),className:"px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter team name",autoFocus:!0,onKeyDown:t=>{"Enter"===t.key?ge(e.id):"Escape"===t.key&&be()}}),(0,Te.jsx)("button",{onClick:()=>ge(e.id),className:"text-green-600 hover:text-green-800",title:"Save",children:"\u2713"}),(0,Te.jsx)("button",{onClick:be,className:"text-red-600 hover:text-red-800",title:"Cancel",children:"\u2715"})]}):(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{children:e.team_name||"-"}),(0,Te.jsx)("button",{onClick:()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";p(e),g(t)}(e.id,e.team_name||""),className:"text-blue-600 hover:text-blue-800 text-xs",title:"Edit team",children:"\u270f\ufe0f"})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"withdrawn"===e.status?"bg-red-100 text-red-800":"inactive"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status}),e.expiration_date&&(()=>{const t=new Date(e.expiration_date),n=new Date,r=Math.ceil((t.getTime()-n.getTime())/864e5);return r<0?(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"ID Expired"}):r<=30?(0,Te.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:["Expires in ",r," days"]}):null})()]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.expiration_date?(()=>{const t=new Date(e.expiration_date),n=new Date,r=Math.ceil((t.getTime()-n.getTime())/864e5);return r<0?(0,Te.jsx)("span",{className:"text-red-600 font-medium",children:"Expired"}):r<=30?(0,Te.jsxs)("span",{className:"text-yellow-600 font-medium",children:[r," days"]}):(0,Te.jsx)("span",{className:"text-gray-600",children:t.toLocaleDateString()})})():(0,Te.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>{O({id:e.id,name:e.name}),R(!0)},className:"text-blue-600 hover:text-blue-800 transition-colors",children:"Manage Inactive Rounds"}),"active"===e.status&&(0,Te.jsx)("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to withdraw this player from the tournament?"))try{await St.Yv.update(e,{status:"withdrawn"}),await ue(),await me()}catch(t){console.error("Failed to withdraw player:",t),alert("Failed to withdraw player. Please try again.")}})(e.id),className:"text-red-600 hover:text-red-800 transition-colors",children:"Withdraw"}),"withdrawn"===e.status&&(0,Te.jsx)("button",{onClick:()=>(async e=>{try{await St.Yv.update(e,{status:"active"}),await ue(),await me()}catch(t){console.error("Failed to reactivate player:",t),alert("Failed to reactivate player. Please try again.")}})(e.id),className:"text-green-600 hover:text-green-800 transition-colors",children:"Reactivate"}),"inactive"===e.status&&(0,Te.jsx)("button",{onClick:()=>(async e=>{try{await St.Yv.update(e,{status:"active"}),await ue(),await me()}catch(t){console.error("Failed to activate player:",t),alert("Failed to activate player. Please try again.")}})(e.id),className:"text-green-600 hover:text-green-800 transition-colors",children:"Activate"})]})})]},e.id))})]})})]}),"pairings"===i&&(0,Te.jsx)(hn,{tournament:ce,players:r.players,pairings:r.pairings,currentRound:b(d),onRoundChange:e=>{y(d,e),he(e)},onPairingsUpdate:e=>{s({type:"SET_PAIRINGS",payload:e})},onCompleteRound:async t=>{if(e)try{const n=await St.tk.completeRound(e,l,t);alert(n.data.message),await me(),await de(),n.data.sectionCompleted?alert("Section ".concat(t," completed!")):n.data.nextRound&&(y(t,n.data.nextRound),await he(n.data.nextRound))}catch(a){var n,r;console.error("Failed to complete round:",a),alert((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Failed to complete round")}},onResetPairings:async()=>{if(e&&window.confirm("Are you sure you want to reset all pairings for Round ".concat(l,"? This action cannot be undone.")))try{const t=await St.tk.resetPairings(e,l);alert(t.data.message),await he(l),V(null)}catch(t){console.error("Failed to reset pairings:",t),alert("Failed to reset pairings. Please try again.")}},onResetPairingsForSection:async t=>{if(e&&window.confirm("Are you sure you want to reset pairings for ".concat(t," section in Round ").concat(l,"? This action cannot be undone.")))try{await St.tk.resetPairings(e,l);alert("Pairings reset successfully for ".concat(t," section")),await he(l),V(null)}catch(n){console.error("Failed to reset pairings for ".concat(t,":"),n),alert("Failed to reset pairings for ".concat(t,". Please try again."))}},onGeneratePairingsForSection:async t=>{if(e&&!J&&!$.current){console.log("\ud83d\udfe2 generatePairingsForSection called for section: ".concat(t));try{$.current=!0,K(!0);const n=await fetch("/api/enhanced/pairings/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournamentId:e,round:l,options:{pairingSystem:"fide_dutch",tiebreakerOrder:["buchholz","sonneborn_berger","direct_encounter"],accelerationSettings:{enabled:!1,type:"standard",rounds:2,threshold:null},colorBalanceRules:"fide",byeSettings:{fullPointBye:!0,avoidUnratedDropping:!0},section:t}})});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to generate pairings")}const r=await n.json();console.log("\u2705 Enhanced pairings generated successfully for ".concat(t," section:"),r),await he(l)}catch(n){return console.error("\u274c Failed to generate pairings for ".concat(t,":"),n),void(n.message&&n.message.includes("Round")&&n.message.includes("not complete")?alert("Cannot generate Round ".concat(l,' pairings for section "').concat(t,'".\n\n').concat(n.message)):alert("Failed to generate pairings for ".concat(t,": ").concat(n.message||"Unknown error")))}finally{K(!1),$.current=!1}}},onUpdateResult:async(e,t)=>{try{console.log("\ud83c\udfaf TournamentDetail: Updating result for pairing:",e,"result:",t);const n=await St.tk.updateResult(e,t);console.log("\u2705 TournamentDetail: Result update response:",n),console.log("\ud83d\udd04 TournamentDetail: Refreshing pairings and standings..."),await he(l),await me(),console.log("\u2705 TournamentDetail: Pairings and standings refreshed")}catch(n){console.error("\u274c TournamentDetail: Failed to update result:",n),alert("Failed to update result: ".concat(n))}},onSectionChange:e=>{u(e);const t=b(e);he(t)},onPrint:()=>M("pairings"),availableSections:xe(),isLoading:J}),"standings"===i&&(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold",children:"Standings"}),(0,Te.jsx)("select",{value:d,onChange:e=>u(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm",children:xe().map(e=>(0,Te.jsxs)("option",{value:e,children:[e," Section"]},e))})]}),(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsxs)("button",{onClick:()=>H(!q),className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ".concat(q?"bg-chess-board text-white hover:bg-chess-dark":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Te.jsx)(rt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Tiebreakers"})]}),(0,Te.jsxs)("button",{onClick:()=>M("standings"),className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[(0,Te.jsx)(Dt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Print"})]})]})]}),r.standings&&Array.isArray(r.standings)&&0!==r.standings.length?(0,Te.jsx)("div",{className:"space-y-6",children:(()=>{const e={};r.standings.forEach((t,n)=>{const r=t.section||"Open";e[r]||(e[r]=[]),e[r].push((0,Re.A)((0,Re.A)({},t),{},{originalIndex:n}))});let t=Object.keys(e).sort();return d&&""!==d&&(t=t.filter(e=>e===d)),t.map(t=>{const n=e[t];return n.sort((e,t)=>t.total_points-e.total_points),(0,Te.jsxs)("div",{className:"border border-gray-200 rounded-lg",children:[(0,Te.jsxs)("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[t," Section"]}),(0,Te.jsxs)("p",{className:"text-sm text-gray-600",children:[n.length," players"]})]}),(0,Te.jsx)("div",{className:"p-4",children:(0,Te.jsx)(tn,{standings:n,tournament:ce,selectedSection:t,showTiebreakers:q,showPrizes:!0})})]},t)})})()}):(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(rt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"No standings available yet"})]})]}),"team-standings"===i&&(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold",children:"Team Standings"}),"individual-team-swiss"===ce.format&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsxs)("select",{value:se,onChange:e=>ie(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm",children:[(0,Te.jsx)("option",{value:"all_players",children:"All Players"}),(0,Te.jsx)("option",{value:"top_players",children:"Top N Players"})]}),"top_players"===se&&(0,Te.jsx)("input",{type:"number",value:oe,onChange:e=>le(parseInt(e.target.value)||4),min:"1",max:"10",className:"px-3 py-1 border border-gray-300 rounded-md text-sm w-20"})]})]}),(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsxs)("button",{onClick:fe,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(Ft,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Refresh"})]}),(0,Te.jsxs)("button",{onClick:()=>H(!q),className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ".concat(q?"bg-chess-board text-white hover:bg-chess-dark":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Te.jsx)(rt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Tiebreakers"})]}),(0,Te.jsxs)("button",{onClick:()=>M("standings"),className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[(0,Te.jsx)(Dt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Print"})]})]})]}),(0,Te.jsx)(an,{standings:Z,tournamentFormat:ce.format,scoringMethod:se,topN:"top_players"===se?oe:void 0,showTiebreakers:q,totalRounds:ce.rounds})]}),"team-pairings"===i&&ce&&(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold",children:"Team Pairings"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("label",{className:"text-sm text-gray-600",children:"Round:"}),(0,Te.jsx)("select",{value:l,onChange:e=>c(parseInt(e.target.value)),className:"px-3 py-1 border border-gray-300 rounded-md text-sm",children:Array.from({length:ce.rounds},(e,t)=>t+1).map(e=>(0,Te.jsxs)("option",{value:e,children:["Round ",e]},e))})]})]}),(0,Te.jsx)("div",{className:"flex space-x-2",children:(0,Te.jsxs)("button",{onClick:()=>M("pairings"),className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[(0,Te.jsx)(Dt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Print"})]})})]}),0===te.length?(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(Nt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"No team pairings available for this round"})]}):(0,Te.jsx)(sn,{pairings:te,round:l,tournamentFormat:ce.format,showResults:!1})]}),"registrations"===i&&(0,Te.jsx)("div",{children:(0,Te.jsx)(ln,{tournamentId:e||""})})]})]})]})}),(0,Te.jsx)(qt,{isOpen:v,onClose:()=>w(!1),tournamentId:e||""}),(0,Te.jsx)(Vt,{isOpen:N,onClose:()=>j(!1),tournamentId:e||""}),(0,Te.jsx)(Yt,{isOpen:k,onClose:()=>S(!1),selectedPlayers:I,onPlayersUpdated:()=>{de()}}),(0,Te.jsx)(Xt,{isOpen:_,onClose:()=>A(!1),tournamentId:e||""}),(0,Te.jsx)(Qt,{isOpen:C,onClose:()=>L(!1),tournamentId:e||"",tournamentName:(null===ce||void 0===ce?void 0:ce.name)||""}),T&&(0,Te.jsx)(Zt,{isOpen:F,onClose:()=>{R(!1),O(null)},playerId:T.id,playerName:T.name,tournamentId:e||"",maxRounds:(null===ce||void 0===ce?void 0:ce.rounds)||1}),z&&ce&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-white z-50 overflow-auto",children:(0,Te.jsxs)("div",{className:"p-4",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsxs)("h2",{className:"text-2xl font-bold",children:["pairings"===z&&"Round ".concat(l," Pairings"),"standings"===z&&"Tournament Standings","report"===z&&"Tournament Report"]}),(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsxs)("button",{onClick:()=>window.print(),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(Dt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Print"})]}),(0,Te.jsxs)("button",{onClick:()=>M(null),className:"flex items-center space-x-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[(0,Te.jsx)(ct,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Close"})]})]})]}),(0,Te.jsx)(en,{tournament:ce,pairings:r.pairings.map(e=>({id:e.id,board:e.board,white_name:e.white_name,white_rating:e.white_rating,white_uscf_id:e.white_uscf_id,black_name:e.black_name,black_rating:e.black_rating,black_uscf_id:e.black_uscf_id,result:e.result,section:e.section,is_bye:e.is_bye,white_id:e.white_id||e.white_player_id,black_id:e.black_id||e.black_player_id,round:e.round})),standings:Array.isArray(r.standings)?r.standings.map(e=>{var t,n;return{id:e.id,name:e.name,rating:e.rating,uscf_id:void 0,total_points:e.total_points,games_played:e.games_played,wins:e.wins,losses:e.losses,draws:e.draws,buchholz:(null===(t=e.tiebreakers)||void 0===t?void 0:t.buchholz)||0,sonneborn_berger:(null===(n=e.tiebreakers)||void 0===n?void 0:n.sonnebornBerger)||0,section:e.section,rank:e.rank}}):[],currentRound:l,viewType:z})]})}),(0,Te.jsx)(mn,{tournamentId:e||"",isVisible:X,onClose:()=>Q(!1)})]})};class pn{constructor(){this.templates=[],this.initializeDefaultTemplates()}static getInstance(){return pn.instance||(pn.instance=new pn),pn.instance}initializeDefaultTemplates(){this.templates=[{id:"swiss-5-round",name:"5-Round Swiss Tournament",description:"Standard 5-round Swiss system tournament",format:"swiss",settings:{tie_break_criteria:["buchholz","sonnebornBerger"],pairing_type:"standard",pairing_method:"us_chess",bye_points:.5,enable_analytics:!0,enable_dark_mode:!0,enable_keyboard_shortcuts:!0,enable_qr_codes:!0},is_public:!0,created_by:"system",created_at:(new Date).toISOString(),usage_count:0},{id:"blitz-tournament",name:"Blitz Tournament",description:"Fast-paced blitz tournament with 5+0 time control",format:"blitz",settings:{blitz_rapid_settings:{time_control:"5+0",rounds_per_day:7,break_duration:5,pairing_interval:10},pairing_type:"accelerated",enable_analytics:!0,enable_qr_codes:!0,enable_time_tracking:!0},is_public:!0,created_by:"system",created_at:(new Date).toISOString(),usage_count:0},{id:"rapid-tournament",name:"Rapid Tournament",description:"Rapid tournament with 15+10 time control",format:"rapid",settings:{blitz_rapid_settings:{time_control:"15+10",rounds_per_day:3,break_duration:30,pairing_interval:20},pairing_type:"standard",enable_analytics:!0,enable_qr_codes:!0,enable_time_tracking:!0},is_public:!0,created_by:"system",created_at:(new Date).toISOString(),usage_count:0},{id:"team-tournament",name:"Team Swiss Tournament",description:"Team tournament with 4 boards per team",format:"team-swiss",settings:{team_board_count:4,team_tie_break_criteria:["match_points","game_points","buchholz"],pairing_type:"standard",enable_analytics:!0,enable_qr_codes:!0},is_public:!0,created_by:"system",created_at:(new Date).toISOString(),usage_count:0},{id:"knockout-tournament",name:"Knockout Tournament",description:"Single elimination knockout tournament",format:"knockout",settings:{knockout_settings:{seeding_method:"rating",consolation_bracket:!0,third_place_playoff:!0},enable_analytics:!0,enable_qr_codes:!0},is_public:!0,created_by:"system",created_at:(new Date).toISOString(),usage_count:0},{id:"simultaneous-exhibition",name:"Simultaneous Exhibition",description:"Simultaneous exhibition with master",format:"simultaneous",settings:{simultaneous_settings:{max_boards:20,time_control:"G/30",simultaneous_type:"single"},enable_analytics:!0,enable_qr_codes:!0},is_public:!0,created_by:"system",created_at:(new Date).toISOString(),usage_count:0},{id:"multi-day-tournament",name:"Multi-Day Tournament",description:"Tournament spanning multiple days",format:"multi-day",settings:{multi_day_schedule:[{id:"day1",tournament_id:"",day_number:1,date:(new Date).toISOString().split("T")[0],rounds:[1,2,3],start_time:"09:00",end_time:"18:00",location:"Main Hall"},{id:"day2",tournament_id:"",day_number:2,date:new Date(Date.now()+864e5).toISOString().split("T")[0],rounds:[4,5,6],start_time:"09:00",end_time:"18:00",location:"Main Hall"},{id:"day3",tournament_id:"",day_number:3,date:new Date(Date.now()+1728e5).toISOString().split("T")[0],rounds:[7],start_time:"10:00",end_time:"16:00",location:"Main Hall"}],enable_analytics:!0,enable_qr_codes:!0},is_public:!0,created_by:"system",created_at:(new Date).toISOString(),usage_count:0},{id:"scholastic-tournament",name:"Scholastic Tournament",description:"Tournament designed for school chess clubs",format:"swiss",settings:{tie_break_criteria:["buchholz","sonnebornBerger"],sections:[{name:"K-3",min_rating:0,max_rating:800},{name:"4-6",min_rating:800,max_rating:1200},{name:"7-9",min_rating:1200,max_rating:1600},{name:"10-12",min_rating:1600,max_rating:2e3}],pairing_type:"standard",enable_analytics:!0,enable_qr_codes:!0,enable_player_photos:!0},is_public:!0,created_by:"system",created_at:(new Date).toISOString(),usage_count:0},{id:"senior-tournament",name:"Senior Tournament",description:"Tournament for senior players (50+)",format:"swiss",settings:{tie_break_criteria:["buchholz","sonnebornBerger"],rating_floor:1200,pairing_type:"standard",enable_analytics:!0,enable_qr_codes:!0,enable_time_tracking:!0},is_public:!0,created_by:"system",created_at:(new Date).toISOString(),usage_count:0},{id:"open-tournament",name:"Open Tournament",description:"Open tournament for all players",format:"swiss",settings:{tie_break_criteria:["buchholz","sonnebornBerger","performanceRating"],sections:[{name:"Open",min_rating:0},{name:"Reserve",min_rating:0,max_rating:1800}],pairing_type:"accelerated",acceleration_type:"standard",acceleration_rounds:2,enable_analytics:!0,enable_qr_codes:!0,enable_bulk_operations:!0},is_public:!0,created_by:"system",created_at:(new Date).toISOString(),usage_count:0}]}getTemplates(){return[...this.templates]}getPublicTemplates(){return this.templates.filter(e=>e.is_public)}getTemplate(e){return this.templates.find(t=>t.id===e)}getTemplatesByFormat(e){return this.templates.filter(t=>t.format===e)}createTemplate(e){const t=(0,Re.A)((0,Re.A)({},e),{},{id:this.generateId(),created_at:(new Date).toISOString(),usage_count:0});return this.templates.push(t),this.saveTemplates(),t}updateTemplate(e,t){const n=this.templates.findIndex(t=>t.id===e);return-1===n?null:(this.templates[n]=(0,Re.A)((0,Re.A)({},this.templates[n]),t),this.saveTemplates(),this.templates[n])}deleteTemplate(e){const t=this.templates.findIndex(t=>t.id===e);return-1!==t&&(this.templates.splice(t,1),this.saveTemplates(),!0)}useTemplate(e){const t=this.getTemplate(e);return t?(t.usage_count++,this.saveTemplates(),t):null}getPopularTemplates(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return[...this.templates].sort((e,t)=>t.usage_count-e.usage_count).slice(0,e)}searchTemplates(e){const t=e.toLowerCase();return this.templates.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.format.toLowerCase().includes(t))}getTemplateSettings(e){const t=this.getTemplate(e);return t?t.settings:null}cloneTemplate(e,t,n){const r=this.getTemplate(e);if(!r)return null;const a=(0,Re.A)((0,Re.A)({},r),{},{id:this.generateId(),name:t,created_by:n,created_at:(new Date).toISOString(),usage_count:0,is_public:!1});return this.templates.push(a),this.saveTemplates(),a}exportTemplate(e){const t=this.getTemplate(e);return t?JSON.stringify(t,null,2):null}importTemplate(e,t){try{const n=JSON.parse(e),r=(0,Re.A)((0,Re.A)({},n),{},{id:this.generateId(),created_by:t,created_at:(new Date).toISOString(),usage_count:0});return this.templates.push(r),this.saveTemplates(),r}catch(n){return console.error("Error importing template:",n),null}}saveTemplates(){try{localStorage.setItem("tournament_templates",JSON.stringify(this.templates))}catch(e){console.error("Error saving templates:",e)}}loadTemplates(){try{const e=localStorage.getItem("tournament_templates");if(e){const t=JSON.parse(e),n=this.templates.map(e=>e.id),r=t.filter(e=>!n.includes(e.id));this.templates=[...this.templates,...r]}}catch(e){console.error("Error loading templates:",e)}}generateId(){return Math.random().toString(36).substr(2,9)}}pn.instance=void 0;const xn=pn.getInstance(),gn=()=>{var e,t;const n=ne(),{dispatch:r}=Me(),{state:s,setCurrentOrganization:i}=$e(),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(null),[m,f]=(0,a.useState)(!1),[p,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{const e=await xn.getTemplates();d(e)}catch(e){console.error("Error loading templates:",e)}})()},[]);const[g,b]=(0,a.useState)({name:"",format:"swiss",rounds:5,time_control:"",start_date:"",end_date:"",status:"created",organization_id:"",is_public:!1,public_url:"",city:"",state:"",location:"",chief_td_name:"",chief_td_uscf_id:"",chief_arbiter_name:"",chief_arbiter_fide_id:"",chief_organizer_name:"",chief_organizer_fide_id:"",expected_players:void 0,website:"",fide_rated:!1,uscf_rated:!0,allow_registration:!0,settings:{tie_break_criteria:["buchholz","sonnebornBerger"],sections:[{name:"",min_rating:void 0,max_rating:void 0,description:""}],rating_floor:void 0,rating_ceiling:void 0,bye_points:.5,pairing_type:"standard",pairing_method:"fide_dutch",equalization_limit:200,alternation_limit:80,use_full_color_history:!0,due_color_to_higher_ranked:!0,avoid_dropping_unrated:!0,acceleration_type:"standard",acceleration_rounds:2,acceleration_threshold:void 0,acceleration_break_point:void 0,added_score_accelerators:!1,entry_fee:void 0,prize_fund:void 0,prize_settings:{enabled:!0,autoAssign:!0,sections:[]}}}),y=e=>{const{name:t,value:n}=e.target;if(t.startsWith("settings.")){const e=t.split(".")[1];b(t=>(0,Re.A)((0,Re.A)({},t),{},{settings:(0,Re.A)((0,Re.A)({},t.settings),{},{[e]:"rating_floor"===e||"rating_ceiling"===e||"acceleration_rounds"===e||"acceleration_threshold"===e||"acceleration_break_point"===e?n?parseInt(n):void 0:n})}))}else if("fide_rated"===t||"uscf_rated"===t)b(n=>(0,Re.A)((0,Re.A)({},n),{},{[t]:e.target.checked}));else if(t.startsWith("settings.")&&"checkbox"===e.target.type){const n=t.split(".")[1];b(t=>(0,Re.A)((0,Re.A)({},t),{},{settings:(0,Re.A)((0,Re.A)({},t.settings),{},{[n]:e.target.checked})}))}else b(e=>(0,Re.A)((0,Re.A)({},e),{},{[t]:"rounds"===t||"expected_players"===t?n?parseInt(n):void 0:n}))},v=(e,t,n)=>{b(r=>(0,Re.A)((0,Re.A)({},r),{},{settings:(0,Re.A)((0,Re.A)({},r.settings),{},{sections:r.settings.sections.map((r,a)=>a===e?(0,Re.A)((0,Re.A)({},r),{},{[t]:n}):r)})}))};return(0,Te.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsxs)("button",{onClick:()=>n(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[(0,Te.jsx)(Et,{className:"h-5 w-5 mr-2"}),"Back"]}),(0,Te.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Tournament"}),(0,Te.jsx)("p",{className:"text-gray-600 mt-2",children:"Set up a new chess tournament"})]}),c.length>0&&(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Tournament Templates"}),(0,Te.jsxs)("button",{type:"button",onClick:()=>f(!m),className:"flex items-center space-x-2 text-chess-board hover:text-chess-dark",children:[(0,Te.jsx)(Jt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:m?"Hide Templates":"Show Templates"})]})]}),m&&(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(e=>(0,Te.jsxs)("div",{className:"border rounded-lg p-4 cursor-pointer transition-colors ".concat(u===e.id?"border-chess-board bg-chess-board/5":"border-gray-200 hover:border-gray-300"),onClick:()=>(e=>{h(e.id),b(t=>(0,Re.A)((0,Re.A)({},t),{},{format:e.format,settings:(0,Re.A)((0,Re.A)({},t.settings),e.settings)})),f(!1)})(e),children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Te.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,Te.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.format})]}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,Te.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Te.jsxs)("span",{children:["Used ",e.usage_count," times"]}),e.is_public&&(0,Te.jsx)("span",{className:"text-green-600",children:"Public"})]})]},e.id))}),u&&(0,Te.jsx)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("span",{className:"text-sm text-green-800",children:["Using template: ",null===(e=c.find(e=>e.id===u))||void 0===e?void 0:e.name]}),(0,Te.jsx)("button",{type:"button",onClick:()=>h(null),className:"text-green-600 hover:text-green-800",children:(0,Te.jsx)(ct,{className:"h-4 w-4"})})]})})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{e.preventDefault();if(g.settings.sections.some(e=>""!==e.name.trim())){if(!s.currentOrganization)return alert("Please select an organization to create a tournament."),void x(!0);l(!0);try{const e=(0,Re.A)((0,Re.A)({},g),{},{organization_id:s.currentOrganization.id});console.log("Submitting tournament:",e);const t=await St.Sj.create(e);if(console.log("Tournament creation response:",t),!t.data.success)throw new Error(t.data.error||"Failed to create tournament");{const e=(0,Re.A)((0,Re.A)({id:t.data.data.id},g),{},{created_at:(new Date).toISOString()});r({type:"ADD_TOURNAMENT",payload:e}),alert("Tournament created successfully!"),n("/tournaments/".concat(t.data.data.id))}}catch(o){var t,a,i;console.error("Failed to create tournament:",o),console.error("Error details:",(null===(t=o.response)||void 0===t?void 0:t.data)||o.message),alert("Failed to create tournament: ".concat((null===(a=o.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.error)||o.message||"Unknown error"))}finally{l(!1)}}else alert("Please provide a name for at least one section.")},className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Organization"}),s.currentOrganization?(0,Te.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)(vt,{className:"h-6 w-6 text-blue-600"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"font-medium text-blue-900",children:s.currentOrganization.name}),(0,Te.jsx)("p",{className:"text-sm text-blue-700",children:s.currentOrganization.description||"No description"})]})]}),(0,Te.jsx)("button",{type:"button",onClick:()=>x(!0),className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Change"})]}):(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(vt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600 mb-4",children:"No organization selected"}),(0,Te.jsx)("button",{type:"button",onClick:()=>x(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Select Organization"})]})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tournament Name *"}),(0,Te.jsx)("input",{type:"text",id:"name",name:"name",value:g.name,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter tournament name"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"format",className:"block text-sm font-medium text-gray-700 mb-2",children:"Format *"}),(0,Te.jsxs)("select",{id:"format",name:"format",value:g.format,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",children:[(0,Te.jsx)("option",{value:"swiss",children:"Swiss System"}),(0,Te.jsx)("option",{value:"round-robin",children:"Round Robin"}),(0,Te.jsx)("option",{value:"knockout",children:"Knockout"}),(0,Te.jsx)("option",{value:"team-swiss",children:"Team Swiss"}),(0,Te.jsx)("option",{value:"team-round-robin",children:"Team Round Robin"}),(0,Te.jsx)("option",{value:"individual-team-swiss",children:"Individual Swiss with Team Scoring"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"rounds",className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Rounds *"}),(0,Te.jsx)("input",{type:"number",id:"rounds",name:"rounds",value:g.rounds,onChange:y,min:"1",max:"20",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"time_control",className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Control"}),(0,Te.jsx)("input",{type:"text",id:"time_control",name:"time_control",value:g.time_control,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"e.g., 90+30, 60+0"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"start_date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,Te.jsx)("input",{type:"date",id:"start_date",name:"start_date",value:g.start_date,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"end_date",className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,Te.jsx)("input",{type:"date",id:"end_date",name:"end_date",value:g.end_date,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,Te.jsx)("input",{type:"text",id:"city",name:"city",value:g.city,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter city"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),(0,Te.jsx)("input",{type:"text",id:"state",name:"state",value:g.state,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter state"})]}),(0,Te.jsxs)("div",{className:"md:col-span-2",children:[(0,Te.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue/Location"}),(0,Te.jsx)("input",{type:"text",id:"location",name:"location",value:g.location,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"e.g., Community Center, Hotel Conference Room"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tournament Officials"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"chief_td_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chief Tournament Director Name *"}),(0,Te.jsx)("input",{type:"text",id:"chief_td_name",name:"chief_td_name",value:g.chief_td_name,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter Chief TD name"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"chief_td_uscf_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chief TD USCF ID *"}),(0,Te.jsx)("input",{type:"text",id:"chief_td_uscf_id",name:"chief_td_uscf_id",value:g.chief_td_uscf_id,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter USCF ID"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"chief_arbiter_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chief Arbiter Name"}),(0,Te.jsx)("input",{type:"text",id:"chief_arbiter_name",name:"chief_arbiter_name",value:g.chief_arbiter_name,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter Chief Arbiter name"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"chief_arbiter_fide_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chief Arbiter FIDE ID"}),(0,Te.jsx)("input",{type:"text",id:"chief_arbiter_fide_id",name:"chief_arbiter_fide_id",value:g.chief_arbiter_fide_id,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter FIDE ID"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"chief_organizer_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chief Organizer Name"}),(0,Te.jsx)("input",{type:"text",id:"chief_organizer_name",name:"chief_organizer_name",value:g.chief_organizer_name,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter Chief Organizer name"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"chief_organizer_fide_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Chief Organizer FIDE ID"}),(0,Te.jsx)("input",{type:"text",id:"chief_organizer_fide_id",name:"chief_organizer_fide_id",value:g.chief_organizer_fide_id,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Enter FIDE ID"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tournament Details"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"expected_players",className:"block text-sm font-medium text-gray-700 mb-2",children:"Expected Number of Players"}),(0,Te.jsx)("input",{type:"number",id:"expected_players",name:"expected_players",value:g.expected_players||"",onChange:y,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Estimated participants"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tournament Website"}),(0,Te.jsx)("input",{type:"url",id:"website",name:"website",value:g.website,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"https://example.com"})]}),(0,Te.jsxs)("div",{className:"md:col-span-2",children:[(0,Te.jsxs)("div",{className:"flex space-x-6",children:[(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"uscf_rated",name:"uscf_rated",checked:g.uscf_rated,onChange:y,className:"h-4 w-4 text-chess-board focus:ring-chess-board border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"uscf_rated",className:"ml-2 block text-sm text-gray-900",children:"USCF Rated Tournament"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"fide_rated",name:"fide_rated",checked:g.fide_rated,onChange:y,className:"h-4 w-4 text-chess-board focus:ring-chess-board border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"fide_rated",className:"ml-2 block text-sm text-gray-900",children:"FIDE Rated Tournament"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"allow_registration",name:"allow_registration",checked:g.allow_registration,onChange:y,className:"h-4 w-4 text-chess-board focus:ring-chess-board border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"allow_registration",className:"ml-2 block text-sm text-gray-900",children:"Allow Registration"})]})]}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"FIDE rated tournaments require a licensed FIDE arbiter and additional registration. When registration is disabled, players cannot register for this tournament."})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tournament Settings"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"settings.rating_floor",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating Floor"}),(0,Te.jsx)("input",{type:"number",id:"settings.rating_floor",name:"settings.rating_floor",value:g.settings.rating_floor||"",onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Minimum rating"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"settings.rating_ceiling",className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating Ceiling"}),(0,Te.jsx)("input",{type:"number",id:"settings.rating_ceiling",name:"settings.rating_ceiling",value:g.settings.rating_ceiling||"",onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Maximum rating"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"settings.bye_points",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bye Points"}),(0,Te.jsxs)("select",{id:"settings.bye_points",name:"settings.bye_points",value:g.settings.bye_points,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",children:[(0,Te.jsx)("option",{value:0,children:"0 points"}),(0,Te.jsx)("option",{value:.5,children:"0.5 points"}),(0,Te.jsx)("option",{value:1,children:"1 point"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pairing Method"}),(0,Te.jsx)("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600",children:"FIDE Dutch System (Universal)"}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Algorithmic pairing system with aggressive color correction and systematic transpositions."})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"settings.pairing_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Pairing Type"}),(0,Te.jsxs)("select",{id:"settings.pairing_type",name:"settings.pairing_type",value:g.settings.pairing_type,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",children:[(0,Te.jsx)("option",{value:"standard",children:"Standard Swiss"}),(0,Te.jsx)("option",{value:"accelerated",children:"Accelerated Swiss"})]}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Accelerated pairings pair higher-rated players earlier to reduce perfect scores"})]}),"accelerated"===g.settings.pairing_type&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"settings.acceleration_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Acceleration Type"}),(0,Te.jsxs)("select",{id:"settings.acceleration_type",name:"settings.acceleration_type",value:g.settings.acceleration_type,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",children:[(0,Te.jsx)("option",{value:"standard",children:"Standard Accelerated (WinTD)"}),(0,Te.jsx)("option",{value:"sixths",children:"1/6's Accelerated"}),(0,Te.jsx)("option",{value:"added_score",children:"Added Score Method"}),(0,Te.jsx)("option",{value:"all_rounds",children:"All Rounds Accelerated"})]}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Choose the acceleration method based on WinTD standards"})]}),"all_rounds"!==g.settings.acceleration_type&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"settings.acceleration_rounds",className:"block text-sm font-medium text-gray-700 mb-2",children:"Acceleration Rounds"}),(0,Te.jsx)("input",{type:"number",id:"settings.acceleration_rounds",name:"settings.acceleration_rounds",value:g.settings.acceleration_rounds,onChange:y,min:"1",max:"5",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent"}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Number of rounds to use acceleration (default: 2)"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"settings.acceleration_threshold",className:"block text-sm font-medium text-gray-700 mb-2",children:"Acceleration Threshold"}),(0,Te.jsx)("input",{type:"number",id:"settings.acceleration_threshold",name:"settings.acceleration_threshold",value:g.settings.acceleration_threshold||"",onChange:y,min:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Auto: ".concat(Math.pow(2,g.rounds+1)," players")}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum players to trigger acceleration (auto: 2^(rounds+1))"})]}),"standard"===g.settings.acceleration_type&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"settings.acceleration_break_point",className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Break Point (Optional)"}),(0,Te.jsx)("input",{type:"number",id:"settings.acceleration_break_point",name:"settings.acceleration_break_point",value:g.settings.acceleration_break_point||"",onChange:y,min:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Auto: Round up to even number"}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Custom break point between A and B groups (auto: round up to even)"})]}),"standard"===g.settings.acceleration_type&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"settings.added_score_accelerators",name:"settings.added_score_accelerators",checked:g.settings.added_score_accelerators,onChange:y,className:"h-4 w-4 text-chess-board focus:ring-chess-board border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"settings.added_score_accelerators",className:"ml-2 block text-sm text-gray-700",children:"Use Added Score Method (USCF 28R1)"})]})]})]}),(0,Te.jsxs)("div",{className:"mt-6",children:[(0,Te.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-4",children:"Tiebreaker Settings"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Configure the order of tiebreakers used to rank players with equal scores. Based on USCF tournament standards."}),(0,Te.jsxs)("div",{className:"space-y-3",children:[g.settings.tie_break_criteria.map((e,t)=>(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsxs)("span",{className:"text-sm font-medium text-gray-700 w-8",children:[t+1,"."]}),(0,Te.jsxs)("select",{value:e,onChange:e=>{const n=[...g.settings.tie_break_criteria];n[t]=e.target.value,b(e=>(0,Re.A)((0,Re.A)({},e),{},{settings:(0,Re.A)((0,Re.A)({},e.settings),{},{tie_break_criteria:n})}))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",children:[(0,Te.jsx)("option",{value:"buchholz",children:"Buchholz (Sum of Opponents' Scores)"}),(0,Te.jsx)("option",{value:"sonnebornBerger",children:"Sonneborn-Berger"}),(0,Te.jsx)("option",{value:"performanceRating",children:"Performance Rating"}),(0,Te.jsx)("option",{value:"modifiedBuchholz",children:"Modified Buchholz"}),(0,Te.jsx)("option",{value:"cumulative",children:"Cumulative"})]}),g.settings.tie_break_criteria.length>1&&(0,Te.jsx)("button",{type:"button",onClick:()=>{const e=g.settings.tie_break_criteria.filter((e,n)=>n!==t);b(t=>(0,Re.A)((0,Re.A)({},t),{},{settings:(0,Re.A)((0,Re.A)({},t.settings),{},{tie_break_criteria:e})}))},className:"text-red-600 hover:text-red-800",children:(0,Te.jsx)(ct,{className:"h-4 w-4"})})]},t)),(0,Te.jsxs)("button",{type:"button",onClick:()=>{b(e=>(0,Re.A)((0,Re.A)({},e),{},{settings:(0,Re.A)((0,Re.A)({},e.settings),{},{tie_break_criteria:[...e.settings.tie_break_criteria,"buchholz"]})}))},className:"flex items-center space-x-2 text-chess-board hover:text-chess-dark text-sm",children:[(0,Te.jsx)(st,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Add Tiebreaker"})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Tournament Sections"}),(0,Te.jsxs)("button",{type:"button",onClick:()=>{const e={name:"",min_rating:void 0,max_rating:void 0,description:""};b(t=>(0,Re.A)((0,Re.A)({},t),{},{settings:(0,Re.A)((0,Re.A)({},t.settings),{},{sections:[...t.settings.sections,e]})}))},className:"flex items-center space-x-2 bg-chess-board text-white px-4 py-2 rounded-lg hover:bg-chess-dark transition-colors",children:[(0,Te.jsx)(st,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Add Section"})]})]}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Define sections to group players by rating ranges. Players will be automatically assigned to sections based on their ratings."}),(0,Te.jsx)("div",{className:"space-y-4",children:g.settings.sections.map((e,t)=>(0,Te.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Te.jsxs)("h3",{className:"text-md font-medium text-gray-900",children:["Section ",t+1]}),(0,Te.jsx)("button",{type:"button",onClick:()=>(e=>{g.settings.sections.length<=1||b(t=>(0,Re.A)((0,Re.A)({},t),{},{settings:(0,Re.A)((0,Re.A)({},t.settings),{},{sections:t.settings.sections.filter((t,n)=>n!==e)})}))})(t),disabled:g.settings.sections.length<=1,className:"text-red-600 hover:text-red-800 ".concat(g.settings.sections.length<=1?"opacity-50 cursor-not-allowed":""),title:g.settings.sections.length<=1?"At least one section is required":"Remove section",children:(0,Te.jsx)(ct,{className:"h-4 w-4"})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Name *"}),(0,Te.jsx)("input",{type:"text",value:e.name,onChange:e=>v(t,"name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"e.g., Open, U1800, U1400",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Rating"}),(0,Te.jsx)("input",{type:"number",value:e.min_rating||"",onChange:e=>v(t,"min_rating",e.target.value?parseInt(e.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"e.g., 1400"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Rating"}),(0,Te.jsx)("input",{type:"number",value:e.max_rating||"",onChange:e=>v(t,"max_rating",e.target.value?parseInt(e.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"e.g., 1799"})]})]}),(0,Te.jsxs)("div",{className:"mt-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),(0,Te.jsx)("input",{type:"text",value:e.description||"",onChange:e=>v(t,"description",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Brief description of this section"})]})]},t))})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Prize Settings"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Fund ($)"}),(0,Te.jsx)("input",{type:"number",name:"settings.prize_fund",value:g.settings.prize_fund||"",onChange:y,step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Total prize fund amount"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entry Fee ($)"}),(0,Te.jsx)("input",{type:"number",name:"settings.entry_fee",value:g.settings.entry_fee||"",onChange:y,step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-chess-board focus:border-transparent",placeholder:"Entry fee per player"})]})]}),(0,Te.jsx)("div",{className:"mt-6 space-y-4",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"auto_populate",name:"settings.prize_settings.autoAssign",checked:(null===(t=g.settings.prize_settings)||void 0===t?void 0:t.autoAssign)||!1,onChange:e=>{const t=e.target.checked;b(e=>(0,Re.A)((0,Re.A)({},e),{},{settings:(0,Re.A)((0,Re.A)({},e.settings),{},{prize_settings:(0,Re.A)((0,Re.A)({},e.settings.prize_settings),{},{autoAssign:t})})}))},className:"h-4 w-4 text-chess-board focus:ring-chess-board border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"auto_populate",className:"ml-2 block text-sm text-gray-900",children:"Auto-populate prizes when tournament completes"})]})})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>n(-1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Te.jsxs)("button",{type:"submit",disabled:o,className:"flex items-center space-x-2 bg-chess-board text-white px-6 py-2 rounded-lg hover:bg-chess-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Te.jsx)(Bt,{className:"h-5 w-5"}),(0,Te.jsx)("span",{children:o?"Creating...":"Create Tournament"})]})]})]}),p&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Te.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Select Organization"}),(0,Te.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Te.jsx)(ct,{className:"h-6 w-6"})})]}),0===s.organizations.length?(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(vt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600 mb-4",children:"You don't belong to any organizations yet."}),(0,Te.jsx)("button",{onClick:()=>{x(!1),n("/profile")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Create Organization"})]}):(0,Te.jsx)("div",{className:"space-y-3",children:s.organizations.map(e=>{var t,n;return(0,Te.jsx)("div",{className:"p-4 border rounded-lg cursor-pointer transition-colors ".concat((null===(t=s.currentOrganization)||void 0===t?void 0:t.id)===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),onClick:()=>{i(e),x(!1)},children:(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)(vt,{className:"h-6 w-6 text-blue-600"}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:e.description||"No description"}),(0,Te.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full mt-2 ".concat("owner"===e.role?"bg-purple-100 text-purple-800":"admin"===e.role?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.role})]}),(null===(n=s.currentOrganization)||void 0===n?void 0:n.id)===e.id&&(0,Te.jsx)("div",{className:"text-blue-600 font-medium",children:"Selected"})]})},e.id)})}),(0,Te.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:()=>{x(!1),n("/profile")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Manage Organizations"})]})]})})]})},bn=tt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),yn=tt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),vn=tt("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),wn=tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Nn=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),jn=tt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var kn=n(2284),Sn=Uint8Array,_n=Uint16Array,An=Int32Array,Cn=new Sn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ln=new Sn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Pn=new Sn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),En=function(e,t){for(var n=new _n(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new An(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)a[s]=s-n[r]<<5|r;return{b:n,r:a}},Fn=En(Cn,2),Rn=Fn.b,Tn=Fn.r;Rn[28]=258,Tn[258]=28;for(var On=En(Ln,0),In=On.b,Dn=On.r,zn=new _n(32768),Mn=0;Mn<32768;++Mn){var Bn=(43690&Mn)>>1|(21845&Mn)<<1;Bn=(61680&(Bn=(52428&Bn)>>2|(13107&Bn)<<2))>>4|(3855&Bn)<<4,zn[Mn]=((65280&Bn)>>8|(255&Bn)<<8)>>1}var Un=function(e,t,n){for(var r=e.length,a=0,s=new _n(t);a<r;++a)e[a]&&++s[e[a]-1];var i,o=new _n(t);for(a=1;a<t;++a)o[a]=o[a-1]+s[a-1]<<1;if(n){i=new _n(1<<t);var l=15-t;for(a=0;a<r;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],u=o[e[a]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)i[zn[u]>>l]=c}else for(i=new _n(r),a=0;a<r;++a)e[a]&&(i[a]=zn[o[e[a]-1]++]>>15-e[a]);return i},qn=new Sn(288);for(Mn=0;Mn<144;++Mn)qn[Mn]=8;for(Mn=144;Mn<256;++Mn)qn[Mn]=9;for(Mn=256;Mn<280;++Mn)qn[Mn]=7;for(Mn=280;Mn<288;++Mn)qn[Mn]=8;var Hn=new Sn(32);for(Mn=0;Mn<32;++Mn)Hn[Mn]=5;var Wn=Un(qn,9,0),Vn=Un(qn,9,1),Gn=Un(Hn,5,0),Yn=Un(Hn,5,1),Jn=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Kn=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},$n=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},Xn=function(e){return(e+7)/8|0},Qn=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new Sn(e.subarray(t,n))},Zn=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],er=function(e,t,n){var r=new Error(t||Zn[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,er),!n)throw r;return r},tr=function(e,t,n,r){var a=e.length,s=r?r.length:0;if(!a||t.f&&!t.l)return n||new Sn(0);var i=!n,o=i||2!=t.i,l=t.i;i&&(n=new Sn(3*a));var c=function(e){var t=n.length;if(e>t){var r=new Sn(Math.max(2*t,e));r.set(n),n=r}},d=t.f||0,u=t.p||0,h=t.b||0,m=t.l,f=t.d,p=t.m,x=t.n,g=8*a;do{if(!m){d=Kn(e,u,1);var b=Kn(e,u+1,3);if(u+=3,!b){var y=e[(P=Xn(u)+4)-4]|e[P-3]<<8,v=P+y;if(v>a){l&&er(0);break}o&&c(h+y),n.set(e.subarray(P,v),h),t.b=h+=y,t.p=u=8*v,t.f=d;continue}if(1==b)m=Vn,f=Yn,p=9,x=5;else if(2==b){var w=Kn(e,u,31)+257,N=Kn(e,u+10,15)+4,j=w+Kn(e,u+5,31)+1;u+=14;for(var k=new Sn(j),S=new Sn(19),_=0;_<N;++_)S[Pn[_]]=Kn(e,u+3*_,7);u+=3*N;var A=Jn(S),C=(1<<A)-1,L=Un(S,A,1);for(_=0;_<j;){var P,E=L[Kn(e,u,C)];if(u+=15&E,(P=E>>4)<16)k[_++]=P;else{var F=0,R=0;for(16==P?(R=3+Kn(e,u,3),u+=2,F=k[_-1]):17==P?(R=3+Kn(e,u,7),u+=3):18==P&&(R=11+Kn(e,u,127),u+=7);R--;)k[_++]=F}}var T=k.subarray(0,w),O=k.subarray(w);p=Jn(T),x=Jn(O),m=Un(T,p,1),f=Un(O,x,1)}else er(1);if(u>g){l&&er(0);break}}o&&c(h+131072);for(var I=(1<<p)-1,D=(1<<x)-1,z=u;;z=u){var M=(F=m[$n(e,u)&I])>>4;if((u+=15&F)>g){l&&er(0);break}if(F||er(2),M<256)n[h++]=M;else{if(256==M){z=u,m=null;break}var B=M-254;if(M>264){var U=Cn[_=M-257];B=Kn(e,u,(1<<U)-1)+Rn[_],u+=U}var q=f[$n(e,u)&D],H=q>>4;q||er(3),u+=15&q;O=In[H];if(H>3){U=Ln[H];O+=$n(e,u)&(1<<U)-1,u+=U}if(u>g){l&&er(0);break}o&&c(h+131072);var W=h+B;if(h<O){var V=s-O,G=Math.min(O,W);for(V+h<0&&er(3);h<G;++h)n[h]=r[V+h]}for(;h<W;++h)n[h]=n[h-O]}}t.l=m,t.p=z,t.b=h,t.f=d,m&&(d=1,t.m=p,t.d=f,t.n=x)}while(!d);return h!=n.length&&i?Qn(n,0,h):n.subarray(0,h)},nr=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},rr=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},ar=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,s=n.slice();if(!a)return{t:ur,l:0};if(1==a){var i=new Sn(n[0].s+1);return i[n[0].s]=1,{t:i,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,d=1,u=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=a-1;)o=n[n[c].f<n[u].f?c++:u++],l=n[c!=d&&n[c].f<n[u].f?c++:u++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};var h=s[0].s;for(r=1;r<a;++r)s[r].s>h&&(h=s[r].s);var m=new _n(h+1),f=sr(n[d-1],m,0);if(f>t){r=0;var p=0,x=f-t,g=1<<x;for(s.sort(function(e,t){return m[t.s]-m[e.s]||e.f-t.f});r<a;++r){var b=s[r].s;if(!(m[b]>t))break;p+=g-(1<<f-m[b]),m[b]=t}for(p>>=x;p>0;){var y=s[r].s;m[y]<t?p-=1<<t-m[y]++-1:++r}for(;r>=0&&p;--r){var v=s[r].s;m[v]==t&&(--m[v],++p)}f=t}return{t:new Sn(m),l:f}},sr=function(e,t,n){return-1==e.s?Math.max(sr(e.l,t,n+1),sr(e.r,t,n+1)):t[e.s]=n},ir=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new _n(++t),r=0,a=e[0],s=1,i=function(e){n[r++]=e},o=1;o<=t;++o)if(e[o]==a&&o!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=e[o]}return{c:n.subarray(0,r),n:t}},or=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},lr=function(e,t,n){var r=n.length,a=Xn(t+2);e[a]=255&r,e[a+1]=r>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var s=0;s<r;++s)e[a+s+4]=n[s];return 8*(a+4+r)},cr=function(e,t,n,r,a,s,i,o,l,c,d){nr(t,d++,n),++a[256];for(var u=ar(a,15),h=u.t,m=u.l,f=ar(s,15),p=f.t,x=f.l,g=ir(h),b=g.c,y=g.n,v=ir(p),w=v.c,N=v.n,j=new _n(19),k=0;k<b.length;++k)++j[31&b[k]];for(k=0;k<w.length;++k)++j[31&w[k]];for(var S=ar(j,7),_=S.t,A=S.l,C=19;C>4&&!_[Pn[C-1]];--C);var L,P,E,F,R=c+5<<3,T=or(a,qn)+or(s,Hn)+i,O=or(a,h)+or(s,p)+i+14+3*C+or(j,_)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&R<=T&&R<=O)return lr(t,d,e.subarray(l,l+c));if(nr(t,d,1+(O<T)),d+=2,O<T){L=Un(h,m,0),P=h,E=Un(p,x,0),F=p;var I=Un(_,A,0);nr(t,d,y-257),nr(t,d+5,N-1),nr(t,d+10,C-4),d+=14;for(k=0;k<C;++k)nr(t,d+3*k,_[Pn[k]]);d+=3*C;for(var D=[b,w],z=0;z<2;++z){var M=D[z];for(k=0;k<M.length;++k){var B=31&M[k];nr(t,d,I[B]),d+=_[B],B>15&&(nr(t,d,M[k]>>5&127),d+=M[k]>>12)}}}else L=Wn,P=qn,E=Gn,F=Hn;for(k=0;k<o;++k){var U=r[k];if(U>255){rr(t,d,L[(B=U>>18&31)+257]),d+=P[B+257],B>7&&(nr(t,d,U>>23&31),d+=Cn[B]);var q=31&U;rr(t,d,E[q]),d+=F[q],q>3&&(rr(t,d,U>>5&8191),d+=Ln[q])}else rr(t,d,L[U]),d+=P[U]}return rr(t,d,L[256]),d+P[256]},dr=new An([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ur=new Sn(0),hr=function(e,t,n,r,a,s){var i=s.z||e.length,o=new Sn(r+i+5*(1+Math.ceil(i/7e3))+a),l=o.subarray(r,o.length-a),c=s.l,d=7&(s.r||0);if(t){d&&(l[0]=s.r>>3);for(var u=dr[t-1],h=u>>13,m=8191&u,f=(1<<n)-1,p=s.p||new _n(32768),x=s.h||new _n(f+1),g=Math.ceil(n/3),b=2*g,y=function(t){return(e[t]^e[t+1]<<g^e[t+2]<<b)&f},v=new An(25e3),w=new _n(288),N=new _n(32),j=0,k=0,S=s.i||0,_=0,A=s.w||0,C=0;S+2<i;++S){var L=y(S),P=32767&S,E=x[L];if(p[P]=E,x[L]=P,A<=S){var F=i-S;if((j>7e3||_>24576)&&(F>423||!c)){d=cr(e,l,0,v,w,N,k,_,C,S-C,d),_=j=k=0,C=S;for(var R=0;R<286;++R)w[R]=0;for(R=0;R<30;++R)N[R]=0}var T=2,O=0,I=m,D=P-E&32767;if(F>2&&L==y(S-D))for(var z=Math.min(h,F)-1,M=Math.min(32767,S),B=Math.min(258,F);D<=M&&--I&&P!=E;){if(e[S+T]==e[S+T-D]){for(var U=0;U<B&&e[S+U]==e[S+U-D];++U);if(U>T){if(T=U,O=D,U>z)break;var q=Math.min(D,U-2),H=0;for(R=0;R<q;++R){var W=S-D+R&32767,V=W-p[W]&32767;V>H&&(H=V,E=W)}}}D+=(P=E)-(E=p[P])&32767}if(O){v[_++]=268435456|Tn[T]<<18|Dn[O];var G=31&Tn[T],Y=31&Dn[O];k+=Cn[G]+Ln[Y],++w[257+G],++N[Y],A=S+T,++j}else v[_++]=e[S],++w[e[S]]}}for(S=Math.max(S,A);S<i;++S)v[_++]=e[S],++w[e[S]];d=cr(e,l,c,v,w,N,k,_,C,S-C,d),c||(s.r=7&d|l[d/8|0]<<3,d-=7,s.h=x,s.p=p,s.i=S,s.w=A)}else{for(S=s.w||0;S<i+c;S+=65535){var J=S+65535;J>=i&&(l[d/8|0]=c,J=i),d=lr(l,d+1,e.subarray(S,J))}s.i=i}return Qn(o,0,r+Xn(d)+a)},mr=function(){var e=1,t=0;return{p:function(n){for(var r=e,a=t,s=0|n.length,i=0;i!=s;){for(var o=Math.min(i+2655,s);i<o;++i)a+=r+=n[i];r=(65535&r)+15*(r>>16),a=(65535&a)+15*(a>>16)}e=r,t=a},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},fr=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),i=new Sn(s.length+e.length);i.set(s),i.set(e,s.length),e=i,a.w=s.length}return hr(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,a)},pr=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},xr=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=mr();a.p(t.dictionary),pr(e,2,a.d())}},gr=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&er(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&er(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function br(e,t){t||(t={});var n=mr();n.p(e);var r=fr(e,t,t.dictionary?6:2,4);return xr(r,t),pr(r,r.length-4,n.d()),r}function yr(e,t){return tr(e.subarray(gr(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var vr="undefined"!=typeof TextDecoder&&new TextDecoder;try{vr.decode(ur,{stream:!0})}catch(pi){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var wr=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function Nr(){wr.console&&"function"==typeof wr.console.log&&wr.console.log.apply(wr.console,arguments)}var jr={log:Nr,warn:function(e){wr.console&&("function"==typeof wr.console.warn?wr.console.warn.apply(wr.console,arguments):Nr.call(null,arguments))},error:function(e){wr.console&&("function"==typeof wr.console.error?wr.console.error.apply(wr.console,arguments):Nr(e))}};function kr(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Lr(r.response,t,n)},r.onerror=function(){jr.error("could not download file")},r.send()}function Sr(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function _r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ar,Cr,Lr=wr.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,kn.A)(window))||window!==wr?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=wr.URL||wr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?Sr(a.href)?kr(e,t,n):_r(a,a.target="_blank"):_r(a)):(a.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){_r(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(Sr(e))kr(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){_r(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,kn.A)(t)&&(jr.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return kr(e,t,n);var a="application/octet-stream"===e.type,s=/constructor/i.test(wr.HTMLElement)||wr.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&"object"===("undefined"==typeof FileReader?"undefined":(0,kn.A)(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},o.readAsDataURL(e)}else{var l=wr.URL||wr.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function Pr(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,s=n[r].process,i=a.exec(e);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function Er(e,t){var n=e[0],r=e[1],a=e[2],s=e[3];n=Rr(n,r,a,s,t[0],7,-680876936),s=Rr(s,n,r,a,t[1],12,-389564586),a=Rr(a,s,n,r,t[2],17,606105819),r=Rr(r,a,s,n,t[3],22,-1044525330),n=Rr(n,r,a,s,t[4],7,-176418897),s=Rr(s,n,r,a,t[5],12,1200080426),a=Rr(a,s,n,r,t[6],17,-1473231341),r=Rr(r,a,s,n,t[7],22,-45705983),n=Rr(n,r,a,s,t[8],7,1770035416),s=Rr(s,n,r,a,t[9],12,-1958414417),a=Rr(a,s,n,r,t[10],17,-42063),r=Rr(r,a,s,n,t[11],22,-1990404162),n=Rr(n,r,a,s,t[12],7,1804603682),s=Rr(s,n,r,a,t[13],12,-40341101),a=Rr(a,s,n,r,t[14],17,-1502002290),n=Tr(n,r=Rr(r,a,s,n,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Tr(s,n,r,a,t[6],9,-1069501632),a=Tr(a,s,n,r,t[11],14,643717713),r=Tr(r,a,s,n,t[0],20,-373897302),n=Tr(n,r,a,s,t[5],5,-701558691),s=Tr(s,n,r,a,t[10],9,38016083),a=Tr(a,s,n,r,t[15],14,-660478335),r=Tr(r,a,s,n,t[4],20,-405537848),n=Tr(n,r,a,s,t[9],5,568446438),s=Tr(s,n,r,a,t[14],9,-1019803690),a=Tr(a,s,n,r,t[3],14,-187363961),r=Tr(r,a,s,n,t[8],20,1163531501),n=Tr(n,r,a,s,t[13],5,-1444681467),s=Tr(s,n,r,a,t[2],9,-51403784),a=Tr(a,s,n,r,t[7],14,1735328473),n=Or(n,r=Tr(r,a,s,n,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Or(s,n,r,a,t[8],11,-2022574463),a=Or(a,s,n,r,t[11],16,1839030562),r=Or(r,a,s,n,t[14],23,-35309556),n=Or(n,r,a,s,t[1],4,-1530992060),s=Or(s,n,r,a,t[4],11,1272893353),a=Or(a,s,n,r,t[7],16,-155497632),r=Or(r,a,s,n,t[10],23,-1094730640),n=Or(n,r,a,s,t[13],4,681279174),s=Or(s,n,r,a,t[0],11,-358537222),a=Or(a,s,n,r,t[3],16,-722521979),r=Or(r,a,s,n,t[6],23,76029189),n=Or(n,r,a,s,t[9],4,-640364487),s=Or(s,n,r,a,t[12],11,-421815835),a=Or(a,s,n,r,t[15],16,530742520),n=Ir(n,r=Or(r,a,s,n,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Ir(s,n,r,a,t[7],10,1126891415),a=Ir(a,s,n,r,t[14],15,-1416354905),r=Ir(r,a,s,n,t[5],21,-57434055),n=Ir(n,r,a,s,t[12],6,1700485571),s=Ir(s,n,r,a,t[3],10,-1894986606),a=Ir(a,s,n,r,t[10],15,-1051523),r=Ir(r,a,s,n,t[1],21,-2054922799),n=Ir(n,r,a,s,t[8],6,1873313359),s=Ir(s,n,r,a,t[15],10,-30611744),a=Ir(a,s,n,r,t[6],15,-1560198380),r=Ir(r,a,s,n,t[13],21,1309151649),n=Ir(n,r,a,s,t[4],6,-145523070),s=Ir(s,n,r,a,t[11],10,-1120210379),a=Ir(a,s,n,r,t[2],15,718787259),r=Ir(r,a,s,n,t[9],21,-343485551),e[0]=Wr(n,e[0]),e[1]=Wr(r,e[1]),e[2]=Wr(a,e[2]),e[3]=Wr(s,e[3])}function Fr(e,t,n,r,a,s){return t=Wr(Wr(t,e),Wr(r,s)),Wr(t<<a|t>>>32-a,n)}function Rr(e,t,n,r,a,s,i){return Fr(t&n|~t&r,e,t,a,s,i)}function Tr(e,t,n,r,a,s,i){return Fr(t&r|n&~r,e,t,a,s,i)}function Or(e,t,n,r,a,s,i){return Fr(t^n^r,e,t,a,s,i)}function Ir(e,t,n,r,a,s,i){return Fr(n^(t|~r),e,t,a,s,i)}function Dr(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Er(r,zr(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Er(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,Er(r,a),r}function zr(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Ar=wr.atob.bind(wr),Cr=wr.btoa.bind(wr);var Mr="0123456789abcdef".split("");function Br(e){for(var t="",n=0;n<4;n++)t+=Mr[e>>8*n+4&15]+Mr[e>>8*n&15];return t}function Ur(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function qr(e){return Dr(e).map(Ur).join("")}var Hr="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Br(e[t]);return e.join("")}(Dr("hello"));function Wr(e,t){if(Hr){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Vr(e,t){var n,r,a,s;if(e!==n){for(var i=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+i.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=e,r=o}else o=r;var u=t.length,h=0,m=0,f="";for(l=0;l<u;l++)m=(m+(d=o[h=(h+1)%256]))%256,o[h]=o[m],o[m]=d,i=o[(o[h]+o[m])%256],f+=String.fromCharCode(t.charCodeAt(l)^i);return f}var Gr={print:4,modify:8,copy:16,"annot-forms":32};function Yr(e,t,n,r){this.v=1,this.r=2;var a=192;e.forEach(function(e){if(void 0!==Gr.perm)throw new Error("Invalid permission: "+e);a+=Gr[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(t+this.padding).substr(0,32),i=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=qr(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Vr(this.encryptionKey,this.padding)}function Jr(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var a=e.charCodeAt(r);t+=a<33||35===a||37===a||40===a||41===a||47===a||60===a||62===a||91===a||93===a||123===a||125===a||a>126?"#"+("0"+a.toString(16)).slice(-2):e[r]}return t}function Kr(e){if("object"!==(0,kn.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!r],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[n]){var i=t[n][s];try{i[0].apply(e,r)}catch(n){wr.console&&jr.error("jsPDF PubSub Error",n.message,n)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function $r(e){if(!(this instanceof $r))return new $r(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Xr(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Qr(e,t,n,r,a){if(!(this instanceof Qr))return new Qr(e,t,n,r,a);this.type="axial"===e?2:3,this.coords=t,this.colors=n,Xr.call(this,r,a)}function Zr(e,t,n,r,a){if(!(this instanceof Zr))return new Zr(e,t,n,r,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Xr.call(this,r,a)}function ea(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],a=arguments[2],s=arguments[3],i=[],o=1,l=16,c="S",d=null;"object"===(0,kn.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,a=e.format||a,s=e.compress||e.compressPdf||s,null!==(d=e.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),i=e.filters||(!0===s?["FlateEncode"]:i),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=Kr;var f="1.3",p=m.__private__.getPdfVersion=function(){return f};m.__private__.setPdfVersion=function(e){f=e};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return x};var g=m.__private__.getPageFormat=function(e){return x[e]};a=a||"a4";var b="compat",y="advanced",v=b;function w(){this.saveGraphicsState(),X(new Ee(he,0,0,-he,0,dn()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",v=y}function N(){this.restoreGraphicsState(),c="S",v=b}var j=m.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};m.advancedAPI=function(e){var t=v===b;return t&&w.call(this),"function"!=typeof e||(e(this),t&&N.call(this)),this},m.compatAPI=function(e){var t=v===y;return t&&N.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},m.isAdvancedAPI=function(){return v===y};var k,S=function(e){if(v!==y)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},_=m.roundToPrecision=m.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};k=m.hpf=m.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return _(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return _(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return _(e,16)};var A=m.f2=m.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return _(e,2)},C=m.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return _(e,3)},L=m.scale=m.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return v===b?e*he:v===y?e:void 0},P=function(e){return L(function(e){return v===b?dn()-e:v===y?e:void 0}(e))};m.__private__.setPrecision=m.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var E,F="00000000000000000000000000000000",R=m.__private__.getFileId=function(){return F},T=m.__private__.setFileId=function(e){return F=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&(yt=new Yr(d.userPermissions,d.userPassword,d.ownerPassword,F)),F};m.setFileId=function(e){return T(e),this},m.getFileId=function(){return R()};var O=m.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),s=[n,B(r),"'",B(a),"'"].join("");return["D:",e.getFullYear(),B(e.getMonth()+1),B(e.getDate()),B(e.getHours()),B(e.getMinutes()),B(e.getSeconds()),s].join("")},I=m.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),i=parseInt(e.substr(14,2),10);return new Date(t,n,r,a,s,i,0)},D=m.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=O(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return E=t},z=m.__private__.getCreationDate=function(e){var t=E;return"jsDate"===e&&(t=I(E)),t};m.setCreationDate=function(e){return D(e),this},m.getCreationDate=function(e){return z(e)};var M,B=m.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},U=m.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},q=0,H=[],W=[],V=0,G=[],Y=[],J=!1,K=W;m.__private__.setCustomOutputDestination=function(e){J=!0,K=e};var $=function(e){J||(K=e)};m.__private__.resetCustomOutputDestination=function(){J=!1,K=W};var X=m.__private__.out=function(e){return e=e.toString(),V+=e.length+1,K.push(e),K},Q=m.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=m.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(e){return te=v===y?e/he:e,this};var ne,re=m.__private__.getFontSize=m.getFontSize=function(){return v===b?te:te*he},ae=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(e){return ae=e,this},m.__private__.getR2L=m.getR2L=function(){return ae};var se,ie=m.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};m.__private__.getZoomMode=function(){return ne};var oe,le=m.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');se=e};m.__private__.getPageMode=function(){return se};var ce=m.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};m.__private__.getLayoutMode=function(){return oe},m.__private__.setDisplayMode=m.setDisplayMode=function(e,t,n){return ie(e),ce(t),le(n),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(e){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[e]},m.__private__.getDocumentProperties=function(){return de},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(e){for(var t in de)de.hasOwnProperty(t)&&e[t]&&(de[t]=e[t]);return this},m.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[e]=t};var ue,he,me,fe,pe,xe={},ge={},be=[],ye={},ve={},we={},Ne={},je=null,ke=0,Se=[],_e=new Kr(m),Ae=e.hotfixes||[],Ce={},Le={},Pe=[],Ee=function e(t,n,r,a,s,i){if(!(this instanceof e))return new e(t,n,r,a,s,i);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(a)&&(a=1),isNaN(s)&&(s=0),isNaN(i)&&(i=0),this._matrix=[t,n,r,a,s,i]};Object.defineProperty(Ee.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ee.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ee.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ee.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ee.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ee.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ee.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ee.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ee.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ee.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ee.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ee.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ee.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ee.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ee.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ee.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ee.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Ee.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,a=e.shx*this.shy+e.sy*this.sy,s=e.tx*this.sx+e.ty*this.shx+this.tx,i=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ee(t,n,r,a,s,i)},Ee.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,s=this.ty,i=Math.sqrt(e*e+t*t),o=(e/=i)*n+(t/=i)*r;n-=e*o,r-=t*o;var l=Math.sqrt(n*n+r*r);return o/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,o=-o,i=-i),{scale:new Ee(i,0,0,l,0,0),translate:new Ee(1,0,0,1,a,s),rotate:new Ee(e,t,-t,e,0,0),skew:new Ee(1,0,o,1,0,0)}},Ee.prototype.toString=function(e){return this.join(" ")},Ee.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,s=this.ty,i=1/(e*r-t*n),o=r*i,l=-t*i,c=-n*i,d=e*i;return new Ee(o,l,c,d,-o*a-c*s,-l*a-d*s)},Ee.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new nn(t,n)},Ee.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new nn(e.x+e.w,e.y+e.h));return new rn(t.x,t.y,n.x-t.x,n.y-t.y)},Ee.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,s=this.ty;return new Ee(e,t,n,r,a,s)},m.Matrix=Ee;var Fe=m.matrixMult=function(e,t){return t.multiply(e)},Re=new Ee(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Re;var Te=function(e,t){if(!ve[e]){var n=(t instanceof Qr?"Sh":"P")+(Object.keys(ye).length+1).toString(10);t.id=n,ve[e]=n,ye[n]=t,_e.publish("addPattern",t)}};m.ShadingPattern=Qr,m.TilingPattern=Zr,m.addShadingPattern=function(e,t){return S("addShadingPattern()"),Te(e,t),this},m.beginTilingPattern=function(e){S("beginTilingPattern()"),sn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},m.endTilingPattern=function(e,t){S("endTilingPattern()"),t.stream=Y[M].join("\n"),Te(e,t),_e.publish("endTilingPattern",t),Pe.pop().restore()};var Oe,Ie=m.__private__.newObject=function(){var e=De();return ze(e,!0),e},De=m.__private__.newObjectDeferred=function(){return q++,H[q]=function(){return V},q},ze=function(e,t){return t="boolean"==typeof t&&t,H[e]=V,t&&X(e+" 0 obj"),e},Me=m.__private__.newAdditionalObject=function(){var e={objId:De(),content:""};return G.push(e),e},Be=De(),Ue=De(),qe=m.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",a=0;a<3;a++)r+=("0"+Math.floor(255*parseFloat(t[a])).toString(16)).slice(-2);return r},He=m.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,a=e.ch3,s=e.ch4,i="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new Pr(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,a=255&l}if(void 0===r||void 0===s&&n===r&&r===a)if("string"==typeof n)t=n+" "+i[0];else if(2===e.precision)t=A(n/255)+" "+i[0];else t=C(n/255)+" "+i[0];else if(void 0===s||"object"===(0,kn.A)(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",i[1]].join(" ");if("string"==typeof n)t=[n,r,a,i[1]].join(" ");else if(2===e.precision)t=[A(n/255),A(r/255),A(a/255),i[1]].join(" ");else t=[C(n/255),C(r/255),C(a/255),i[1]].join(" ")}else if("string"==typeof n)t=[n,r,a,s,i[2]].join(" ");else if(2===e.precision)t=[A(n),A(r),A(a),A(s),i[2]].join(" ");else t=[C(n),C(r),C(a),C(s),i[2]].join(" ");return t},We=m.__private__.getFilters=function(){return i},Ve=m.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||We(),r=e.alreadyAppliedFilters||[],a=e.addLength1||!1,s=t.length,i=e.objectId,o=function(e){return e};if(null!==d&&void 0===i)throw new Error("ObjectId must be passed to putStream for file encryption");null!==d&&(o=yt.encryptor(i,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==ea.API.processDataByFilters?ea.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===a&&c.push({key:"Length1",value:s})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var m=[],f=0;f<l.reverseChain.split("/").length-1;f+=1)m.push("null");m.push(c[h].value),c[h].value="["+m.join(" ")+"]"}}X("<<");for(var p=0;p<c.length;p++)X("/"+c[p].key+" "+c[p].value);X(">>"),0!==l.data.length&&(X("stream"),X(o(l.data)),X("endstream"))},Ge=m.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,a=e.contentsObjId;ze(r,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),_e.publish("putPage",{objId:r,pageContext:Se[t],pageNumber:t,page:n}),X("/Contents "+a+" 0 R"),X(">>"),X("endobj");var s=n.join("\n");return v===y&&(s+="\nQ"),ze(a,!0),Ve({data:s,filters:We(),objectId:a}),X("endobj"),r},Ye=m.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=ke;e++)Se[e].objId=De(),Se[e].contentsObjId=De();for(e=1;e<=ke;e++)n.push(Ge({number:e,data:Y[e],objId:Se[e].objId,contentsObjId:Se[e].contentsObjId,mediaBox:Se[e].mediaBox,cropBox:Se[e].cropBox,bleedBox:Se[e].bleedBox,trimBox:Se[e].trimBox,artBox:Se[e].artBox,userUnit:Se[e].userUnit,rootDictionaryObjId:Be,resourceDictionaryObjId:Ue}));ze(Be,!0),X("<</Type /Pages");var r="/Kids [";for(t=0;t<ke;t++)r+=n[t]+" 0 R ";X(r+"]"),X("/Count "+ke),X(">>"),X("endobj"),_e.publish("postPutPages")},Je=function(e){_e.publish("putFont",{font:e,out:X,newObject:Ie,putStream:Ve}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ie(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Jr(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Ke=function(e){e.objectNumber=Ie();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");Ve({data:n,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},$e=function(e,t){t||(t=21);var n=Ie(),r=function(e,t){var n,r=[],a=1/(t-1);for(n=0;n<1;n+=a)r.push(n);if(r.push(1),0!=e[0].offset){var s={offset:0,color:e[0].color};e.unshift(s)}if(1!=e[e.length-1].offset){var i={offset:1,color:e[e.length-1].color};e.push(i)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var d=e[l].offset,u=(n-d)/(e[l+1].offset-d),h=e[l].color,m=e[l+1].color;o+=U(Math.round((1-u)*h[0]+u*m[0]).toString(16))+U(Math.round((1-u)*h[1]+u*m[1]).toString(16))+U(Math.round((1-u)*h[2]+u*m[2]).toString(16))}return o.trim()}(e.colors,t),a=[];a.push({key:"FunctionType",value:"0"}),a.push({key:"Domain",value:"[0.0 1.0]"}),a.push({key:"Size",value:"["+t+"]"}),a.push({key:"BitsPerSample",value:"8"}),a.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),a.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:r,additionalKeyValues:a,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),X("endobj"),e.objectNumber=Ie(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var s="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?s+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):s+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),X(s+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+n+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Xe=function(e,t){var n=De(),r=Ie();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var a=[];a.push({key:"Type",value:"/Pattern"}),a.push({key:"PatternType",value:"1"}),a.push({key:"PaintType",value:"1"}),a.push({key:"TilingType",value:"1"}),a.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),a.push({key:"XStep",value:k(e.xStep)}),a.push({key:"YStep",value:k(e.yStep)}),a.push({key:"Resources",value:n+" 0 R"}),e.matrix&&a.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ve({data:e.stream,additionalKeyValues:a,objectId:e.objectNumber}),X("endobj")},Qe=function(e){for(var t in e.objectNumber=Ie(),X("<<"),e)switch(t){case"opacity":X("/ca "+A(e[t]));break;case"stroke-opacity":X("/CA "+A(e[t]))}X(">>"),X("endobj")},Ze=function(e){ze(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),xe)xe.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&X("/"+e+" "+xe[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(ye).length>0){for(var e in X("/Shading <<"),ye)ye.hasOwnProperty(e)&&ye[e]instanceof Qr&&ye[e].objectNumber>=0&&X("/"+e+" "+ye[e].objectNumber+" 0 R");_e.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(ye).length>0){for(var t in X("/Pattern <<"),ye)ye.hasOwnProperty(t)&&ye[t]instanceof m.TilingPattern&&ye[t].objectNumber>=0&&ye[t].objectNumber<e&&X("/"+t+" "+ye[t].objectNumber+" 0 R");_e.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in X("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&X("/"+e+" "+we[e].objectNumber+" 0 R");_e.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),Ce)Ce.hasOwnProperty(e)&&Ce[e].objectNumber>=0&&X("/"+e+" "+Ce[e].objectNumber+" 0 R");_e.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},et=function(){var e=[];(function(){for(var e in xe)xe.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&Je(xe[e])})(),function(){var e;for(e in we)we.hasOwnProperty(e)&&Qe(we[e])}(),function(){for(var e in Ce)Ce.hasOwnProperty(e)&&Ke(Ce[e])}(),function(e){var t;for(t in ye)ye.hasOwnProperty(t)&&(ye[t]instanceof Qr?$e(ye[t]):ye[t]instanceof Zr&&Xe(ye[t],e))}(e),_e.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:Ue,objectOid:Number.MAX_SAFE_INTEGER}),_e.publish("postPutResources")},tt=function(e){ge[e.fontName]=ge[e.fontName]||{},ge[e.fontName][e.fontStyle]=e.id},nt=function(e,t,n,r,a){var s={id:"F"+(Object.keys(xe).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:a||!1,metadata:{}};return _e.publish("addFont",{font:s,instance:this}),xe[s.id]=s,tt(s),s.id},rt=m.__private__.pdfEscape=m.pdfEscape=function(e,t){return function(e,t){var n,r,a,s,i,o,l,c,d;if(a=(t=t||{}).sourceEncoding||"Unicode",i=t.outputEncoding,(t.autoencode||i)&&xe[ue].metadata&&xe[ue].metadata[a]&&xe[ue].metadata[a].encoding&&(s=xe[ue].metadata[a].encoding,!i&&xe[ue].encoding&&(i=xe[ue].encoding),!i&&s.codePages&&(i=s.codePages[0]),"string"==typeof i&&(i=s[i]),i)){for(l=!1,o=[],n=0,r=e.length;n<r;n++)(c=i[e.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(e[n]),o[n].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(o=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((d=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},at=m.__private__.beginPage=function(e){Y[++ke]=[],Se[ke]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},ot(ke),$(Y[M])},st=function(e,t){var r,s,i;switch(n=t||n,"string"==typeof e&&(r=g(e.toLowerCase()),Array.isArray(r)&&(s=r[0],i=r[1])),Array.isArray(e)&&(s=e[0]*he,i=e[1]*he),isNaN(s)&&(s=a[0],i=a[1]),(s>14400||i>14400)&&(jr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),i=Math.min(14400,i)),a=[s,i],n.substr(0,1)){case"l":i>s&&(a=[i,s]);break;case"p":s>i&&(a=[i,s])}at(a),Mt(Dt),X(Yt),0!==Zt&&X(Zt+" J"),0!==en&&X(en+" j"),_e.publish("addPage",{pageNumber:ke})},it=function(e){e>0&&e<=ke&&(Y.splice(e,1),Se.splice(e,1),ke--,M>ke&&(M=ke),this.setPage(M))},ot=function(e){e>0&&e<=ke&&(M=e)},lt=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Y.length-1},ct=function(e,t,n){var r,a=void 0;return n=n||{},e=void 0!==e?e:xe[ue].fontName,t=void 0!==t?t:xe[ue].fontStyle,r=e.toLowerCase(),void 0!==ge[r]&&void 0!==ge[r][t]?a=ge[r][t]:void 0!==ge[e]&&void 0!==ge[e][t]?a=ge[e][t]:!1===n.disableWarning&&jr.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),a||n.noFallback||null==(a=ge.times[t])&&(a=ge.times.normal),a},dt=m.__private__.putInfo=function(){var e=Ie(),t=function(e){return e};for(var n in null!==d&&(t=yt.encryptor(e,0)),X("<<"),X("/Producer ("+rt(t("jsPDF "+ea.version))+")"),de)de.hasOwnProperty(n)&&de[n]&&X("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+rt(t(de[n]))+")");X("/CreationDate ("+rt(t(E))+")"),X(">>"),X("endobj")},ut=m.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Be;switch(Ie(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&X("/OpenAction [3 0 R /XYZ null null "+A(ne)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}se&&X("/PageMode /"+se),_e.publish("putCatalog"),X(">>"),X("endobj")},ht=m.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(q+1)),X("/Root "+q+" 0 R"),X("/Info "+(q-1)+" 0 R"),null!==d&&X("/Encrypt "+yt.oid+" 0 R"),X("/ID [ <"+F+"> <"+F+"> ]"),X(">>")},mt=m.__private__.putHeader=function(){X("%PDF-"+f),X("%\xba\xdf\xac\xe0")},ft=m.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(q+1)),X("0000000000 65535 f ");for(var t=1;t<=q;t++)"function"==typeof H[t]?X((e+H[t]()).slice(-10)+" 00000 n "):void 0!==H[t]?X((e+H[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},pt=m.__private__.buildDocument=function(){q=0,V=0,W=[],H=[],G=[],Be=De(),Ue=De(),$(W),_e.publish("buildDocument"),mt(),Ye(),function(){_e.publish("putAdditionalObjects");for(var e=0;e<G.length;e++){var t=G[e];ze(t.objId,!0),X(t.content),X("endobj")}_e.publish("postPutAdditionalObjects")}(),et(),null!==d&&(yt.oid=Ie(),X("<<"),X("/Filter /Standard"),X("/V "+yt.v),X("/R "+yt.r),X("/U <"+yt.toHexString(yt.U)+">"),X("/O <"+yt.toHexString(yt.O)+">"),X("/P "+yt.P),X(">>"),X("endobj")),dt(),ut();var e=V;return ft(),ht(),X("startxref"),X(""+e),X("%%EOF"),$(Y[M]),W.join("\n")},xt=m.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},gt=m.output=m.__private__.output=(Oe=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return pt();case"save":m.save(t.filename);break;case"arraybuffer":return Z(pt());case"blob":return xt(pt());case"bloburi":case"bloburl":if(void 0!==wr.URL&&"function"==typeof wr.URL.createObjectURL)return wr.URL&&wr.URL.createObjectURL(xt(pt()))||void 0;jr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=pt();try{n=Cr(r)}catch(e){n=Cr(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(wr)){var a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(a=t.pdfObjectUrl,s="");var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+a+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=wr.open();return null!==o&&o.document.write(i),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(wr)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=wr.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(wr))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=wr.open();if(null!==h&&(h.document.write(u),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return wr.document.location.href=this.output("datauristring",t);default:return null}},Oe.foo=function(){try{return Oe.apply(this,arguments)}catch(Oe){var e=Oe.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+Oe.message;if(!wr.console)throw new Error(t);wr.console.error(t,Oe),wr.alert&&alert(t)}},Oe.foo.bar=Oe,Oe.foo),bt=function(e){return!0===Array.isArray(Ae)&&Ae.indexOf(e)>-1};switch(r){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==bt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);he=r}var yt=null;D(),T();var vt=m.__private__.getPageInfo=m.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Se[e].objId,pageNumber:e,pageContext:Se[e]}},wt=m.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Se)if(Se[t].objId===e)break;return vt(t)},Nt=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Se[M].objId,pageNumber:M,pageContext:Se[M]}};m.addPage=function(){return st.apply(this,arguments),this},m.setPage=function(){return ot.apply(this,arguments),$.call(this,Y[M]),this},m.insertPage=function(e){return this.addPage(),this.movePage(M,e),this},m.movePage=function(e,t){var n,r;if(e>t){n=Y[e],r=Se[e];for(var a=e;a>t;a--)Y[a]=Y[a-1],Se[a]=Se[a-1];Y[t]=n,Se[t]=r,this.setPage(t)}else if(e<t){n=Y[e],r=Se[e];for(var s=e;s<t;s++)Y[s]=Y[s+1],Se[s]=Se[s+1];Y[t]=n,Se[t]=r,this.setPage(t)}return this},m.deletePage=function(){return it.apply(this,arguments),this},m.__private__.text=m.text=function(e,t,n,r,a){var s,i,o,l,c,d,u,m,f,p=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var x=n;n=t,t=e,e=x}if(arguments[3]instanceof Ee==0?(o=arguments[4],l=arguments[5],"object"===(0,kn.A)(u=arguments[3])&&null!==u||("string"==typeof o&&(l=o,o=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(o=u,u=null),r={flags:u,angle:o,align:l})):(S("The transform parameter of text() with a Matrix value"),f=a),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var g,b="",w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:It,N=p.internal.scaleFactor;function j(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),rt(e,u)}function _(e){for(var t,n=e.concat(),r=[],a=n.length;a--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function A(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,a,s=e.concat(),i=[],o=s.length;o--;)"string"==typeof(r=s.shift())?i.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(a=t(r[0],r[1],r[2]),i.push([a[0],a[1],a[2]]));n=i}return n}var C=!1,P=!0;if("string"==typeof e)C=!0;else if(Array.isArray(e)){var E=e.concat();i=[];for(var F,R=E.length;R--;)("string"!=typeof(F=E.shift())||Array.isArray(F)&&"string"!=typeof F[0])&&(P=!1);C=P}if(!1===C)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var T=te/p.internal.scaleFactor,O=T*(w-1);switch(r.baseline){case"bottom":n-=O;break;case"top":n+=T-O;break;case"hanging":n+=T-2*O;break;case"middle":n+=T/2-O}if((d=r.maxWidth||0)>0&&("string"==typeof e?e=p.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(p.splitTextToSize(t,d))},[]))),s={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:xe,activeFontSize:te}},_e.publish("preProcessText",s),e=s.text,o=(r=s.options).angle,f instanceof Ee==0&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),v===y&&(o=-o);var I=Math.cos(o),D=Math.sin(o);f=new Ee(I,D,-D,I,0,0)}else o&&o instanceof Ee&&(f=o);v!==y||f||(f=Re),void 0!==(c=r.charSpace||Xt)&&(b+=k(L(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(m=r.horizontalScale)&&(b+=k(100*m)+" Tz\n"),r.lang;var z=-1,M=void 0!==r.renderingMode?r.renderingMode:r.stroke,B=p.internal.getCurrentPageInfo().pageContext;switch(M){case 0:case!1:case"fill":z=0;break;case 1:case!0:case"stroke":z=1;break;case 2:case"fillThenStroke":z=2;break;case 3:case"invisible":z=3;break;case 4:case"fillAndAddForClipping":z=4;break;case 5:case"strokeAndAddPathForClipping":z=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":z=6;break;case 7:case"addToPathForClipping":z=7}var U=void 0!==B.usedRenderingMode?B.usedRenderingMode:-1;-1!==z?b+=z+" Tr\n":-1!==U&&(b+="0 Tr\n"),-1!==z&&(B.usedRenderingMode=z),l=r.align||"left";var q,H=te*w,W=p.internal.pageSize.getWidth(),V=xe[ue];c=r.charSpace||Xt,d=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var G=[],Y=function(e){return p.getStringUnitWidth(e,{font:V,charSpace:c,fontSize:te,doKerning:!1})*te/N};if("[object Array]"===Object.prototype.toString.call(e)){var J;i=_(e),"left"!==l&&(q=i.map(Y));var K,$=0;if("right"===l){t-=q[0],e=[],R=i.length;for(var Q=0;Q<R;Q++)0===Q?(K=Ht(t),J=Wt(n)):(K=L($-q[Q]),J=-H),e.push([i[Q],K,J]),$=q[Q]}else if("center"===l){t-=q[0]/2,e=[],R=i.length;for(var Z=0;Z<R;Z++)0===Z?(K=Ht(t),J=Wt(n)):(K=L(($-q[Z])/2),J=-H),e.push([i[Z],K,J]),$=q[Z]}else if("left"===l){e=[],R=i.length;for(var ee=0;ee<R;ee++)e.push(i[ee])}else if("justify"===l&&"Identity-H"===V.encoding){e=[],R=i.length,d=0!==d?d:W;for(var ne=0,re=0;re<R;re++)if(J=0===re?Wt(n):-H,K=0===re?Ht(t):ne,re<R-1){var se=L((d-q[re])/(i[re].split(" ").length-1)),ie=i[re].split(" ");e.push([ie[0]+" ",K,J]),ne=0;for(var oe=1;oe<ie.length;oe++){var le=(Y(ie[oe-1]+" "+ie[oe])-Y(ie[oe]))*N+se;oe==ie.length-1?e.push([ie[oe],le,0]):e.push([ie[oe]+" ",le,0]),ne-=le}}else e.push([i[re],K,J]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],R=i.length,d=0!==d?d:W,re=0;re<R;re++)J=0===re?Wt(n):-H,K=0===re?Ht(t):0,re<R-1?G.push(k(L((d-q[re])/(i[re].split(" ").length-1)))):G.push(0),e.push([i[re],K,J])}}!0===("boolean"==typeof r.R2L?r.R2L:ae)&&(e=A(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),s={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:xe,activeFontSize:te}},_e.publish("postProcessText",s),e=s.text,g=s.mutex.isHex||!1;var ce=xe[ue].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=A(e,function(e,t,n){return[j(e),t,n]})),i=_(e),e=[];for(var de,he,me,fe=Array.isArray(i[0])?1:0,pe="",ge=function(e,t,n){var a="";return n instanceof Ee?(n="number"==typeof r.angle?Fe(n,new Ee(1,0,0,1,e,t)):Fe(new Ee(1,0,0,1,e,t),n),v===y&&(n=Fe(new Ee(1,0,0,-1,0,0),n)),a=n.join(" ")+" Tm\n"):a=k(e)+" "+k(t)+" Td\n",a},be=0;be<i.length;be++){switch(pe="",fe){case 1:me=(g?"<":"(")+i[be][0]+(g?">":")"),de=parseFloat(i[be][1]),he=parseFloat(i[be][2]);break;case 0:me=(g?"<":"(")+i[be]+(g?">":")"),de=Ht(t),he=Wt(n)}void 0!==G&&void 0!==G[be]&&(pe=G[be]+" Tw\n"),0===be?e.push(pe+ge(de,he,f)+me):0===fe?e.push(pe+me):1===fe&&e.push(pe+ge(de,he,f)+me)}e=0===fe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var ye="BT\n/";return ye+=ue+" "+te+" Tf\n",ye+=k(te*w)+" TL\n",ye+=Kt+"\n",ye+=b,ye+=e,X(ye+="ET"),h[ue]=!0,p};var jt=m.__private__.clip=m.clip=function(e){return X("evenodd"===e?"W*":"W"),this};m.clipEvenOdd=function(){return jt("evenodd")},m.__private__.discardPath=m.discardPath=function(){return X("n"),this};var kt=m.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(e){return kt(e)&&(c=e),this};var St=m.__private__.getStyle=m.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},_t=m.close=function(){return X("h"),this};m.stroke=function(){return X("S"),this},m.fill=function(e){return At("f",e),this},m.fillEvenOdd=function(e){return At("f*",e),this},m.fillStroke=function(e){return At("B",e),this},m.fillStrokeEvenOdd=function(e){return At("B*",e),this};var At=function(e,t){"object"===(0,kn.A)(t)?Pt(t,e):X(e)},Ct=function(e){null===e||v===y&&void 0===e||(e=St(e),X(e))};function Lt(e,t,n,r,a){var s=new Zr(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,a||this.matrix);s.stream=this.stream;var i=e+"$$"+this.cloneIndex+++"$$";return Te(i,s),s}var Pt=function(e,t){var n=ve[e.key],r=ye[n];if(r instanceof Qr)X("q"),X(Et(t)),r.gState&&m.setGState(r.gState),X(e.matrix.toString()+" cm"),X("/"+n+" sh"),X("Q");else if(r instanceof Zr){var a=new Ee(1,0,0,-1,0,dn());e.matrix&&(a=a.multiply(e.matrix||Re),n=Lt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,a).id),X("q"),X("/Pattern cs"),X("/"+n+" scn"),r.gState&&m.setGState(r.gState),X(t),X("Q")}},Et=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ft=m.moveTo=function(e,t){return X(k(L(e))+" "+k(P(t))+" m"),this},Rt=m.lineTo=function(e,t){return X(k(L(e))+" "+k(P(t))+" l"),this},Tt=m.curveTo=function(e,t,n,r,a,s){return X([k(L(e)),k(P(t)),k(L(n)),k(P(r)),k(L(a)),k(P(s)),"c"].join(" ")),this};m.__private__.line=m.line=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!kt(a))throw new Error("Invalid arguments passed to jsPDF.line");return v===b?this.lines([[n-e,r-t]],e,t,[1,1],a||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},m.__private__.lines=m.lines=function(e,t,n,r,a,s){var i,o,l,c,d,u,h,m,f,p,x,g;if("number"==typeof e&&(g=n,n=t,t=e,e=g),r=r||[1,1],s=s||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!kt(a)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ft(t,n),i=r[0],o=r[1],c=e.length,p=t,x=n,l=0;l<c;l++)2===(d=e[l]).length?(p=d[0]*i+p,x=d[1]*o+x,Rt(p,x)):(u=d[0]*i+p,h=d[1]*o+x,m=d[2]*i+p,f=d[3]*o+x,p=d[4]*i+p,x=d[5]*o+x,Tt(u,h,m,f,p,x));return s&&_t(),Ct(a),this},m.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Ft(r[0],r[1]);break;case"l":Rt(r[0],r[1]);break;case"c":Tt.apply(this,r);break;case"h":_t()}}return this},m.__private__.rect=m.rect=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!kt(a))throw new Error("Invalid arguments passed to jsPDF.rect");return v===b&&(r=-r),X([k(L(e)),k(P(t)),k(L(n)),k(L(r)),"re"].join(" ")),Ct(a),this},m.__private__.triangle=m.triangle=function(e,t,n,r,a,s,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(s)||!kt(i))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[a-n,s-r],[e-a,t-s]],e,t,[1,1],i,!0),this},m.__private__.roundedRect=m.roundedRect=function(e,t,n,r,a,s,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(s)||!kt(i))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return a=Math.min(a,.5*n),s=Math.min(s,.5*r),this.lines([[n-2*a,0],[a*o,0,a,s-s*o,a,s],[0,r-2*s],[0,s*o,-a*o,s,-a,s],[2*a-n,0],[-a*o,0,-a,-s*o,-a,-s],[0,2*s-r],[0,-s*o,a*o,-s,a,-s]],e+a,t,[1,1],i,!0),this},m.__private__.ellipse=m.ellipse=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!kt(a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,i=4/3*(Math.SQRT2-1)*r;return Ft(e+n,t),Tt(e+n,t-i,e+s,t-r,e,t-r),Tt(e-s,t-r,e-n,t-i,e-n,t),Tt(e-n,t+i,e-s,t+r,e,t+r),Tt(e+s,t+r,e+n,t+i,e+n,t),Ct(a),this},m.__private__.circle=m.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!kt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},m.setFont=function(e,t,n){return n&&(t=j(t,n)),ue=ct(e,t,{disableWarning:!1}),this};var Ot=m.__private__.getFont=m.getFont=function(){return xe[ct.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var e,t,n={};for(e in ge)if(ge.hasOwnProperty(e))for(t in n[e]=[],ge[e])ge[e].hasOwnProperty(t)&&n[e].push(t);return n},m.addFont=function(e,t,n,r,a){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?a=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=j(n,r)),nt.call(this,e,t,n,a=a||"Identity-H")};var It,Dt=e.lineWidth||.200025,zt=m.__private__.getLineWidth=m.getLineWidth=function(){return Dt},Mt=m.__private__.setLineWidth=m.setLineWidth=function(e){return Dt=e,X(k(L(e))+" w"),this};m.__private__.setLineDash=ea.API.setLineDash=ea.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return k(L(e))}).join(" "),t=k(L(t)),X("["+e+"] "+t+" d"),this};var Bt=m.__private__.getLineHeight=m.getLineHeight=function(){return te*It};m.__private__.getLineHeight=m.getLineHeight=function(){return te*It};var Ut=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(It=e),this},qt=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return It};Ut(e.lineHeight);var Ht=m.__private__.getHorizontalCoordinate=function(e){return L(e)},Wt=m.__private__.getVerticalCoordinate=function(e){return v===y?e:Se[M].mediaBox.topRightY-Se[M].mediaBox.bottomLeftY-L(e)},Vt=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(e){return k(Ht(e))},Gt=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(e){return k(Wt(e))},Yt=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return qe(Yt)},m.__private__.setStrokeColor=m.setDrawColor=function(e,t,n,r){return Yt=He({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),X(Yt),this};var Jt=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return qe(Jt)},m.__private__.setFillColor=m.setFillColor=function(e,t,n,r){return Jt=He({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),X(Jt),this};var Kt=e.textColor||"0 g",$t=m.__private__.getTextColor=m.getTextColor=function(){return qe(Kt)};m.__private__.setTextColor=m.setTextColor=function(e,t,n,r){return Kt=He({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Xt=e.charSpace,Qt=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Xt||0)};m.__private__.setCharSpace=m.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xt=e,this};var Zt=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(e){var t=m.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,X(t+" J"),this};var en=0;m.__private__.setLineJoin=m.setLineJoin=function(e){var t=m.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return en=t,X(t+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(k(L(e))+" M"),this},m.GState=$r,m.setGState=function(e){(e="string"==typeof e?we[Ne[e]]:tn(null,e)).equals(je)||(X("/"+e.id+" gs"),je=e)};var tn=function(e,t){if(!e||!Ne[e]){var n=!1;for(var r in we)if(we.hasOwnProperty(r)&&we[r].equals(t)){n=!0;break}if(n)t=we[r];else{var a="GS"+(Object.keys(we).length+1).toString(10);we[a]=t,t.id=a}return e&&(Ne[e]=t.id),_e.publish("addGState",t),t}};m.addGState=function(e,t){return tn(e,t),this},m.saveGraphicsState=function(){return X("q"),be.push({key:ue,size:te,color:Kt}),this},m.restoreGraphicsState=function(){X("Q");var e=be.pop();return ue=e.key,te=e.size,Kt=e.color,je=null,this},m.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},m.comment=function(e){return X("#"+e),this};var nn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return a},set:function(e){a=e.toString()}}),this},rn=function(e,t,n,r){nn.call(this,e,t),this.type="rect";var a=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var s=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}}),this},an=function(){this.page=ke,this.currentPage=M,this.pages=Y.slice(0),this.pagesContext=Se.slice(0),this.x=me,this.y=fe,this.matrix=pe,this.width=ln(M),this.height=dn(M),this.outputDestination=K,this.id="",this.objectNumber=-1};an.prototype.restore=function(){ke=this.page,M=this.currentPage,Se=this.pagesContext,Y=this.pages,me=this.x,fe=this.y,pe=this.matrix,cn(M,this.width),un(M,this.height),K=this.outputDestination};var sn=function(e,t,n,r,a){Pe.push(new an),ke=M=0,Y=[],me=e,fe=t,pe=a,at([n,r])};for(var on in m.beginFormObject=function(e,t,n,r,a){return sn(e,t,n,r,a),this},m.endFormObject=function(e){return function(e){if(Le[e])Pe.pop().restore();else{var t=new an,n="Xo"+(Object.keys(Ce).length+1).toString(10);t.id=n,Le[e]=n,Ce[n]=t,_e.publish("addFormObject",t),Pe.pop().restore()}}(e),this},m.doFormObject=function(e,t){var n=Ce[Le[e]];return X("q"),X(t.toString()+" cm"),X("/"+n.id+" Do"),X("Q"),this},m.getFormObject=function(e){var t=Ce[Le[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},m.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Lr(xt(pt()),e),"function"==typeof Lr.unload&&wr.setTimeout&&setTimeout(Lr.unload,911),this):new Promise(function(t,n){try{var r=Lr(xt(pt()),e);"function"==typeof Lr.unload&&wr.setTimeout&&setTimeout(Lr.unload,911),t(r)}catch(e){n(e.message)}})},ea.API)ea.API.hasOwnProperty(on)&&("events"===on&&ea.API.events.length?function(e,t){var n,r,a;for(a=t.length-1;-1!==a;a--)n=t[a][0],r=t[a][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(_e,ea.API.events):m[on]=ea.API[on]);var ln=m.getPageWidth=function(e){return(Se[e=e||M].mediaBox.topRightX-Se[e].mediaBox.bottomLeftX)/he},cn=m.setPageWidth=function(e,t){Se[e].mediaBox.topRightX=t*he+Se[e].mediaBox.bottomLeftX},dn=m.getPageHeight=function(e){return(Se[e=e||M].mediaBox.topRightY-Se[e].mediaBox.bottomLeftY)/he},un=m.setPageHeight=function(e,t){Se[e].mediaBox.topRightY=t*he+Se[e].mediaBox.bottomLeftY};return m.internal={pdfEscape:rt,getStyle:St,getFont:Ot,getFontSize:re,getCharSpace:Qt,getTextColor:$t,getLineHeight:Bt,getLineHeightFactor:qt,getLineWidth:zt,write:Q,getHorizontalCoordinate:Ht,getVerticalCoordinate:Wt,getCoordinateString:Vt,getVerticalCoordinateString:Gt,collections:{},newObject:Ie,newAdditionalObject:Me,newObjectDeferred:De,newObjectDeferredBegin:ze,getFilters:We,putStream:Ve,events:_e,scaleFactor:he,pageSize:{getWidth:function(){return ln(M)},setWidth:function(e){cn(M,e)},getHeight:function(){return dn(M)},setHeight:function(e){un(M,e)}},encryptionOptions:d,encryption:yt,getEncryptor:function(e){return null!==d?yt.encryptor(e,0):function(e){return e}},output:gt,getNumberOfPages:lt,pages:Y,out:X,f2:A,f3:C,getPageInfo:vt,getPageInfoByObjId:wt,getCurrentPageInfo:Nt,getPDFVersion:p,Point:nn,Rectangle:rn,Matrix:Ee,hasHotfix:bt},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return ln(M)},set:function(e){cn(M,e)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return dn(M)},set:function(e){un(M,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=nt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(h[r]=!0);var a=e[t][0].split("-");tt({id:r,fontName:a[0],fontStyle:a[1]||""})}_e.publish("addFonts",{fonts:xe,dictionary:ge})}.call(m,ee),ue="F1",st(a,n),_e.publish("initialized"),m}Yr.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Yr.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yr.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Yr.prototype.processOwnerPassword=function(e,t){return Vr(qr(t).substr(0,5),e)},Yr.prototype.encryptor=function(e,t){var n=qr(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Vr(n,e)}},$r.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,kn.A)(e)!==(0,kn.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},ea.API={events:[]},ea.version="2.5.2";var ta=ea.API,na=1,ra=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},aa=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},sa=function(e){return e.toFixed(2)},ia=function(e){return e.toFixed(5)};ta.__acroform__={};var oa=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},la=function(e){return e*na},ca=function(e){var t=new _a,n=Ba.internal.getHeight(e)||0,r=Ba.internal.getWidth(e)||0;return t.BBox=[0,0,Number(sa(r)),Number(sa(n))],t},da=ta.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},ua=ta.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},ha=ta.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},ma=ta.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ha(e,t-1)},fa=ta.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return da(e,t-1)},pa=ta.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ua(e,t-1)},xa=ta.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=e[0],s=e[1],i=e[2],o=e[3],l={};return l.lowerLeft_X=n(a)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(a+i)||0,l.upperRight_Y=r(s)||0,[Number(sa(l.lowerLeft_X)),Number(sa(l.lowerLeft_Y)),Number(sa(l.upperRight_X)),Number(sa(l.upperRight_Y))]},ga=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=ba(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+sa(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ca(e);return s.scope=e.scope,s.stream=t.join("\n"),s}},ba=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},a=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(e){return e.split("\n")}):a.map(function(e){return[e]});var s=n,i=Ba.internal.getHeight(e)||0;i=i<0?-i:i;var o=Ba.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,n,r){if(t+1<a.length){var s=n+" "+a[t+1][0];return ya(s,e,r).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var c,d,u=ya("3",e,s).height,h=e.multiline?i-s:(i-u)/2,m=h+=2,f=0,p=0,x=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+ya(t,e,s=12).width+", FieldWidth:"+o+"\n";break}for(var g="",b=0,y=0;y<a.length;y++)if(a.hasOwnProperty(y)){var v=!1;if(1!==a[y].length&&x!==a[y].length-1){if((u+2)*(b+2)+2>i)continue e;g+=a[y][x],v=!0,p=y,y--}else{g=" "==(g+=a[y][x]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var w=parseInt(y),N=l(w,g,s),j=y>=a.length-1;if(N&&!j){g+=" ",x=0;continue}if(N||j){if(j)p=w;else if(e.multiline&&(u+2)*(b+2)+2>i)continue e}else{if(!e.multiline)continue e;if((u+2)*(b+2)+2>i)continue e;p=w}}for(var k="",S=f;S<=p;S++){var _=a[S];if(e.multiline){if(S===p){k+=_[x]+" ",x=(x+1)%_.length;continue}if(S===f){k+=_[_.length-1]+" ";continue}}k+=_[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,d=ya(k,e,s).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=sa(c)+" "+sa(m)+" Td\n",t+="("+ra(k)+") Tj\n",t+=-sa(c)+" 0 Td\n",m=-(s+2),d=0,f=v?p:p+1,b++,g=""}break}return r.text=t,r.fontSize=s,r},ya=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},va={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},wa=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Na=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Ca.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(va)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");na=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Aa,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&wa(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var a=e[r],s=[],i=a.Rect;if(a.Rect&&(a.Rect=xa(a.Rect,t)),t.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ba.createDefaultAppearanceStream(a),"object"===(0,kn.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(s=a.getKeyValueListForStream()),a.Rect=i,a.hasAppearanceStream&&!a.appearanceStreamContent){var o=ga(a);s.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(a.appearanceStreamContent){var l="";for(var c in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(c)){var d=a.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var r in d)if(d.hasOwnProperty(r)){var u=d[r];"function"==typeof u&&(u=u.call(t,a)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=d)&&(u=u.call(t,a)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}s.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:s,objectId:a.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),"object"===(0,kn.A)(a)&&"function"==typeof a.putStream&&a.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},ja=ta.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(0!==s&&(a+=" "),(0,kn.A)(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":"/"!==e[s].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),a+="("+ra(r(e[s].toString()))+")"):a+=e[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ka=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+ra(r(e))+")"},Sa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Sa.prototype.toString=function(){return this.objId+" 0 R"},Sa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Sa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],a=this[r];a&&(Array.isArray(a)?e.push({key:r,value:ja(a,this.objId,this.scope)}):a instanceof Sa?(a.scope=this.scope,e.push({key:r,value:a.objId+" 0 R"})):"function"!=typeof a&&e.push({key:r,value:a}))}return e};var _a=function(){Sa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};oa(_a,Sa);var Aa=function(){Sa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ra(t(e))+")"}},set:function(t){e=t}})};oa(Aa,Sa);var Ca=function e(){Sa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(t,3))},set:function(e){!0===Boolean(e)?this.F=fa(t,3):this.F=pa(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ia)return;s="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ra(t(s))+")"},set:function(e){s=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(e){s=e}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/na:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Ia||this instanceof za))return ka(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ra==0?ka(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Ra==0?"("===e.substr(0,1)?aa(e.substr(1,e.length-2)):aa(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ra==1?aa(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Ra==1?"/"+e:e}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ra==0?ka(m,this.objId,this.scope):m},set:function(e){e=e.toString(),m=this instanceof Ra==0?"("===e.substr(0,1)?aa(e.substr(1,e.length-2)):aa(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ra==1?aa(m.substr(1,m.length-1)):m},set:function(e){e=e.toString(),m=this instanceof Ra==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(e){e=Boolean(e),p=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,1):this.Ff=pa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,2):this.Ff=pa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,3):this.Ff=pa(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==x)return x},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');x=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(x){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};oa(Ca,Sa);var La=function(){Ca.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ja(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,a=[];r=t.exec(e);)a.push(r[n]);return a}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,18):this.Ff=pa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=fa(this.Ff,19):this.Ff=pa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=fa(this.Ff,20),t.sort()):this.Ff=pa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,22):this.Ff=pa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,23):this.Ff=pa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,27):this.Ff=pa(this.Ff,27)}}),this.hasAppearanceStream=!1};oa(La,Ca);var Pa=function(){La.call(this),this.fontName="helvetica",this.combo=!1};oa(Pa,La);var Ea=function(){Pa.call(this),this.combo=!0};oa(Ea,Pa);var Fa=function(){Ea.call(this),this.edit=!0};oa(Fa,Ea);var Ra=function(){Ca.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,15):this.Ff=pa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,16):this.Ff=pa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,17):this.Ff=pa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,26):this.Ff=pa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+ra(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,kn.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};oa(Ra,Ca);var Ta=function(){Ra.call(this),this.pushButton=!0};oa(Ta,Ra);var Oa=function(){Ra.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};oa(Oa,Ra);var Ia=function(){var e,t;Ca.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+ra(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,kn.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ba.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};oa(Ia,Ca),Oa.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Oa.prototype.createOption=function(e){var t=new Ia;return t.Parent=this,t.optionName=e,this.Kids.push(t),Ua.call(this.scope,t),t};var Da=function(){Ra.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ba.CheckBox.createAppearanceStream()};oa(Da,Ra);var za=function(){Ca.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,13):this.Ff=pa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,21):this.Ff=pa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,23):this.Ff=pa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,24):this.Ff=pa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,25):this.Ff=pa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,26):this.Ff=pa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};oa(za,Ca);var Ma=function(){za.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(ma(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=fa(this.Ff,14):this.Ff=pa(this.Ff,14)}}),this.password=!0};oa(Ma,za);var Ba={CheckBox:{createAppearanceStream:function(){return{N:{On:Ba.CheckBox.YesNormal},D:{On:Ba.CheckBox.YesPushDown,Off:Ba.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ca(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=ba(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+sa(Ba.internal.getWidth(e))+" "+sa(Ba.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+sa(s.fontSize)+" Tf "+a),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=ca(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=[],s=Ba.internal.getHeight(e),i=Ba.internal.getWidth(e),o=ba(e,e.caption);return a.push("1 g"),a.push("0 0 "+sa(i)+" "+sa(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+sa(i-1)+" "+sa(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+sa(o.fontSize)+" Tf "+r),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join("\n"),t},OffPushDown:function(e){var t=ca(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+sa(Ba.internal.getWidth(e))+" "+sa(Ba.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ba.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ba.RadioButton.Circle.YesNormal,t.D[e]=Ba.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ca(e);t.scope=e.scope;var n=[],r=Ba.internal.getWidth(e)<=Ba.internal.getHeight(e)?Ba.internal.getWidth(e)/4:Ba.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Ba.internal.Bezier_C,s=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ia(Ba.internal.getWidth(e)/2)+" "+ia(Ba.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=ca(e);t.scope=e.scope;var n=[],r=Ba.internal.getWidth(e)<=Ba.internal.getHeight(e)?Ba.internal.getWidth(e)/4:Ba.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*Ba.internal.Bezier_C).toFixed(5)),i=Number((r*Ba.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ia(Ba.internal.getWidth(e)/2)+" "+ia(Ba.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ia(Ba.internal.getWidth(e)/2)+" "+ia(Ba.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=ca(e);t.scope=e.scope;var n=[],r=Ba.internal.getWidth(e)<=Ba.internal.getHeight(e)?Ba.internal.getWidth(e)/4:Ba.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*Ba.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ia(Ba.internal.getWidth(e)/2)+" "+ia(Ba.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ba.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ba.RadioButton.Cross.YesNormal,t.D[e]=Ba.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ca(e);t.scope=e.scope;var n=[],r=Ba.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+sa(Ba.internal.getWidth(e)-2)+" "+sa(Ba.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(sa(r.x1.x)+" "+sa(r.x1.y)+" m"),n.push(sa(r.x2.x)+" "+sa(r.x2.y)+" l"),n.push(sa(r.x4.x)+" "+sa(r.x4.y)+" m"),n.push(sa(r.x3.x)+" "+sa(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=ca(e);t.scope=e.scope;var n=Ba.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+sa(Ba.internal.getWidth(e))+" "+sa(Ba.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+sa(Ba.internal.getWidth(e)-2)+" "+sa(Ba.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(sa(n.x1.x)+" "+sa(n.x1.y)+" m"),r.push(sa(n.x2.x)+" "+sa(n.x2.y)+" l"),r.push(sa(n.x4.x)+" "+sa(n.x4.y)+" m"),r.push(sa(n.x3.x)+" "+sa(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=ca(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+sa(Ba.internal.getWidth(e))+" "+sa(Ba.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ba.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ba.internal.getWidth(e),n=Ba.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ba.internal.getWidth=function(e){var t=0;return"object"===(0,kn.A)(e)&&(t=la(e.Rect[2])),t},Ba.internal.getHeight=function(e){var t=0;return"object"===(0,kn.A)(e)&&(t=la(e.Rect[3])),t};var Ua=ta.addField=function(e){if(Na(this,e),!(e instanceof Ca))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ta.AcroFormChoiceField=La,ta.AcroFormListBox=Pa,ta.AcroFormComboBox=Ea,ta.AcroFormEditBox=Fa,ta.AcroFormButton=Ra,ta.AcroFormPushButton=Ta,ta.AcroFormRadioButton=Oa,ta.AcroFormCheckBox=Da,ta.AcroFormTextField=za,ta.AcroFormPasswordField=Ma,ta.AcroFormAppearance=Ba,ta.AcroForm={ChoiceField:La,ListBox:Pa,ComboBox:Ea,EditBox:Fa,Button:Ra,PushButton:Ta,RadioButton:Oa,CheckBox:Da,TextField:za,PasswordField:Ma,Appearance:Ba},ea.AcroForm={ChoiceField:La,ListBox:Pa,ComboBox:Ea,EditBox:Fa,Button:Ra,PushButton:Ta,RadioButton:Oa,CheckBox:Da,TextField:za,PasswordField:Ma,Appearance:Ba};ea.AcroForm;function qa(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(e,r){var a,s,i,o,l,c=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(N(e))for(l in n)for(i=n[l],a=0;a<i.length;a+=1){for(o=!0,s=0;s<i[a].length;s+=1)if(void 0!==i[a][s]&&i[a][s]!==e[s]){o=!1;break}if(!0===o){c=l;break}}else for(l in n)for(i=n[l],a=0;a<i.length;a+=1){for(o=!0,s=0;s<i[a].length;s+=1)if(void 0!==i[a][s]&&i[a][s]!==e.charCodeAt(s)){o=!1;break}if(!0===o){c=l;break}}return c===t&&r!==t&&(c=r),c},a=function e(t){for(var n=this.internal.write,r=this.internal.putStream,a=(0,this.internal.getFilters)();-1!==a.indexOf("FlateEncode");)a.splice(a.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.width}),s.push({key:"Height",value:t.height}),t.colorSpace===x.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===x.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var i="",o=0,l=t.transparency.length;o<l;o++)i+=t.transparency[o]+" "+t.transparency[o]+" ";s.push({key:"Mask",value:"["+i+"]"})}void 0!==t.sMask&&s.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var d="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:d,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===x.INDEXED){var h=this.internal.newObject();r({data:k(new Uint8Array(t.palette)),objectId:h}),n("endobj")}},s=function(){var e=this.internal.collections.addImage_images;for(var t in e)a.call(this,e[t])},i=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",i))},l=function(){var e=this.internal.collections.addImage_images;return o.call(this),e},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(t){return"function"==typeof e["process"+t.toUpperCase()]},u=function(e){return"object"===(0,kn.A)(e)&&1===e.nodeType},h=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return Ar(unescape(r).split("base64,").pop());var a=e.loadFile(r,!0);if(void 0!==a)return a}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;default:s="image/jpeg"}return Ar(t.toDataURL(s,1).split("base64,").pop())}},m=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},f=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},p=function(e,t,n,r,a,s){var i=f.call(this,n,r,a),o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=l.call(this);if(n=i[0],r=i[1],d[a.index]=a,s){s*=Math.PI/180;var u=Math.cos(s),h=Math.sin(s),m=function(e){return e.toFixed(4)},p=[m(u),m(h),m(-1*h),m(u),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,o(e),c(t+r),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(e),c(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+a.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(N(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},y=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},v=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:t[1]})}return n},w=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return w()&&e instanceof ArrayBuffer};var N=e.__addimage__.isArrayBufferView=function(e){return w()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},j=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},k=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=N(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,r,a,s,i,l,c,d;if("number"==typeof arguments[1]?(n=t,r=arguments[1],a=arguments[2],s=arguments[3],i=arguments[4],l=arguments[5],c=arguments[6],d=arguments[7]):(n=arguments[1],r=arguments[2],a=arguments[3],s=arguments[4],i=arguments[5],l=arguments[6],c=arguments[7],d=arguments[8]),"object"===(0,kn.A)(e=arguments[0])&&!u(e)&&"imageData"in e){var h=e;e=h.imageData,n=h.format||n||t,r=h.x||r||0,a=h.y||a||0,s=h.w||h.width||s,i=h.h||h.height||i,l=h.alias||l,c=h.compression||c,d=h.rotation||h.angle||d}var m=this.internal.getFilters();if(void 0===c&&-1!==m.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(a))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var f=S.call(this,e,n,l,c);return p.call(this,r,a,s,i,f,d),this};var S=function(n,a,s,i){var o,l,f;if("string"==typeof n&&r(n)===t){n=unescape(n);var p=_(n,!1);(""!==p||void 0!==(p=e.loadFile(n,!0)))&&(n=p)}if(u(n)&&(n=h(n,a)),a=r(n,a),!d(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if((null==(f=s)||0===f.length)&&(s=function(e){return"string"==typeof e||N(e)?b(e):N(e.data)?b(e.data):null}(n)),(o=m.call(this,s))||(w()&&(n instanceof Uint8Array||"RGBA"===a||(l=n,n=j(n))),o=this["process"+a.toUpperCase()](n,c.call(this),s,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:g.NONE}(i),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},_=e.__addimage__.convertBase64ToBinaryString=function(e,t){var n;t="boolean"!=typeof t||t;var r,a="";if("string"==typeof e){r=null!==(n=v(e))?n.data:e;try{a=Ar(r)}catch(e){if(t)throw y(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return a};e.getImageProperties=function(n){var a,s,i="";if(u(n)&&(n=h(n)),"string"==typeof n&&r(n)===t&&(""===(i=_(n,!1))&&(i=e.loadFile(n)||""),n=i),s=r(n),!d(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(!w()||n instanceof Uint8Array||(n=j(n)),!(a=this["process"+s.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return a.fileType=s,a}}(ea.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};ea.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,a,s=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var h=this.internal.pdfEscape,m=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(f.objId),g=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(n.bounds.x)+" "+i(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+i(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",a+=" /Popup "+p.objId+" 0 R",a+=" /P "+o.objId+" 0 R",a+=" /T ("+h(x(g))+") >>",f.content=a;var b=f.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(n.bounds.x+30)+" "+i(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+i(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(a+=" /Open true"),a+=" >>",p.content=a,this.internal.write(f.objId,"0 R",p.objId,"0 R");break;case"freetext":r="/Rect ["+s(n.bounds.x)+" "+i(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+i(n.bounds.y+n.bounds.h)+"] ";var y=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(m(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var v=this.annotations._nameMap[n.options.name];n.options.pageNumber=v.page,n.options.top=v.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var w=i(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=a&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,a){var s=this.internal.getCurrentPageInfo(),i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:i(e),y:o(t),w:i(e+n),h:o(t+r)},options:a,type:"link"})},e.textWithLink=function(e,t,n,r){var a,s,i=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){s=r.maxWidth;var l=this.splitTextToSize(e,s).length;a=Math.ceil(o*l)}else s=i,a=o;return this.text(e,t,n,r),n+=.2*o,"center"===r.align&&(t-=i/2),"right"===r.align&&(t-=i),this.link(t,n-o,s,a,r),i},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(ea.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},i=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return i(e)&&a.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return i(e)&&s(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return i(e)&&s(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,a="",s=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(s++,"number"==typeof(r=r[e.charCodeAt(t)])&&(a+=String.fromCharCode(r),r=n,s=0),t===e.length-1&&(r=n,a+=e.charAt(t-(s-1)),t-=s-1,s=0)):(r=n,a+=e.charAt(t-s),t-=s,s=0);return a};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return i(e)?!1===s(e)?-1:!c(e)||!i(t)&&!i(n)||!i(n)&&o(t)||o(e)&&!i(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&i(t)&&!o(t)&&i(n)&&c(n)?3:o(e)||!i(n)?1:2:-1},m=function(e){var n=0,r=0,a=0,s="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(n=0;n<c.length;n+=1){for(d.push(""),r=0;r<c[n].length;r+=1)s=c[n][r],o=c[n][r-1],l=c[n][r+1],i(s)?(a=h(s,o,l),d[n]+=-1!==a?String.fromCharCode(t[s.charCodeAt(0)][a]):s):d[n]+=s;d[n]=u(d[n])}return d.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([m(t[r][0]),t[r][1],t[r][2]]):n.push([m(t[r])]);e=n}else e=m(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(ea.API),ea.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")});return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ea.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var a=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var i=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return i},set:function(e){i=e}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),a=t.font||this.getFont(),s=t.scaleFactor||this.internal.scaleFactor,i=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)i<(l=this.getStringUnitWidth(e[u],{font:a})*n)&&(i=l);return 0!==i&&(o=e.length),{w:i/=s,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var e;e=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var a=this.internal.__cell__.lastCell,i=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==a.lineNumber&&(a.lineNumber===e.lineNumber?(e.x=(a.x||0)+(a.width||0),e.y=a.y||0):a.y+a.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=a.y+a.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-i,e.y+i,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+i,{align:"center",baseline:"top",maxWidth:e.width-i-i}):this.text(e.text,e.x+i,e.y+i,{align:"left",baseline:"top",maxWidth:e.width-i-i})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,d){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,h,m,f,p=[],x=[],g=[],b={},y={},v=[],w=[],N=(d=d||{}).autoSize||!1,j=!1!==d.printHeaders,k=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,S=d.margins||Object.assign({width:this.getPageWidth()},t),_="number"==typeof d.padding?d.padding:3,A=d.headerBackgroundColor||"#c8c8c8",C=d.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=C,this.setFontSize(k),null==c)x=p=Object.keys(l[0]),g=p.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,kn.A)(c[0]))for(p=c.map(function(e){return e.name}),x=c.map(function(e){return e.prompt||e.name||""}),g=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)y[c[u].name]=c[u].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(x=p=c,g=p.map(function(){return"left"}));if(N||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<p.length;u+=1){for(b[f=p[u]]=l.map(function(e){return e[f]}),this.setFont(void 0,"bold"),v.push(this.getTextDimensions(x[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=b[f],this.setFont(void 0,"normal"),m=0;m<h.length;m+=1)v.push(this.getTextDimensions(h[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[f]=Math.max.apply(null,v)+_+_,v=[]}if(j){var L={};for(u=0;u<p.length;u+=1)L[p[u]]={},L[p[u]].text=x[u],L[p[u]].align=g[u];var P=o.call(this,L,y);w=p.map(function(t){return new s(e,n,y[t],P,L[t].text,void 0,L[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var E=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:u,data:l[u]},this);var F=o.call(this,l[u],y);for(m=0;m<p.length;m+=1){var R=l[u][p[m]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:u,col:m,data:R},this),i.call(this,new s(e,n,y[p[m]],F,R,u+2,E[p[m]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var o=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,a=this.internal.scaleFactor;return Object.keys(e).map(function(r){var a=e[r];return this.splitTextToSize(a.hasOwnProperty("text")?a.text:a,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/a+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var a;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){a=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(a.y=this.internal.__cell__.margins.top||0,l.push(a)),a.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,a),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(ea.API);var Ha={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Wa=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Va=qa(Wa),Ga=[100,200,300,400,500,600,700,800,900],Ya=qa(Ga);function Ja(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return Ha[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),a=function(e){return"number"==typeof Va[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,r].join(" ")}}}function Ka(e,t,n,r){var a;for(a=n;a>=0&&a<t.length;a+=r)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=r)if(e[t[a]])return e[t[a]]}var $a={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Xa={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Qa(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Za(e){return e.trimLeft()}function es(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function ts(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var ns,rs,as,ss,is=["times"];!function(e){var t,n,r,a,s,i,o,l,c,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new i,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new i,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var a=0;Object.defineProperty(this,"posX",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var i=!1;Object.defineProperty(this,"autoPaging",{get:function(){return i},set:function(e){i=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof d&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var m=null;function f(e,t){if(null===m){var n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(e.getFontList());m=function(e){for(var t={},n=0;n<e.length;++n){var r=Ja(e[n]),a=r.family,s=r.stretch,i=r.style,o=r.weight;t[a]=t[a]||{},t[a][s]=t[a][s]||{},t[a][s][i]=t[a][s][i]||{},t[a][s][i][o]=r}return t}(n.concat(t))}return m}var p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(e){m=null,p=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],r=(t[2],t[3]),a=t[4],s=(t[5],t[6]),i=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(a)[2];a="px"===i?Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor):"em"===i?Math.floor(parseFloat(a)*this.pdf.getFontSize()):Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(a);var o=function(e){var t,n,r=[],a=e.trim();if(""===a)return is;if(a in Xa)return[Xa[a]];for(;""!==a;){switch(n=null,t=(a=Za(a)).charAt(0)){case'"':case"'":n=es(a.substring(1),t);break;default:n=ts(a)}if(null===n)return is;if(r.push(n[0]),""!==(a=Za(n[1]))&&","!==a.charAt(0))return is;a=a.replace(/^,/,"")}return r}(s);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},$a,n.genericFontFamilies||{}),s=null,i=null,o=0;o<t.length;++o)if(a[(s=Ja(t[o])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){i=e[s.family];break}if(!(i=i||e[r]))throw new Error("Could not find a font-family for the rule '"+Qa(s)+"' and default family '"+r+"'.");if(i=function(e,t){if(t[e])return t[e];var n=Va[e],r=n<=Va.normal?-1:1,a=Ka(t,Wa,n,r);if(!a)throw new Error("Could not find a matching font-stretch value for "+e);return a}(s.stretch,i),i=function(e,t){if(t[e])return t[e];for(var n=Ha[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(s.style,i),!(i=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Ya[e],r=Ka(t,Ga,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+Qa(s)+"'.");return i}(f(this.pdf,this.fontFaces),o.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var d="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<o.length;h++){if(void 0!==this.pdf.internal.getFont(o[h],c,{noFallback:!0,disableWarning:!0})){d=o[h];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[h],"bold",{noFallback:!0,disableWarning:!0}))d=o[h],c="bold";else if(void 0!==this.pdf.internal.getFont(o[h],"normal",{noFallback:!0,disableWarning:!0})){d=o[h],c="normal";break}}if(""===d)for(var m=0;m<o.length;m++)if(u[o[m]]){d=u[o[m]];break}d=""===d?"Times":d,this.pdf.setFont(d,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,D.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,D.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){v.call(this,"fill",!1)},u.prototype.stroke=function(){v.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw jr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new i(e,t)},u.prototype.closePath=function(){var e=new i(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,kn.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new i(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw jr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new i(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw jr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var a=this.ctx.transform.applyToPoint(new i(n,r)),s=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"qct",x1:s.x,y1:s.y,x:a.x,y:a.y}),this.ctx.lastPoint=new i(a.x,a.y)},u.prototype.bezierCurveTo=function(e,t,n,r,a,s){if(isNaN(a)||isNaN(s)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw jr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new i(a,s)),l=this.ctx.transform.applyToPoint(new i(e,t)),c=this.ctx.transform.applyToPoint(new i(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new i(o.x,o.y)},u.prototype.arc=function(e,t,n,r,a,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a))throw jr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new i(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new i(0,n)),c=this.ctx.transform.applyToPoint(new i(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(a-r)>=2*Math.PI&&(r=0,a=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:a,counterclockwise:s})},u.prototype.arcTo=function(e,t,n,r,a){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw jr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw jr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var a={};"butt"!==this.lineCap&&(a.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(a.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),a.hasOwnProperty("lineCap")&&(this.lineCap=a.lineCap),a.hasOwnProperty("lineJoin")&&(this.lineJoin=a.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw jr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw jr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,r,a;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,a=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==s)t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),a=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),a=parseFloat(s[4]);else{if(a=1,"string"==typeof e&&"#"!==e.charAt(0)){var i=new Pr(e);e=i.ok?i.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:a,style:e}},m=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw jr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!m.call(this)){var a=T(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;C.call(this,{text:e,x:t,y:n,scale:s,angle:a,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw jr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){r=isNaN(r)?void 0:r;var a=T(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;C.call(this,{text:e,x:t,y:n,scale:s,renderingMode:"stroke",angle:a,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw jr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),a=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:a*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw jr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw jr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw jr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,a,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(s))throw jr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var i=new l(e,t,n,r,a,s);this.ctx.transform=this.ctx.transform.multiply(i)},u.prototype.setTransform=function(e,t,n,r,a,s){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,a=isNaN(a)?0:a,s=isNaN(s)?0:s,this.ctx.transform=new l(e,t,n,r,a,s)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,a,s,i,c,d){var u=this.pdf.getImageProperties(e),h=1,m=1,f=1,g=1;void 0!==r&&void 0!==c&&(f=c/r,g=d/a,h=u.width/r*c/r,m=u.height/a*d/a),void 0===s&&(s=t,i=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,d=a),void 0===r&&void 0===c&&(c=u.width,d=u.height);for(var v,N=this.ctx.transform.decompose(),j=T(N.rotate.shx),k=new l,S=(k=(k=(k=k.multiply(N.translate)).multiply(N.skew)).multiply(N.scale)).applyToRectangle(new o(s-t*f,i-n*g,r*h,a*m)),_=x.call(this,S),A=[],C=0;C<_.length;C+=1)-1===A.indexOf(_[C])&&A.push(_[C]);if(y(A),this.autoPaging)for(var L=A[0],P=A[A.length-1],E=L;E<P+1;E++){this.pdf.setPage(E);var F=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],R=1===E?this.posY+this.margin[0]:this.margin[0],O=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],D=1===E?0:O+(E-2)*I;if(0!==this.ctx.clip_path.length){var z=this.path;v=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(v,this.posX+this.margin[3],-D+R+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=z}var M=JSON.parse(JSON.stringify(S));M=b([M],this.posX+this.margin[3],-D+R+this.ctx.prevPageLastElemOffset)[0];var B=(E>L||E<P)&&p.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],F,I,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",M.x,M.y,M.w,M.h,null,null,j),B&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",S.x,S.y,S.w,S.h,null,null,j)};var x=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var a=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+a)/n)+1);break;case"arc":r.push(Math.floor((e.y+a-e.radius)/n)+1),r.push(Math.floor((e.y+a+e.radius)/n)+1);break;case"qct":var s=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((s.y+a)/n)+1),r.push(Math.floor((s.y+s.h+a)/n)+1);break;case"bct":var i=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((i.y+a)/n)+1),r.push(Math.floor((i.y+i.h+a)/n)+1);break;case"rect":r.push(Math.floor((e.y+a)/n)+1),r.push(Math.floor((e.y+e.h+a)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)g.call(this);return r},g=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,a=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=a,this.lineJoin=s},b=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},y=function(e){return e.sort(function(e,t){return e-t})},v=function(e,t){for(var n,r,a=this.fillStyle,s=this.strokeStyle,i=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],m=0;m<u.length;m++)if(void 0!==u[m].x)for(var f=x.call(this,u[m]),v=0;v<f.length;v+=1)-1===h.indexOf(f[v])&&h.push(f[v]);for(var N=0;N<h.length;N++)for(;this.pdf.internal.getNumberOfPages()<h[N];)g.call(this);if(y(h),this.autoPaging)for(var j=h[0],k=h[h.length-1],S=j;S<k+1;S++){this.pdf.setPage(S),this.fillStyle=a,this.strokeStyle=s,this.lineCap=i,this.lineWidth=l,this.lineJoin=c;var _=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],A=1===S?this.posY+this.margin[0]:this.margin[0],C=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],L=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===S?0:C+(S-2)*L;if(0!==this.ctx.clip_path.length){var E=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(n,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=E}if(r=JSON.parse(JSON.stringify(d)),this.path=b(r,this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset),!1===t||0===S){var F=(S>j||S<k)&&p.call(this);F&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_,L,null).clip().discardPath()),w.call(this,e,t),F&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,w.call(this,e,t),this.lineWidth=o;this.path=d},w=function(e,t){if(("stroke"!==e||t||!f.call(this))&&("stroke"===e||t||!m.call(this))){for(var n,r,a=[],s=this.path,i=0;i<s.length;i++){var o=s[i];switch(o.type){case"begin":a.push({begin:!0});break;case"close":a.push({close:!0});break;case"mt":a.push({start:o,deltas:[],abs:[]});break;case"lt":var l=a.length;if(s[i-1]&&!isNaN(s[i-1].x)&&(n=[o.x-s[i-1].x,o.y-s[i-1].y],l>0))for(;l>=0;l--)if(!0!==a[l-1].close&&!0!==a[l-1].begin){a[l-1].deltas.push(n),a[l-1].abs.push(o);break}break;case"bct":n=[o.x1-s[i-1].x,o.y1-s[i-1].y,o.x2-s[i-1].x,o.y2-s[i-1].y,o.x-s[i-1].x,o.y-s[i-1].y],a[a.length-1].deltas.push(n);break;case"qct":var c=s[i-1].x+2/3*(o.x1-s[i-1].x),d=s[i-1].y+2/3*(o.y1-s[i-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),p=o.x,x=o.y;n=[c-s[i-1].x,d-s[i-1].y,u-s[i-1].x,h-s[i-1].y,p-s[i-1].x,x-s[i-1].y],a[a.length-1].deltas.push(n);break;case"arc":a.push({deltas:[],abs:[],arc:!0}),Array.isArray(a[a.length-1].abs)&&a[a.length-1].abs.push(o)}}r=t?null:"stroke"===e?"stroke":"fill";for(var g=!1,b=0;b<a.length;b++)if(a[b].arc)for(var y=a[b].abs,v=0;v<y.length;v++){var w=y[v];"arc"===w.type?k.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!g):L.call(this,w.x,w.y),g=!0}else if(!0===a[b].close)this.pdf.internal.out("h"),g=!1;else if(!0!==a[b].begin){var N=a[b].start.x,j=a[b].start.y;P.call(this,a[b].deltas,N,j),g=!0}r&&S.call(this,r),t&&_.call(this)}},N=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},j=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(e,t,n,r,a,s,i,o,l){for(var c=F.call(this,n,r,a,s),d=0;d<c.length;d++){var u=c[d];0===d&&(l?A.call(this,u.x1+e,u.y1+t):L.call(this,u.x1+e,u.y1+t)),E.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?_.call(this):S.call(this,i)},S=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},_=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},C=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=N.call(this,e.y),a=j.call(this,r)-n.h,s=this.ctx.transform.applyToPoint(new i(e.x,r)),c=this.ctx.transform.decompose(),d=new l;d=(d=(d=d.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var u,h,m,f=this.ctx.transform.applyToRectangle(new o(e.x,r,n.w,n.h)),g=d.applyToRectangle(new o(e.x,a,n.w,n.h)),v=x.call(this,g),k=[],S=0;S<v.length;S+=1)-1===k.indexOf(v[S])&&k.push(v[S]);if(y(k),this.autoPaging)for(var _=k[0],A=k[k.length-1],C=_;C<A+1;C++){this.pdf.setPage(C);var L=1===C?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],E=this.pdf.internal.pageSize.height-this.margin[2],F=E-this.margin[0],R=this.pdf.internal.pageSize.width-this.margin[1],T=R-this.margin[3],O=1===C?0:P+(C-2)*F;if(0!==this.ctx.clip_path.length){var I=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(u,this.posX+this.margin[3],-1*O+L),w.call(this,"fill",!0),this.path=I}var D=b([JSON.parse(JSON.stringify(g))],this.posX+this.margin[3],-O+L+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),m=this.lineWidth,this.lineWidth=m*e.scale);var z="text"!==this.autoPaging;if(z||D.y+D.h<=E){if(z||D.y>=L&&D.x<=R){var M=z?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||R-D.x)[0],B=b([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-O+L+this.ctx.prevPageLastElemOffset)[0],U=z&&(C>_||C<A)&&p.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],T,F,null).clip().discardPath()),this.pdf.text(M,B.x,B.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else D.y<E&&(this.ctx.prevPageLastElemOffset+=E-D.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=m)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),m=this.lineWidth,this.lineWidth=m*e.scale),this.pdf.text(e.text,s.x+this.posX,s.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=m)},L=function(e,t,a,s){a=a||0,s=s||0,this.pdf.internal.out(n(e+a)+" "+r(t+s)+" l")},P=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},E=function(e,n,r,i,o,l,c,d){this.pdf.internal.out([t(a(r+e)),t(s(i+n)),t(a(o+e)),t(s(l+n)),t(a(c+e)),t(s(d+n)),"c"].join(" "))},F=function(e,t,n,r){for(var a=2*Math.PI,s=Math.PI/2;t>n;)t-=a;var i=Math.abs(n-t);i<a&&r&&(i=a-i);for(var o=[],l=r?-1:1,c=t;i>1e-5;){var d=c+l*Math.min(i,s);o.push(R.call(this,e,c,d)),i-=Math.abs(d-c),c=d}return o},R=function(e,t,n){var r=(n-t)/2,a=e*Math.cos(r),s=e*Math.sin(r),i=a,o=-s,l=i*i+o*o,c=l+i*a+o*s,d=4/3*(Math.sqrt(2*l*c)-c)/(i*s-o*a),u=i-d*o,h=o+d*i,m=u,f=-h,p=r+t,x=Math.cos(p),g=Math.sin(p);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*x-h*g,y2:u*g+h*x,x3:m*x-f*g,y3:m*g+f*x,x4:e*Math.cos(n),y4:e*Math.sin(n)}},T=function(e){return 180*e/Math.PI},O=function(e,t,n,r,a,s){var i=e+.5*(n-e),l=t+.5*(r-t),c=a+.5*(n-a),d=s+.5*(r-s),u=Math.min(e,a,i,c),h=Math.max(e,a,i,c),m=Math.min(t,s,l,d),f=Math.max(t,s,l,d);return new o(u,m,h-u,f-m)},I=function(e,t,n,r,a,s,i,l){var c,d,u,h,m,f,p,x,g,b,y,v,w,N,j=n-e,k=r-t,S=a-n,_=s-r,A=i-a,C=l-s;for(d=0;d<41;d++)g=(p=(u=e+(c=d/40)*j)+c*((m=n+c*S)-u))+c*(m+c*(a+c*A-m)-p),b=(x=(h=t+c*k)+c*((f=r+c*_)-h))+c*(f+c*(s+c*C-f)-x),0==d?(y=g,v=b,w=g,N=b):(y=Math.min(y,g),v=Math.min(v,b),w=Math.max(w,g),N=Math.max(N,b));return new o(Math.round(y),Math.round(v),Math.round(w-y),Math.round(N-v))},D=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(ea.API),function(e){var t=function(e){var t,n,r,a,s,i,o,l,c,d;for(/[^\x00-\xFF]/.test(e),n=[],r=0,a=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;a>r;r+=4)0!==(s=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(i=(s=((s=((s=((s=(s-(d=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(o=s%85))/85)%85,n.push(i+33,o+33,l+33,c+33,d+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,a,s,i=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],a=0,s=(e+=t="uuuuu"[d](e[o]%5||5))[o];s>a;a+=5)n=52200625*(e[c](a)-33)+614125*(e[c](a+1)-33)+7225*(e[c](a+2)-33)+85*(e[c](a+3)-33)+(e[c](a+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[o]),i.fromCharCode.apply(i,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},a=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=br(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,s){var i=0,o=e||"",l=[];for("string"==typeof(s=s||[])&&(s=[s]),i=0;i<s.length;i+=1)switch(s[i]){case"ASCII85Decode":case"/ASCII85Decode":o=n(o),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=t(o),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=r(o),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=a(o),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[i]+'" is not implemented')}return{data:o,reverseChain:l.reverse().join(" ")}}}(ea.API),(ss=ea.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,a=0,s=function(e){var t=e.length,n=[],r=String.fromCharCode;for(a=0;a<t;a+=1)n.push(r(255&e.charCodeAt(a)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(s(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return s(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},ss.loadImageFile=ss.loadFile,function(e){function t(){return(wr.html2canvas?Promise.resolve(wr.html2canvas):n.e(239).then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(wr.DOMPurify?Promise.resolve(wr.DOMPurify):n.e(213).then(n.t.bind(n,6213,23))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var a=function(e){var t=(0,kn.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},i=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(e,t){return e.__proto__=t||i.prototype,e},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(a(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then(function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},i.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),a=t.firstChild;a;a=a.nextSibling)!0!==n&&1===a.nodeType&&"SCRIPT"===a.nodeName||r.appendChild(e(a,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,a=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete a.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var i=n[s],o=i.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,i.ref.name,i.ref.style)}return a.windowHeight=a.windowHeight||0,a.windowHeight=0==a.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):a.windowHeight,t.context2d.save(!0),e(this.prop.container,a)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},i.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},i.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},i.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(e){if("object"!==a(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in i.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},i.prototype.get=function(e,t){return this.then(function(){var n=e in i.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},i.prototype.setMargin=function(e){return this.then(function(){switch(a(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},i.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||ea.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},i.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},i.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},i.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:i.convert(Object.assign({},this),Promise.prototype),a=n.call(r,e,t);return i.convert(a,this.__proto__)},i.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},i.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},i.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return i.convert(t,this)},i.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},i.prototype.error=function(e){return this.then(function(){throw new Error(e)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ea.getPageSize=function(e,t,n){if("object"===(0,kn.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var a,s=(""+n).toLowerCase(),i={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+t}var o,l=0,c=0;if(i.hasOwnProperty(s))l=i[s][1]/a,c=i[s][0]/a;else try{l=n[1],c=n[0]}catch(ss){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(o=c,c=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:t,k:a,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Ja):null;var n=new i(t);return t.worker?n:n.from(e).doCallback()}}(ea.API),ea.API.addJS=function(e){return as=e,this.internal.events.subscribe("postPutResources",function(){ns=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ns+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),rs=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+as+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==ns&&void 0!==rs&&this.internal.out("/Names <</JavaScript "+ns+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),a=0;a<r.length;a++){var s=r[a],i=n.exec(s);if(null!=i){var o=i[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var a=t.children[r];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var s=this.count=this.count_r({count:0},a);if(s>0&&this.line("/Count "+s),a.options&&a.options.pageNumber){var i=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+i.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(ea.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,a,s,i){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(o=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),a=e.length,s={width:0,height:0,numcomponents:1},i=4;i<a;i+=2){if(i+=r,-1!==t.indexOf(e.charCodeAt(i+1))){n=256*e.charCodeAt(i+5)+e.charCodeAt(i+6),s={width:256*e.charCodeAt(i+7)+e.charCodeAt(i+8),height:n,numcomponents:e.charCodeAt(i+9)};break}r=256*e.charCodeAt(i+2)+e.charCodeAt(i+3)}return s}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:i=this.color_spaces.DEVICE_GRAY;break;case 4:i=this.color_spaces.DEVICE_CMYK;break;case 3:i=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:i,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(ea.API);var os,ls,cs,ds,us,hs=function(){var e,t,n;function r(e){var t,n,r,a,s,i,o,l,c,d,u,h,m,f;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},i=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":i&&this.animation.frames.push(i),this.pos+=4,i={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},s=this.readUInt16(),a=this.readUInt16()||100,i.delay=1e3*s/a,i.disposeOp=this.data[this.pos++],i.blendOp=this.data[this.pos++],i.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=i?i.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((d=r-this.transparency.indexed.length)>0)for(m=0;0<=d?m<d:m>d;0<=d?++m:--m)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":o=(u=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,u.slice(0,o)),this.text[l]=String.fromCharCode.apply(String,u.slice(o+1));break;case"IEND":return i&&this.animation.frames.push(i),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,a=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function s(s,i,o,l){var c,d,u,h,m,f,p,x,g,b,y,v,w,N,j,k,S,_,A,C,L,P=Math.ceil((a.width-s)/o),E=Math.ceil((a.height-i)/l),F=a.width==P&&a.height==E;for(N=t*P,v=F?n:new Uint8Array(N*E),f=e.length,w=0,d=0;w<E&&r<f;){switch(e[r++]){case 0:for(h=S=0;S<N;h=S+=1)v[d++]=e[r++];break;case 1:for(h=_=0;_<N;h=_+=1)c=e[r++],m=h<t?0:v[d-t],v[d++]=(c+m)%256;break;case 2:for(h=A=0;A<N;h=A+=1)c=e[r++],u=(h-h%t)/t,j=w&&v[(w-1)*N+u*t+h%t],v[d++]=(j+c)%256;break;case 3:for(h=C=0;C<N;h=C+=1)c=e[r++],u=(h-h%t)/t,m=h<t?0:v[d-t],j=w&&v[(w-1)*N+u*t+h%t],v[d++]=(c+Math.floor((m+j)/2))%256;break;case 4:for(h=L=0;L<N;h=L+=1)c=e[r++],u=(h-h%t)/t,m=h<t?0:v[d-t],0===w?j=k=0:(j=v[(w-1)*N+u*t+h%t],k=u&&v[(w-1)*N+(u-1)*t+h%t]),p=m+j-k,x=Math.abs(p-m),b=Math.abs(p-j),y=Math.abs(p-k),g=x<=b&&x<=y?m:b<=y?j:k,v[d++]=(c+g)%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!F){var R=((i+w*l)*a.width+s)*t,T=w*N;for(h=0;h<P;h+=1){for(var O=0;O<t;O+=1)n[R++]=v[T++];R+=(o-1)*t}}w++}}return e=yr(e),1==a.interlaceMethod?(s(0,0,8,8),s(4,0,8,8),s(0,4,4,8),s(2,0,4,4),s(0,2,2,4),s(1,0,2,2),s(0,1,1,2)):s(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,a,s,i,o,l;for(n=this.palette,s=this.transparency.indexed||[],a=new Uint8Array((s.length||0)+n.length),r=0,e=0,t=i=0,o=n.length;i<o;t=i+=3)a[r++]=n[t],a[r++]=n[t+1],a[r++]=n[t+2],a[r++]=null!=(l=s[e++])?l:255;return a},r.prototype.copyToImageData=function(e,t){var n,r,a,s,i,o,l,c,d,u,h;if(r=this.colors,d=null,n=this.hasAlphaChannel,this.palette.length&&(d=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(a=e.data||e).length,i=d||t,s=o=0,1===r)for(;s<c;)l=d?4*t[s/4]:o,u=i[l++],a[s++]=u,a[s++]=u,a[s++]=u,a[s++]=n?i[l++]:255,o=l;else for(;s<c;)l=d?4*t[s/4]:o,a[s++]=i[l++],a[s++]=i[l++],a[s++]=i[l++],a[s++]=n?i[l++]:255,o=l},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var a=function(){if("[object Window]"===Object.prototype.toString.call(wr)){try{t=wr.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return a(),e=function(e){var r;if(!0===a())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,a,s,i,o,l,c;if(this.animation){for(c=[],r=i=0,o=(l=this.animation.frames).length;i<o;r=++i)n=l[r],a=t.createImageData(n.width,n.height),s=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(a,s),n.imageData=a,c.push(n.image=e(a));return c}},r.prototype.renderFrame=function(e,t){var n,r,a;return n=(r=this.animation.frames)[t],a=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=a?a.disposeOp:void 0)?e.clearRect(a.xOffset,a.yOffset,a.width,a.height):2===(null!=a?a.disposeOp:void 0)&&e.putImageData(a.imageData,a.xOffset,a.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,a,s,i,o=this;return n=0,i=this.animation,a=i.numFrames,r=i.frames,s=i.numPlays,(t=function(){var i,l;if(i=n++%a,l=r[i],o.renderFrame(e,i),a>1&&n/a<s)return o.animation._timeout=setTimeout(t,l.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();function ms(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,i=1<<1+(7&a);e[t++],e[t++];var o=null,l=null;s&&(o=t,l=i,t+=3*i);var c=!0,d=[],u=0,h=null,m=0,f=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var p=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],0==(1&p)&&(h=null),m=p>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++],w=v>>6&1,N=1<<1+(7&v),j=o,k=l,S=!1;v>>7&&(S=!0,j=t,k=N,t+=3*N);var _=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}d.push({x:x,y:g,width:b,height:y,has_local_palette:S,palette_offset:j,palette_size:k,data_offset:_,data_length:t-_,transparent_index:h,interlaced:!!w,delay:u,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,r){var a=this.frameInfo(t),s=a.width*a.height,i=new Uint8Array(s);fs(e,a.data_offset,i,s);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,u=c,h=4*(a.y*n+a.x),m=4*((a.y+a.height)*n+a.x),f=h,p=4*d;!0===a.interlaced&&(p+=4*n*7);for(var x=8,g=0,b=i.length;g<b;++g){var y=i[g];if(0===u&&(u=c,(f+=p)>=m&&(p=4*d+4*n*(x-1),f=h+(c+d)*(x<<1),x>>=1)),y===l)f+=4;else{var v=e[o+3*y],w=e[o+3*y+1],N=e[o+3*y+2];r[f++]=N,r[f++]=w,r[f++]=v,r[f++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var a=this.frameInfo(t),s=a.width*a.height,i=new Uint8Array(s);fs(e,a.data_offset,i,s);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,u=c,h=4*(a.y*n+a.x),m=4*((a.y+a.height)*n+a.x),f=h,p=4*d;!0===a.interlaced&&(p+=4*n*7);for(var x=8,g=0,b=i.length;g<b;++g){var y=i[g];if(0===u&&(u=c,(f+=p)>=m&&(p=4*d+4*n*(x-1),f=h+(c+d)*(x<<1),x>>=1)),y===l)f+=4;else{var v=e[o+3*y],w=e[o+3*y+1],N=e[o+3*y+2];r[f++]=v,r[f++]=w,r[f++]=N,r[f++]=255}--u}}}function fs(e,t,n,r){for(var a=e[t++],s=1<<a,i=s+1,o=i+1,l=a+1,c=(1<<l)-1,d=0,u=0,h=0,m=e[t++],f=new Int32Array(4096),p=null;;){for(;d<16&&0!==m;)u|=e[t++]<<d,d+=8,1===m?m=e[t++]:--m;if(d<l)break;var x=u&c;if(u>>=l,d-=l,x!==s){if(x===i)break;for(var g=x<o?x:p,b=0,y=g;y>s;)y=f[y]>>8,++b;var v=y;if(h+b+(g!==x?1:0)>r)return void jr.log("Warning, gif stream longer than expected.");n[h++]=v;var w=h+=b;for(g!==x&&(n[h++]=v),y=g;b--;)y=f[y],n[--w]=255&y,y>>=8;null!==p&&o<4096&&(f[o++]=p<<8|v,o>=c+1&&l<12&&(++l,c=c<<1|1)),p=x}else o=i+1,c=(1<<(l=a+1))-1,p=null}return h!==r&&jr.log("Warning, gif stream shorter than expected."),n}function ps(e){var t,n,r,a,s,i=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),m=new Array(64),f=new Array(64),p=[],x=0,g=7,b=new Array(64),y=new Array(64),v=new Array(64),w=new Array(256),N=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],E=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(e,t){for(var n=0,r=0,a=new Array,s=1;s<=16;s++){for(var i=1;i<=e[s];i++)a[t[r]]=[],a[t[r]][0]=n,a[t[r]][1]=s,r++,n++;n*=2}return a}function R(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(x|=1<<g),n--,--g<0&&(255==x?(T(255),T(0)):T(x),g=7,x=0)}function T(e){p.push(e)}function O(e){T(e>>8&255),T(255&e)}function I(e,t,n,r,a){for(var s,i=a[0],o=a[240],l=function(e,t){var n,r,a,s,i,o,l,c,d,u,h=0;for(d=0;d<8;++d){n=e[h],r=e[h+1],a=e[h+2],s=e[h+3],i=e[h+4],o=e[h+5],l=e[h+6];var f=n+(c=e[h+7]),p=n-c,x=r+l,g=r-l,b=a+o,y=a-o,v=s+i,w=s-i,N=f+v,j=f-v,k=x+b,S=x-b;e[h]=N+k,e[h+4]=N-k;var _=.707106781*(S+j);e[h+2]=j+_,e[h+6]=j-_;var A=.382683433*((N=w+y)-(S=g+p)),C=.5411961*N+A,L=1.306562965*S+A,P=.707106781*(k=y+g),E=p+P,F=p-P;e[h+5]=F+C,e[h+3]=F-C,e[h+1]=E+L,e[h+7]=E-L,h+=8}for(h=0,d=0;d<8;++d){n=e[h],r=e[h+8],a=e[h+16],s=e[h+24],i=e[h+32],o=e[h+40],l=e[h+48];var R=n+(c=e[h+56]),T=n-c,O=r+l,I=r-l,D=a+o,z=a-o,M=s+i,B=s-i,U=R+M,q=R-M,H=O+D,W=O-D;e[h]=U+H,e[h+32]=U-H;var V=.707106781*(W+q);e[h+16]=q+V,e[h+48]=q-V;var G=.382683433*((U=B+z)-(W=I+T)),Y=.5411961*U+G,J=1.306562965*W+G,K=.707106781*(H=z+I),$=T+K,X=T-K;e[h+40]=X+Y,e[h+24]=X-Y,e[h+8]=$+J,e[h+56]=$-J,h++}for(d=0;d<64;++d)u=e[d]*t[d],m[d]=u>0?u+.5|0:u-.5|0;return m}(e,t),c=0;c<64;++c)f[j[c]]=l[c];var d=f[0]-n;n=f[0],0==d?R(r[0]):(R(r[h[s=32767+d]]),R(u[s]));for(var p=63;p>0&&0==f[p];)p--;if(0==p)return R(i),n;for(var x,g=1;g<=p;){for(var b=g;0==f[g]&&g<=p;)++g;var y=g-b;if(y>=16){x=y>>4;for(var v=1;v<=x;++v)R(o);y&=15}s=32767+f[g],R(a[(y<<4)+h[s]]),R(u[s]),g++}return 63!=p&&R(i),n}function D(e){e=Math.min(Math.max(e,1),100),s!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=i((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),o[j[n]]=r}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var u=i((a[s]*e+50)/100);u=Math.min(Math.max(u,1),255),l[j[s]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],m=0,f=0;f<8;f++)for(var p=0;p<8;p++)c[m]=1/(o[j[m]]*h[f]*h[p]*8),d[m]=1/(l[j[m]]*h[f]*h[p]*8),m++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),s=e)}this.encode=function(e,s){s&&D(s),p=new Array,x=0,g=7,O(65496),O(65504),O(16),T(74),T(70),T(73),T(70),T(0),T(1),T(1),T(0),O(1),O(1),T(0),T(0),function(){O(65499),O(132),T(0);for(var e=0;e<64;e++)T(o[e]);T(1);for(var t=0;t<64;t++)T(l[t])}(),function(e,t){O(65472),O(17),T(8),O(t),O(e),T(3),T(1),T(17),T(0),T(2),T(17),T(1),T(3),T(17),T(1)}(e.width,e.height),function(){O(65476),O(418),T(0);for(var e=0;e<16;e++)T(k[e+1]);for(var t=0;t<=11;t++)T(S[t]);T(16);for(var n=0;n<16;n++)T(_[n+1]);for(var r=0;r<=161;r++)T(A[r]);T(1);for(var a=0;a<16;a++)T(C[a+1]);for(var s=0;s<=11;s++)T(L[s]);T(17);for(var i=0;i<16;i++)T(P[i+1]);for(var o=0;o<=161;o++)T(E[o])}(),O(65498),O(12),T(3),T(1),T(0),T(2),T(17),T(3),T(17),T(0),T(63),T(0);var i=0,u=0,h=0;x=0,g=7,this.encode.displayName="_encode_";for(var m,f,w,j,F,z,M,B,U,q=e.data,H=e.width,W=e.height,V=4*H,G=0;G<W;){for(m=0;m<V;){for(F=V*G+m,M=-1,B=0,U=0;U<64;U++)z=F+(B=U>>3)*V+(M=4*(7&U)),G+B>=W&&(z-=V*(G+1+B-W)),m+M>=V&&(z-=m+M-V+4),f=q[z++],w=q[z++],j=q[z++],b[U]=(N[f]+N[w+256|0]+N[j+512|0]>>16)-128,y[U]=(N[f+768|0]+N[w+1024|0]+N[j+1280|0]>>16)-128,v[U]=(N[f+1280|0]+N[w+1536|0]+N[j+1792|0]>>16)-128;i=I(b,c,i,t,r),u=I(y,d,u,n,a),h=I(v,d,h,n,a),m+=32}G+=8}if(g>=0){var Y=[];Y[1]=g+1,Y[0]=(1<<g+1)-1,R(Y)}return O(65497),new Uint8Array(p)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=F(k,S),n=F(C,L),r=F(_,A),a=F(P,E),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var a=-(t-1);a<=-e;a++)h[32767+a]=n,u[32767+a]=[],u[32767+a][1]=n,u[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)N[e]=19595*e,N[e+256|0]=38470*e,N[e+512|0]=7471*e+32768,N[e+768|0]=-11059*e,N[e+1024|0]=-21709*e,N[e+1280|0]=32768*e+8421375,N[e+1536|0]=-27439*e,N[e+1792|0]=-5329*e}(),D(e)}function xs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function gs(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,a){for(var s=0;s<a;s++)e[t+s]=n[r+s]}function a(e,t,n,r){for(var a=0;a<r;a++)e[t+a]=n}function s(e){return new Int32Array(e)}function i(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function o(e,t){var n=[];return function e(n,r,a){for(var s=a[r],i=0;i<s&&(n.push(a.length>r+1?[]:new t),!(a.length<r+1));i++)e(n[i],r+1,a)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,a,s){t(!(a%r));do{e[n+(a-=r)]=s}while(0<a)}function d(e,n,r,a,i){if(t(2328>=i),512>=i)var o=s(512);else if(null==(o=s(i)))return 0;return function(e,n,r,a,i,o){var d,h,m=n,f=1<<r,p=s(16),x=s(16);for(t(0!=i),t(null!=a),t(null!=e),t(0<r),h=0;h<i;++h){if(15<a[h])return 0;++p[a[h]]}if(p[0]==i)return 0;for(x[1]=0,d=1;15>d;++d){if(p[d]>1<<d)return 0;x[d+1]=x[d]+p[d]}for(h=0;h<i;++h)d=a[h],0<a[h]&&(o[x[d]++]=h);if(1==x[15])return(a=new u).g=0,a.value=o[0],c(e,m,1,f,a),f;var g,b=-1,y=f-1,v=0,w=1,N=1,j=1<<r;for(h=0,d=1,i=2;d<=r;++d,i<<=1){if(w+=N<<=1,0>(N-=p[d]))return 0;for(;0<p[d];--p[d])(a=new u).g=d,a.value=o[h++],c(e,m+v,i,j,a),v=l(v,d)}for(d=r+1,i=2;15>=d;++d,i<<=1){if(w+=N<<=1,0>(N-=p[d]))return 0;for(;0<p[d];--p[d]){if(a=new u,(v&y)!=b){for(m+=j,g=1<<(b=d)-r;15>b&&!(0>=(g-=p[b]));)++b,g<<=1;f+=j=1<<(g=b-r),e[n+(b=v&y)].g=g+r,e[n+b].value=m-n-b}a.g=d-r,a.value=o[h++],c(e,m+(v>>r),i,j,a),v=l(v,d)}}return w!=2*x[15]-1?0:f}(e,n,r,a,i,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function m(){this.G=i(5,u),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Mn,h)}function f(e,n,r,a){t(null!=e),t(null!=n),t(2147483648>a),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+a,e.Zc=4<=a?r+a-4+1:r,_(e)}function p(e,t){for(var n=0;0<t--;)n|=C(e,128)<<t;return n}function x(e,t){var n=p(e,t);return A(e)?-n:n}function g(e,n,r,a){var s,i=0;for(t(null!=e),t(null!=n),t(4294967288>a),e.Sb=a,e.Ra=0,e.u=0,e.h=0,4<a&&(a=4),s=0;s<a;++s)i+=n[r+s]<<8*s;e.Ra=i,e.bb=a,e.oa=n,e.pa=r}function b(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<qn-8>>>0,++e.bb,e.u-=8;j(e)&&(e.h=1,e.u=0)}function y(e,n){if(t(0<=n),!e.h&&n<=Un){var r=N(e)&Bn[n];return e.u+=n,b(e),r}return e.h=1,e.u=0}function v(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function N(e){return e.Ra>>>(e.u&qn-1)>>>0}function j(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>qn}function k(e,t){e.u=t,e.h=j(e)}function S(e){e.u>=Hn&&(t(e.u>=Hn),b(e))}function _(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function A(e){return p(e,1)}function C(e,t){var n=e.Ca;0>e.b&&_(e);var r=e.b,a=n*t>>>8,s=(e.I>>>r>a)+0;for(s?(n-=a,e.I-=a+1<<r>>>0):n=a+1,r=n,a=0;256<=r;)a+=8,r>>=8;return r=7^a+Wn[r],e.b-=r,e.Ca=(n<<r)-1,s}function L(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function P(e,t){return e[t+0]|e[t+1]<<8}function E(e,t){return P(e,t)|e[t+2]<<16}function F(e,t){return P(e,t)|P(e,t+2)<<16}function R(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=s(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function T(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function O(){this.X=[],this.Xa=this.Mb=0}function I(e,n,r,a){t(null!=r),t(null!=a);var s=r[0],i=a[0];return 0==s&&(s=(e*i+n/2)/n),0==i&&(i=(n*s+e/2)/e),0>=s||0>=i?0:(r[0]=s,a[0]=i,1)}function D(e,t){return e+(1<<t)-1>>>t}function z(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function M(t,n){e[n]=function(n,r,a,s,i,o,l){var c;for(c=0;c<i;++c){var d=e[t](o[l+c-1],a,s+c);o[l+c]=z(n[r+c],d)}}}function B(){this.ud=this.hd=this.jd=0}function U(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function q(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function H(e,t){return q(e+(e-t+.5>>1))}function W(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function V(e,t,n,r,a,s,i){for(r=s[i-1],n=0;n<a;++n)s[i+n]=r=z(e[t+n],r)}function G(e,t,n,r,a){var s;for(s=0;s<n;++s){var i=e[t+s],o=i>>8&255,l=16711935&(l=(l=16711935&i)+((o<<16)+o));r[a+s]=(4278255360&i)+l>>>0}}function Y(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function J(e,t,n,r,a,s){var i;for(i=0;i<r;++i){var o=t[n+i],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),a[s+i]=(4278255360&o)+(d<<16)+c}}function K(t,n,r,a,s){e[n]=function(e,t,n,r,i,o,l,c,d){for(r=l;r<c;++r)for(l=0;l<d;++l)i[o++]=s(n[a(e[t++])])},e[t]=function(t,n,i,o,l,c,d){var u=8>>t.b,h=t.Ea,m=t.K[0],f=t.w;if(8>u)for(t=(1<<t.b)-1,f=(1<<u)-1;n<i;++n){var p,x=0;for(p=0;p<h;++p)p&t||(x=a(o[l++])),c[d++]=s(m[x&f]),x>>=u}else e["VP8LMapColor"+r](o,l,m,f,c,d,n,i,h)}}function $(e,t,n,r,a){for(n=t+n;t<n;){var s=e[t++];r[a++]=s>>16&255,r[a++]=s>>8&255,r[a++]=255&s}}function X(e,t,n,r,a){for(n=t+n;t<n;){var s=e[t++];r[a++]=s>>16&255,r[a++]=s>>8&255,r[a++]=255&s,r[a++]=s>>24&255}}function Q(e,t,n,r,a){for(n=t+n;t<n;){var s=(i=e[t++])>>16&240|i>>12&15,i=240&i|i>>28&15;r[a++]=s,r[a++]=i}}function Z(e,t,n,r,a){for(n=t+n;t<n;){var s=(i=e[t++])>>16&248|i>>13&7,i=i>>5&224|i>>3&31;r[a++]=s,r[a++]=i}}function ee(e,t,n,r,a){for(n=t+n;t<n;){var s=e[t++];r[a++]=255&s,r[a++]=s>>8&255,r[a++]=s>>16&255}}function te(e,t,n,a,s,i){if(0==i)for(n=t+n;t<n;)L(a,((i=e[t++])[0]>>24|i[1]>>8&65280|i[2]<<8&16711680|i[3]<<24)>>>0),s+=32;else r(a,s,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Hr||e==Wr||e==Vr||e==Gr}function ae(){this.eb=[],this.size=this.A=this.fb=0}function se(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ae,this.f.kb=new se,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var n=e.T,a=t.ba.f.RGBA,s=a.eb,i=a.fb+e.ka*a.A,o=ga[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,m=e.W,f=t.cc,p=t.dc,x=t.Mc,g=t.Nc,b=e.ka,y=e.ka+e.T,v=e.U,w=v+1>>1;for(0==b?o(l,c,null,null,d,u,h,m,d,u,h,m,s,i,null,null,v):(o(t.ec,t.fc,l,c,f,p,x,g,d,u,h,m,s,i-a.A,s,i,v),++n);b+2<y;b+=2)f=d,p=u,x=h,g=m,u+=e.Rc,m+=e.Rc,i+=2*a.A,o(l,(c+=2*e.fa)-e.fa,l,c,f,p,x,g,d,u,h,m,s,i-a.A,s,i,v);return c+=e.fa,e.j+y<e.o?(r(t.ec,t.fc,l,c,v),r(t.cc,t.dc,d,u,w),r(t.Mc,t.Nc,h,m,w),n--):1&y||o(l,c,null,null,d,u,h,m,d,u,h,m,s,i+a.A,null,null,v),n}function ue(e,n,r){var a=e.F,s=[e.J];if(null!=a){var i=e.U,o=n.ba.S,l=o==Br||o==Vr;n=n.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=n.eb;d=n.fb+d*n.A,e=Sr(a,s[0],e.width,i,c,u,d+(l?0:3),n.A),t(r==c),e&&re(o)&&jr(u,d,l,i,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,a=n==Dr||n==Mr||n==Br||n==Ur||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!In(t.Oa,e,a?11:12))return 0;if(a&&re(n)&&yn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=s(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=de,yn()}}else alert("todo:EmitYUV");a&&(t.Jb=ue,r&&gn())}if(r&&!Ea){for(e=0;256>e;++e)Fa[e]=89858*(e-128)+_a>>Sa,Oa[e]=-22014*(e-128)+_a,Ta[e]=-45773*(e-128),Ra[e]=113618*(e-128)+_a>>Sa;for(e=Aa;e<Ca;++e)t=76283*(e-16)+_a>>Sa,Ia[e-Aa]=Ve(t,255),Da[e-Aa]=Ve(t+8>>4,15);Ea=1}return 1}function me(e){var n=e.ma,r=e.U,a=e.T;return t(!(1&e.ka)),0>=r||0>=a?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function fe(e){e.ma.memory=null}function pe(e,t,n,r){return 47!=y(e,8)?0:(t[0]=y(e,14)+1,n[0]=y(e,14)+1,r[0]=y(e,1),0!=y(e,3)?0:!e.h)}function xe(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+y(t,n)+1}function ge(e,t){return 120<t?t-120:1<=(n=((n=Qr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function be(e,t,n){var r=N(n),a=e[t+=255&r].g-8;return 0<a&&(k(n,n.u+8),r=N(n),t+=e[t].value,t+=r&(1<<a)-1),k(n,n.u+e[t].g),e[t].value}function ye(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ve(e,n,r){var a=e.xc;return t((n=0==a?0:e.vc[e.md*(r>>a)+(n>>a)])<e.Wb),e.Ya[n]}function we(e,n,a,s){var i=e.ab,o=e.c*n,l=e.C;n=l+n;var c=a,d=s;for(s=e.Ta,a=e.Ua;0<i--;){var u=e.gc[i],h=l,m=n,f=c,p=d,x=(d=s,c=a,u.Ea);switch(t(h<m),t(m<=u.nc),u.hc){case 2:Yn(f,p,(m-h)*x,d,c);break;case 0:var g=h,b=m,y=d,v=c,w=(_=u).Ea;0==g&&(Vn(f,p,null,null,1,y,v),V(f,p+1,0,0,w-1,y,v+1),p+=w,v+=w,++g);for(var N=1<<_.b,j=N-1,k=D(w,_.b),S=_.K,_=_.w+(g>>_.b)*k;g<b;){var A=S,C=_,L=1;for(Gn(f,p,y,v-w,1,y,v);L<w;){var P=(L&~j)+N;P>w&&(P=w),(0,Qn[A[C++]>>8&15])(f,p+ +L,y,v+L-w,P-L,y,v+L),L=P}p+=w,v+=w,++g&j||(_+=k)}m!=u.nc&&r(d,c-x,d,c+(m-h-1)*x,x);break;case 1:for(x=f,b=p,w=(f=u.Ea)-(v=f&~(y=(p=1<<u.b)-1)),g=D(f,u.b),N=u.K,u=u.w+(h>>u.b)*g;h<m;){for(j=N,k=u,S=new B,_=b+v,A=b+f;b<_;)Y(j[k++],S),Zn(S,x,b,p,d,c),b+=p,c+=p;b<A&&(Y(j[k++],S),Zn(S,x,b,w,d,c),b+=w,c+=w),++h&y||(u+=g)}break;case 3:if(f==d&&p==c&&0<u.b){for(b=d,f=x=c+(m-h)*x-(v=(m-h)*D(u.Ea,u.b)),p=d,y=c,g=[],v=(w=v)-1;0<=v;--v)g[v]=p[y+v];for(v=w-1;0<=v;--v)b[f+v]=g[v];Jn(u,h,m,d,x,d,c)}else Jn(u,h,m,f,p,d,c)}c=s,d=a}d!=a&&r(s,a,c,d,o)}function Ne(e,n){var r=e.V,a=e.Ba+e.c*e.C,s=n-e.C;if(t(n<=e.l.o),t(16>=s),0<s){var i=e.l,o=e.Ta,l=e.Ua,c=i.width;if(we(e,s,r,a),s=l=[l],t((r=e.C)<(a=n)),t(i.v<i.va),a>i.o&&(a=i.o),r<i.j){var d=i.j-r;r=i.j,s[0]+=d*c}if(r>=a?r=0:(s[0]+=4*i.v,i.ka=r-i.j,i.U=i.va-i.v,i.T=a-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,h=(a=r.S,s=i.U,i=i.T,d=u.eb,u.A),m=i;for(u=u.fb+e.Ma*u.A;0<m--;){var f=o,p=l,x=s,g=d,b=u;switch(a){case Ir:er(f,p,x,g,b);break;case Dr:tr(f,p,x,g,b);break;case Hr:tr(f,p,x,g,b),jr(g,b,0,x,1,0);break;case zr:ar(f,p,x,g,b);break;case Mr:te(f,p,x,g,b,1);break;case Wr:te(f,p,x,g,b,1),jr(g,b,0,x,1,0);break;case Br:te(f,p,x,g,b,0);break;case Vr:te(f,p,x,g,b,0),jr(g,b,1,x,1,0);break;case Ur:nr(f,p,x,g,b);break;case Gr:nr(f,p,x,g,b),kr(g,b,x,1,0);break;case qr:rr(f,p,x,g,b);break;default:t(0)}l+=c,u+=h}e.Ma+=i}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function je(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function ke(e,n,r,a,s,i){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=xa[e.Z]);n<r;++n)xa[e.Z](o,l,a,s,a,s,i),o=a,l=s,s+=i;e.qd=o,e.rd=l}}function Se(e,n){var r=e.l.ma,a=0==r.Z||1==r.Z?e.l.j:e.C;if(a=e.C<a?a:e.C,t(n<=e.l.o),n>a){var s=e.l.width,i=r.ca,o=r.tb+s*a,l=e.V,c=e.Ba+e.c*a,d=e.gc;t(1==e.ab),t(3==d[0].hc),$n(d[0],a,n,l,c,i,o),ke(r,a,n,i,o,s)}e.C=e.Ma=n}function _e(e,n,r,a,s,i,o){var l=e.$/a,c=e.$%a,d=e.m,u=e.s,h=r+e.$,m=h;s=r+a*s;var f=r+a*i,p=280+u.ua,x=e.Pb?l:16777216,g=0<u.ua?u.Wa:null,b=u.wc,y=h<f?ve(u,c,l):null;t(e.C<i),t(f<=s);var v=!1;e:for(;;){for(;v||h<f;){var w=0;if(l>=x){var _=h-r;t((x=e).Pb),x.wd=x.m,x.xd=_,0<x.s.ua&&T(x.s.Wa,x.s.vb),x=l+ea}if(c&b||(y=ve(u,c,l)),t(null!=y),y.Qb&&(n[h]=y.qb,v=!0),!v)if(S(d),y.jc){w=d,_=n;var A=h,C=y.pd[N(w)&Mn-1];t(y.jc),256>C.g?(k(w,w.u+C.g),_[A]=C.value,w=0):(k(w,w.u+C.g-256),t(256<=C.value),w=C.value),0==w&&(v=!0)}else w=be(y.G[0],y.H[0],d);if(d.h)break;if(v||256>w){if(!v)if(y.nd)n[h]=(y.qb|w<<8)>>>0;else{if(S(d),v=be(y.G[1],y.H[1],d),S(d),_=be(y.G[2],y.H[2],d),A=be(y.G[3],y.H[3],d),d.h)break;n[h]=(A<<24|v<<16|w<<8|_)>>>0}if(v=!1,++h,++c>=a&&(c=0,++l,null!=o&&l<=i&&!(l%16)&&o(e,l),null!=g))for(;m<h;)w=n[m++],g.X[(506832829*w&4294967295)>>>g.Mb]=w}else if(280>w){if(w=xe(w-256,d),_=be(y.G[4],y.H[4],d),S(d),_=ge(a,_=xe(_,d)),d.h)break;if(h-r<_||s-h<w)break e;for(A=0;A<w;++A)n[h+A]=n[h+A-_];for(h+=w,c+=w;c>=a;)c-=a,++l,null!=o&&l<=i&&!(l%16)&&o(e,l);if(t(h<=s),c&b&&(y=ve(u,c,l)),null!=g)for(;m<h;)w=n[m++],g.X[(506832829*w&4294967295)>>>g.Mb]=w}else{if(!(w<p))break e;for(v=w-280,t(null!=g);m<h;)w=n[m++],g.X[(506832829*w&4294967295)>>>g.Mb]=w;w=h,t(!(v>>>(_=g).Xa)),n[w]=_.X[v],v=!0}v||t(d.h==j(d))}if(e.Pb&&d.h&&h<s)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&T(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>i?i:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Ae(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Ce(){var t=new on;return null==t?null:(t.a=0,t.xb=pa,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Yn=G,Zn=J,er=$,tr=X,nr=Q,rr=Z,ar=ee,e.VP8LMapColor32b=Kn,e.VP8LMapColor8b=Xn,t)}function Le(e,n,r,o,l){var c=1,h=[e],f=[n],p=o.m,x=o.s,g=null,b=0;e:for(;;){if(r)for(;c&&y(p,1);){var v=h,w=f,j=o,_=1,A=j.m,C=j.gc[j.ab],L=y(A,2);if(j.Oc&1<<L)c=0;else{switch(j.Oc|=1<<L,C.hc=L,C.Ea=v[0],C.nc=w[0],C.K=[null],++j.ab,t(4>=j.ab),L){case 0:case 1:C.b=y(A,3)+2,_=Le(D(C.Ea,C.b),D(C.nc,C.b),0,j,C.K),C.K=C.K[0];break;case 3:var P,E=y(A,8)+1,F=16<E?0:4<E?1:2<E?2:3;if(v[0]=D(C.Ea,F),C.b=F,P=_=Le(E,1,0,j,C.K)){var T,O=E,I=C,M=1<<(8>>I.b),B=s(M);if(null==B)P=0;else{var U=I.K[0],q=I.w;for(B[0]=I.K[0][0],T=1;T<1*O;++T)B[T]=z(U[q+T],B[T-1]);for(;T<4*M;++T)B[T]=0;I.K[0]=null,I.K[0]=B,P=1}}_=P;break;case 2:break;default:t(0)}c=_}}if(h=h[0],f=f[0],c&&y(p,1)&&!(c=1<=(b=y(p,4))&&11>=b)){o.a=3;break e}var H;if(H=c)t:{var W,V,G,Y=o,J=h,K=f,$=b,X=r,Q=Y.m,Z=Y.s,ee=[null],te=1,ne=0,re=Zr[$];n:for(;;){if(X&&y(Q,1)){var ae=y(Q,3)+2,se=D(J,ae),ie=D(K,ae),oe=se*ie;if(!Le(se,ie,0,Y,ee))break n;for(ee=ee[0],Z.xc=ae,W=0;W<oe;++W){var le=ee[W]>>8&65535;ee[W]=le,le>=te&&(te=le+1)}}if(Q.h)break n;for(V=0;5>V;++V){var ce=Kr[V];!V&&0<$&&(ce+=1<<$),ne<ce&&(ne=ce)}var de=i(te*re,u),ue=te,he=i(ue,m);if(null==he)var me=null;else t(65536>=ue),me=he;var fe=s(ne);if(null==me||null==fe||null==de){Y.a=1;break n}var pe=de;for(W=G=0;W<te;++W){var xe=me[W],ge=xe.G,be=xe.H,ve=0,we=1,Ne=0;for(V=0;5>V;++V){ce=Kr[V],ge[V]=pe,be[V]=G,!V&&0<$&&(ce+=1<<$);r:{var je,ke=ce,Se=Y,Ce=fe,Pe=pe,Ee=G,Fe=0,Re=Se.m,Te=y(Re,1);if(a(Ce,0,0,ke),Te){var Oe=y(Re,1)+1,Ie=y(Re,1),De=y(Re,0==Ie?1:8);Ce[De]=1,2==Oe&&(Ce[De=y(Re,8)]=1);var ze=1}else{var Me=s(19),Be=y(Re,4)+4;if(19<Be){Se.a=3;var Ue=0;break r}for(je=0;je<Be;++je)Me[Xr[je]]=y(Re,3);var qe=void 0,He=void 0,We=Se,Ve=Me,Ge=ke,Ye=Ce,Je=0,Ke=We.m,$e=8,Xe=i(128,u);a:for(;d(Xe,0,7,Ve,19);){if(y(Ke,1)){var Qe=2+2*y(Ke,3);if((qe=2+y(Ke,Qe))>Ge)break a}else qe=Ge;for(He=0;He<Ge&&qe--;){S(Ke);var Ze=Xe[0+(127&N(Ke))];k(Ke,Ke.u+Ze.g);var et=Ze.value;if(16>et)Ye[He++]=et,0!=et&&($e=et);else{var tt=16==et,nt=et-16,rt=Jr[nt],at=y(Ke,Yr[nt])+rt;if(He+at>Ge)break a;for(var st=tt?$e:0;0<at--;)Ye[He++]=st}}Je=1;break a}Je||(We.a=3),ze=Je}(ze=ze&&!Re.h)&&(Fe=d(Pe,Ee,8,Ce,ke)),ze&&0!=Fe?Ue=Fe:(Se.a=3,Ue=0)}if(0==Ue)break n;if(we&&1==$r[V]&&(we=0==pe[G].g),ve+=pe[G].g,G+=Ue,3>=V){var it,ot=fe[0];for(it=1;it<ce;++it)fe[it]>ot&&(ot=fe[it]);Ne+=ot}}if(xe.nd=we,xe.Qb=0,we&&(xe.qb=(ge[3][be[3]+0].value<<24|ge[1][be[1]+0].value<<16|ge[2][be[2]+0].value)>>>0,0==ve&&256>ge[0][be[0]+0].value&&(xe.Qb=1,xe.qb+=ge[0][be[0]+0].value<<8)),xe.jc=!xe.Qb&&6>Ne,xe.jc){var lt,ct=xe;for(lt=0;lt<Mn;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=ye(ht,8,ut),dt>>=ye(ct.G[1][ct.H[1]+dt],16,ut),dt>>=ye(ct.G[2][ct.H[2]+dt],0,ut),ye(ct.G[3][ct.H[3]+dt],24,ut))}}}Z.vc=ee,Z.Wb=te,Z.Ya=me,Z.yc=de,H=1;break t}H=0}if(!(c=H)){o.a=3;break e}if(0<b){if(x.ua=1<<b,!R(x.Wa,b)){o.a=1,c=0;break e}}else x.ua=0;var mt=o,ft=h,pt=f,xt=mt.s,gt=xt.xc;if(mt.c=ft,mt.i=pt,xt.md=D(ft,gt),xt.wc=0==gt?-1:(1<<gt)-1,r){o.xb=fa;break e}if(null==(g=s(h*f))){o.a=1,c=0;break e}c=(c=_e(o,g,0,h,f,f,null))&&!p.h;break e}return c?(null!=l?l[0]=g:(t(null==g),t(r)),o.$=0,r||Ae(x)):Ae(x),c}function Pe(e,n){var r=e.c*e.i,a=r+n+16*n;return t(e.c<=n),e.V=s(a),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ee(e,n){var r=e.C,a=n-r,s=e.V,i=e.Ba+e.c*r;for(t(n<=e.l.o);0<a;){var o=16<a?16:a,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,h=l.tb+c*r,m=e.Ta,f=e.Ua;we(e,o,s,i),_r(m,f,u,h,d),ke(l,r,r+o,u,h,c),a-=o,s+=o*e.c,r+=o}t(r==n),e.C=e.Ma=n}function Fe(){this.ub=this.yd=this.td=this.Rb=0}function Re(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Te(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Oe(){this.Yb=function(){var e=[];return function e(t,n,r){for(var a=r[n],s=0;s<a&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));s++)e(t[s],n+1,r)}(e,0,[3,11]),e}()}function Ie(){this.jb=s(3),this.Wc=o([4,8],Oe),this.Xc=o([4,17],Oe)}function De(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ze(){this.ld=this.La=this.dd=this.tc=0}function Me(){this.Na=this.la=0}function Be(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ue(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qe(){this.uc=this.M=this.Nb=0,this.wa=Array(new ze),this.Y=0,this.ya=Array(new Ue),this.aa=0,this.l=new Ge}function He(){this.y=s(16),this.f=s(8),this.ea=s(8)}function We(){this.cb=this.a=0,this.sc="",this.m=new v,this.Od=new Fe,this.Kc=new Re,this.ed=new De,this.Qa=new Te,this.Ic=this.$c=this.Aa=0,this.D=new qe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,v),this.ia=0,this.pb=i(4,Be),this.Pa=new Ie,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new He),this.Hd=0,this.rb=Array(new Me),this.sb=0,this.wa=Array(new ze),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ue),this.L=this.aa=0,this.gd=o([4,2],ze),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function Ge(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ye(){var e=new We;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ra||(ra=Xe)),e}function Je(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ke(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function $e(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Je(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,s=n.w,i=n.ha;if(4>i)return Je(e,7,"Truncated header.");var o=r[s+0]|r[s+1]<<8|r[s+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Je(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Je(e,4,"Frame not displayable.");s+=3,i-=3;var c=e.Kc;if(l.Rb){if(7>i)return Je(e,7,"cannot parse picture header");if(!Ke(r,s,i))return Je(e,3,"Bad code word");c.c=16383&(r[s+4]<<8|r[s+3]),c.Td=r[s+4]>>6,c.i=16383&(r[s+6]<<8|r[s+5]),c.Ud=r[s+6]>>6,s+=7,i-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,a((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,a(o.Zb,0,0,o.Zb.length),a(o.Lb,0,0,o.Lb)}if(l.ub>i)return Je(e,7,"bad partition length");f(o=e.m,r,s,l.ub),s+=l.ub,i-=l.ub,l.Rb&&(c.Ld=A(o),c.Kd=A(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=A(o),c.Cb){if(c.Bb=A(o),A(o)){for(c.Fb=A(o),d=0;4>d;++d)c.Zb[d]=A(o)?x(o,7):0;for(d=0;4>d;++d)c.Lb[d]=A(o)?x(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=A(o)?p(o,8):255}else c.Bb=0;if(o.Ka)return Je(e,3,"cannot parse segment header");if((c=e.ed).zd=A(o),c.Tb=p(o,6),c.wb=p(o,3),c.Pc=A(o),c.Pc&&A(o)){for(u=0;4>u;++u)A(o)&&(c.vd[u]=x(o,6));for(u=0;4>u;++u)A(o)&&(c.od[u]=x(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Je(e,3,"cannot parse filter header");var h=i;if(i=d=s,s=d+h,c=h,e.Xb=(1<<p(e.m,2))-1,h<3*(u=e.Xb))r=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var m=r[i+0]|r[i+1]<<8|r[i+2]<<16;m>c&&(m=c),f(e.Jc[+h],r,d,m),d+=m,c-=m,i+=3}f(e.Jc[+u],r,d,c),r=d<s?0:5}if(0!=r)return Je(e,r,"cannot parse partitions");for(r=p(d=e.m,7),i=A(d)?x(d,4):0,s=A(d)?x(d,4):0,c=A(d)?x(d,4):0,u=A(d)?x(d,4):0,d=A(d)?x(d,4):0,h=e.Qa,m=0;4>m;++m){if(h.Cb){var g=h.Zb[m];h.Fb||(g+=r)}else{if(0<m){e.pb[m]=e.pb[0];continue}g=r}var b=e.pb[m];b.Sc[0]=ta[Ve(g+i,127)],b.Sc[1]=na[Ve(g+0,127)],b.Eb[0]=2*ta[Ve(g+s,127)],b.Eb[1]=101581*na[Ve(g+c,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=ta[Ve(g+u,117)],b.Qc[1]=na[Ve(g+d,127)],b.lc=g+d}if(!l.Rb)return Je(e,4,"Not a key frame.");for(A(o),l=e.Pa,r=0;4>r;++r){for(i=0;8>i;++i)for(s=0;3>s;++s)for(c=0;11>c;++c)u=C(o,ca[r][i][s][c])?p(o,8):oa[r][i][s][c],l.Wc[r][i].Yb[s][c]=u;for(i=0;17>i;++i)l.Xc[r][i]=l.Wc[r][da[i]]}return e.kc=A(o),e.kc&&(e.Bd=p(o,8)),e.cb=1}function Xe(e,t,n,r,a,s,i){var o=t[a].Yb[n];for(n=0;16>a;++a){if(!C(e,o[n+0]))return a;for(;!C(e,o[n+1]);)if(o=t[++a].Yb[0],n=0,16==a)return 16;var l=t[a+1].Yb;if(C(e,o[n+2])){var c=e,d=0;if(C(c,(h=o)[(u=n)+3]))if(C(c,h[u+6])){for(o=0,u=2*(d=C(c,h[u+8]))+(h=C(c,h[u+9+d])),d=0,h=aa[u];h[o];++o)d+=d+C(c,h[o]);d+=3+(8<<u)}else C(c,h[u+7])?(d=7+2*C(c,165),d+=C(c,145)):d=5+C(c,159);else d=C(c,h[u+4])?3+C(c,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=i+sa[a],0>(c=e).b&&_(c);var u,h=c.b,m=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=m,c.Ca|=1,c.I-=(u+1&m)<<h,s[l]=((d^m)-m)*r[(0<a)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,a(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,n){if(null==e)return 0;if(null==n)return Je(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!$e(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var o=Ma[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-o>>4,e.zb=n.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+o>>4,e.Hb=n.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var m=h;0<l.wb&&(m=4<l.wb?m>>2:m>>1)>9-l.wb&&(m=9-l.wb),1>m&&(m=1),u.dd=m,u.tc=2*h+m,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}o=0}else Je(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=Ua);e:{o=e.Ic,l=4*(m=e.za);var f=32*m,p=m+1,x=0<e.L?m*(0<e.Aa?2:1):0,g=(2==e.Aa?2:1)*m;if((u=l+832+(c=3*(16*o+Ma[e.L])/2*f)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=s(u),e.Fc=0,null==e.Ec){o=Je(e,1,"no memory during frame initialization.");break e}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=i(f,He),e.Hd=0,e.rb=i(p+1,Me),e.sb=1,e.wa=x?i(x,ze):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=m),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=i(g,Ue),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=m),e.R=16*m,e.B=8*m,m=(f=Ma[e.L])*e.R,f=f/2*e.B,e.sa=u,e.ta=h+m,e.qa=e.sa,e.ra=e.ta+16*o*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+f,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),Qe(e),a(e.Ac,e.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Er){for(o=-255;255>=o;++o)Ar[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)Cr[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Lr[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Pr[255+o]=0>o?0:255<o?255:o;Er=1}sr=ct,ir=st,lr=it,cr=ot,dr=lt,or=at,ur=Jt,hr=Kt,mr=Qt,fr=Zt,pr=$t,xr=Xt,gr=en,br=tn,yr=qt,vr=Ht,wr=Wt,Nr=Vt,ha[0]=kt,ha[1]=ut,ha[2]=Nt,ha[3]=jt,ha[4]=St,ha[5]=At,ha[6]=_t,ha[7]=Ct,ha[8]=Pt,ha[9]=Lt,ua[0]=gt,ua[1]=mt,ua[2]=ft,ua[3]=pt,ua[4]=bt,ua[5]=yt,ua[6]=vt,ma[0]=Tt,ma[1]=ht,ma[2]=Et,ma[3]=Ft,ma[4]=It,ma[5]=Ot,ma[6]=Dt,o=1}else o=0}o&&(o=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var i,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(i=0;i<c.za;++i){var d=l,u=c,h=u.Ac,m=u.Bc+4*i,f=u.zc,p=u.ya[u.aa+i];if(u.Qa.Bb?p.$b=C(d,u.Pa.jb[0])?2+C(d,u.Pa.jb[2]):C(d,u.Pa.jb[1]):p.$b=0,u.kc&&(p.Ad=C(d,u.Bd)),p.Za=!C(d,145)+0,p.Za){var x=p.Ob,g=0;for(u=0;4>u;++u){var b,y=f[0+u];for(b=0;4>b;++b){y=la[h[m+b]][y];for(var v=ia[C(d,y[0])];0<v;)v=ia[2*v+C(d,y[v])];y=-v,h[m+b]=y}r(x,g,h,m,4),g+=4,f[0+u]=y}}else y=C(d,156)?C(d,128)?1:3:C(d,163)?2:0,p.Ob[0]=y,a(h,m,y,4),a(f,0,y,4);p.Dd=C(d,142)?C(d,114)?C(d,183)?1:3:2:0}if(c.m.Ka)return Je(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],i=l.ya[l.aa+l.ja],m=l.kc?i.Ad:0)d.la=h.la=0,i.Za||(d.Na=h.Na=0),i.Hc=0,i.Gc=0,i.ia=0;else{var w,N;if(d=h,h=c,m=l.Pa.Xc,f=l.ya[l.aa+l.ja],p=l.pb[f.$b],u=f.ad,x=0,g=l.rb[l.sb-1],y=b=0,a(u,x,0,384),f.Za)var j=0,k=m[3];else{v=s(16);var S=d.Na+g.Na;if(S=ra(h,m[1],S,p.Eb,0,v,0),d.Na=g.Na=(0<S)+0,1<S)sr(v,0,u,x);else{var _=v[0]+3>>3;for(v=0;256>v;v+=16)u[x+v]=_}j=1,k=m[0]}var A=15&d.la,L=15&g.la;for(v=0;4>v;++v){var P=1&L;for(_=N=0;4>_;++_)A=A>>1|(P=(S=ra(h,k,S=P+(1&A),p.Sc,j,u,x))>j)<<7,N=N<<2|(3<S?3:1<S?2:0!=u[x+0]),x+=16;A>>=4,L=L>>1|P<<7,b=(b<<8|N)>>>0}for(k=A,j=L>>4,w=0;4>w;w+=2){for(N=0,A=d.la>>4+w,L=g.la>>4+w,v=0;2>v;++v){for(P=1&L,_=0;2>_;++_)S=P+(1&A),A=A>>1|(P=0<(S=ra(h,m[2],S,p.Qc,0,u,x)))<<3,N=N<<2|(3<S?3:1<S?2:0!=u[x+0]),x+=16;A>>=2,L=L>>1|P<<5}y|=N<<4*w,k|=A<<4<<w,j|=(240&L)<<w}d.la=k,g.la=j,f.Hc=b,f.Gc=y,f.ia=43690&y?0:p.ia,m=!(b|y)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[i.$b][i.Za],l.wa[l.Y+l.ja].La|=!m),c.Ka)return Je(e,7,"Premature end-of-file encountered.")}if(Qe(e),l=n,c=1,i=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)e:{if(i.M=o.M,i.uc=d,Tn(o,i),c=1,i=(N=o.D).Nb,d=(y=Ma[o.L])*o.R,h=y/2*o.B,v=16*i*o.R,_=8*i*o.B,m=o.sa,f=o.ta-d+v,p=o.qa,u=o.ra-h+_,x=o.Ha,g=o.Ia-h+_,L=0==(A=N.M),b=A>=o.Va-1,2==o.Aa&&Tn(o,N),N.uc)for(P=(S=o).D.M,t(S.D.uc),N=S.yb;N<S.Hb;++N){j=N,k=P;var E=(F=(U=S).D).Nb;w=U.R;var F=F.wa[F.Y+j],R=U.sa,T=U.ta+16*E*w+16*j,O=F.dd,I=F.tc;if(0!=I)if(t(3<=I),1==U.L)0<j&&vr(R,T,w,I+4),F.La&&Nr(R,T,w,I),0<k&&yr(R,T,w,I+4),F.La&&wr(R,T,w,I);else{var D=U.B,z=U.qa,M=U.ra+8*E*D+8*j,B=U.Ha,U=U.Ia+8*E*D+8*j;E=F.ld,0<j&&(hr(R,T,w,I+4,O,E),fr(z,M,B,U,D,I+4,O,E)),F.La&&(xr(R,T,w,I,O,E),br(z,M,B,U,D,I,O,E)),0<k&&(ur(R,T,w,I+4,O,E),mr(z,M,B,U,D,I+4,O,E)),F.La&&(pr(R,T,w,I,O,E),gr(z,M,B,U,D,I,O,E))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(N=16*A,A=16*(A+1),L?(l.y=o.sa,l.O=o.ta+v,l.f=o.qa,l.N=o.ra+_,l.ea=o.Ha,l.W=o.Ia+_):(N-=y,l.y=m,l.O=f,l.f=p,l.N=u,l.ea=x,l.W=g),b||(A-=y),A>l.o&&(A=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&N<A&&(l.J=hn(o,l,N,A-N),l.F=o.mb,null==l.F&&0==l.F.length)){c=Je(o,3,"Could not decode alpha data.");break e}N<l.j&&(y=l.j-N,N=l.j,t(!(1&y)),l.O+=o.R*y,l.N+=o.B*(y>>1),l.W+=o.B*(y>>1),null!=l.F&&(l.J+=l.width*y)),N<A&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=N-l.j,l.U=l.va-l.v,l.T=A-N,c=l.put(l))}i+1!=o.Ic||b||(r(o.sa,o.ta-d,m,f+16*o.R,d),r(o.qa,o.ra-h,p,u+8*o.B,h),r(o.Ha,o.Ia-h,x,g+8*o.B,h))}if(!c)return Je(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),o&=1}return o?(e.cb=0,o):0}function et(e,t,n,r,a){a=e[t+n+32*r]+(a>>3),e[t+n+32*r]=-256&a?0>a?0:255:a}function tt(e,t,n,r,a,s){et(e,t,0,n,r+a),et(e,t,1,n,r+s),et(e,t,2,n,r-s),et(e,t,3,n,r-a)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var a,i=0,o=s(16);for(a=0;4>a;++a){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-nt(e[t+12]),u=nt(e[t+4])+(35468*e[t+12]>>16);o[i+0]=l+u,o[i+1]=c+d,o[i+2]=c-d,o[i+3]=l-u,i+=4,t++}for(a=i=0;4>a;++a)l=(e=o[i+0]+4)+o[i+8],c=e-o[i+8],d=(35468*o[i+4]>>16)-nt(o[i+12]),et(n,r,0,0,l+(u=nt(o[i+4])+(35468*o[i+12]>>16))),et(n,r,1,0,c+d),et(n,r,2,0,c-d),et(n,r,3,0,l-u),i++,r+=32}function at(e,t,n,r){var a=e[t+0]+4,s=35468*e[t+4]>>16,i=nt(e[t+4]),o=35468*e[t+1]>>16;tt(n,r,0,a+i,e=nt(e[t+1]),o),tt(n,r,1,a+s,e,o),tt(n,r,2,a-s,e,o),tt(n,r,3,a-i,e,o)}function st(e,t,n,r,a){rt(e,t,n,r),a&&rt(e,t+16,n,r+4)}function it(e,t,n,r){ir(e,t+0,n,r,1),ir(e,t+32,n,r+128,1)}function ot(e,t,n,r){var a;for(e=e[t+0]+4,a=0;4>a;++a)for(t=0;4>t;++t)et(n,r,t,a,e)}function lt(e,t,n,r){e[t+0]&&cr(e,t+0,n,r),e[t+16]&&cr(e,t+16,n,r+4),e[t+32]&&cr(e,t+32,n,r+128),e[t+48]&&cr(e,t+48,n,r+128+4)}function ct(e,t,n,r){var a,i=s(16);for(a=0;4>a;++a){var o=e[t+0+a]+e[t+12+a],l=e[t+4+a]+e[t+8+a],c=e[t+4+a]-e[t+8+a],d=e[t+0+a]-e[t+12+a];i[0+a]=o+l,i[8+a]=o-l,i[4+a]=d+c,i[12+a]=d-c}for(a=0;4>a;++a)o=(e=i[0+4*a]+3)+i[3+4*a],l=i[1+4*a]+i[2+4*a],c=i[1+4*a]-i[2+4*a],d=e-i[3+4*a],n[r+0]=o+l>>3,n[r+16]=d+c>>3,n[r+32]=o-l>>3,n[r+48]=d-c>>3,r+=64}function dt(e,t,n){var r,a=t-32,s=Tr,i=255-e[a-1];for(r=0;r<n;++r){var o,l=s,c=i+e[t-1];for(o=0;o<n;++o)e[t+o]=l[c+e[a+o]];t+=32}}function ut(e,t){dt(e,t,4)}function ht(e,t){dt(e,t,8)}function mt(e,t){dt(e,t,16)}function ft(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function pt(e,t){var n;for(n=16;0<n;--n)a(e,t,e[t-1],16),t+=32}function xt(e,t,n){var r;for(r=0;16>r;++r)a(t,n+32*r,e,16)}function gt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];xt(r>>5,e,t)}function bt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];xt(r>>4,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];xt(r>>4,e,t)}function vt(e,t){xt(128,e,t)}function wt(e,t,n){return e+2*t+n+2>>2}function Nt(e,t){var n,a=t-32;for(a=new Uint8Array([wt(e[a-1],e[a+0],e[a+1]),wt(e[a+0],e[a+1],e[a+2]),wt(e[a+1],e[a+2],e[a+3]),wt(e[a+2],e[a+3],e[a+4])]),n=0;4>n;++n)r(e,t+32*n,a,0,a.length)}function jt(e,t){var n=e[t-1],r=e[t-1+32],a=e[t-1+64],s=e[t-1+96];L(e,t+0,16843009*wt(e[t-1-32],n,r)),L(e,t+32,16843009*wt(n,r,a)),L(e,t+64,16843009*wt(r,a,s)),L(e,t+96,16843009*wt(a,s,s))}function kt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)a(e,t+32*n,r,4)}function St(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=wt(r,a,e[t-1+96]),e[t+1+96]=e[t+0+64]=wt(n,r,a),e[t+2+96]=e[t+1+64]=e[t+0+32]=wt(s,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=wt(i,s,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=wt(o,i,s),e[t+3+32]=e[t+2+0]=wt(l,o,i),e[t+3+0]=wt(c,l,o)}function _t(e,t){var n=e[t+1-32],r=e[t+2-32],a=e[t+3-32],s=e[t+4-32],i=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=wt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=wt(n,r,a),e[t+2+0]=e[t+1+32]=e[t+0+64]=wt(r,a,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=wt(a,s,i),e[t+3+32]=e[t+2+64]=e[t+1+96]=wt(s,i,o),e[t+3+64]=e[t+2+96]=wt(i,o,l),e[t+3+96]=wt(o,l,l)}function At(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=s+i+1>>1,e[t+1+0]=e[t+2+64]=i+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=wt(a,r,n),e[t+0+64]=wt(r,n,s),e[t+0+32]=e[t+1+96]=wt(n,s,i),e[t+1+32]=e[t+2+96]=wt(s,i,o),e[t+2+32]=e[t+3+96]=wt(i,o,l),e[t+3+32]=wt(o,l,c)}function Ct(e,t){var n=e[t+0-32],r=e[t+1-32],a=e[t+2-32],s=e[t+3-32],i=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+a+1>>1,e[t+2+0]=e[t+1+64]=a+s+1>>1,e[t+3+0]=e[t+2+64]=s+i+1>>1,e[t+0+32]=wt(n,r,a),e[t+1+32]=e[t+0+96]=wt(r,a,s),e[t+2+32]=e[t+1+96]=wt(a,s,i),e[t+3+32]=e[t+2+96]=wt(s,i,o),e[t+3+64]=wt(i,o,l),e[t+3+96]=wt(o,l,c)}function Lt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+a+1>>1,e[t+2+32]=e[t+0+64]=a+s+1>>1,e[t+1+0]=wt(n,r,a),e[t+3+0]=e[t+1+32]=wt(r,a,s),e[t+3+32]=e[t+1+64]=wt(a,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function Pt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],s=e[t-1+96],i=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+i+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=a+r+1>>1,e[t+0+96]=s+a+1>>1,e[t+3+0]=wt(o,l,c),e[t+2+0]=wt(i,o,l),e[t+1+0]=e[t+3+32]=wt(n,i,o),e[t+1+32]=e[t+3+64]=wt(r,n,i),e[t+1+64]=e[t+3+96]=wt(a,r,n),e[t+1+96]=wt(s,a,r)}function Et(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Ft(e,t){var n;for(n=0;8>n;++n)a(e,t,e[t-1],8),t+=32}function Rt(e,t,n){var r;for(r=0;8>r;++r)a(t,n+32*r,e,8)}function Tt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Rt(r>>4,e,t)}function Ot(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Rt(r>>3,e,t)}function It(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Rt(r>>3,e,t)}function Dt(e,t){Rt(128,e,t)}function zt(e,t,n){var r=e[t-n],a=e[t+0],s=3*(a-r)+Fr[1020+e[t-2*n]-e[t+n]],i=Rr[112+(s+4>>3)];e[t-n]=Tr[255+r+Rr[112+(s+3>>3)]],e[t+0]=Tr[255+a-i]}function Mt(e,t,n,r){var a=e[t+0],s=e[t+n];return Or[255+e[t-2*n]-e[t-n]]>r||Or[255+s-a]>r}function Bt(e,t,n,r){return 4*Or[255+e[t-n]-e[t+0]]+Or[255+e[t-2*n]-e[t+n]]<=r}function Ut(e,t,n,r,a){var s=e[t-3*n],i=e[t-2*n],o=e[t-n],l=e[t+0],c=e[t+n],d=e[t+2*n],u=e[t+3*n];return 4*Or[255+o-l]+Or[255+i-c]>r?0:Or[255+e[t-4*n]-s]<=a&&Or[255+s-i]<=a&&Or[255+i-o]<=a&&Or[255+u-d]<=a&&Or[255+d-c]<=a&&Or[255+c-l]<=a}function qt(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Bt(e,t+r,n,a)&&zt(e,t+r,n)}function Ht(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Bt(e,t+r*n,1,a)&&zt(e,t+r*n,1)}function Wt(e,t,n,r){var a;for(a=3;0<a;--a)qt(e,t+=4*n,n,r)}function Vt(e,t,n,r){var a;for(a=3;0<a;--a)Ht(e,t+=4,n,r)}function Gt(e,t,n,r,a,s,i,o){for(s=2*s+1;0<a--;){if(Ut(e,t,n,s,i))if(Mt(e,t,n,o))zt(e,t,n);else{var l=e,c=t,d=n,u=l[c-2*d],h=l[c-d],m=l[c+0],f=l[c+d],p=l[c+2*d],x=27*(b=Fr[1020+3*(m-h)+Fr[1020+u-f]])+63>>7,g=18*b+63>>7,b=9*b+63>>7;l[c-3*d]=Tr[255+l[c-3*d]+b],l[c-2*d]=Tr[255+u+g],l[c-d]=Tr[255+h+x],l[c+0]=Tr[255+m-x],l[c+d]=Tr[255+f-g],l[c+2*d]=Tr[255+p-b]}t+=r}}function Yt(e,t,n,r,a,s,i,o){for(s=2*s+1;0<a--;){if(Ut(e,t,n,s,i))if(Mt(e,t,n,o))zt(e,t,n);else{var l=e,c=t,d=n,u=l[c-d],h=l[c+0],m=l[c+d],f=Rr[112+(4+(p=3*(h-u))>>3)],p=Rr[112+(p+3>>3)],x=f+1>>1;l[c-2*d]=Tr[255+l[c-2*d]+x],l[c-d]=Tr[255+u+p],l[c+0]=Tr[255+h-f],l[c+d]=Tr[255+m-x]}t+=r}}function Jt(e,t,n,r,a,s){Gt(e,t,n,1,16,r,a,s)}function Kt(e,t,n,r,a,s){Gt(e,t,1,n,16,r,a,s)}function $t(e,t,n,r,a,s){var i;for(i=3;0<i;--i)Yt(e,t+=4*n,n,1,16,r,a,s)}function Xt(e,t,n,r,a,s){var i;for(i=3;0<i;--i)Yt(e,t+=4,1,n,16,r,a,s)}function Qt(e,t,n,r,a,s,i,o){Gt(e,t,a,1,8,s,i,o),Gt(n,r,a,1,8,s,i,o)}function Zt(e,t,n,r,a,s,i,o){Gt(e,t,1,a,8,s,i,o),Gt(n,r,1,a,8,s,i,o)}function en(e,t,n,r,a,s,i,o){Yt(e,t+4*a,a,1,8,s,i,o),Yt(n,r+4*a,a,1,8,s,i,o)}function tn(e,t,n,r,a,s,i,o){Yt(e,t+4,1,a,8,s,i,o),Yt(n,r+4,1,a,8,s,i,o)}function nn(){this.ba=new ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function an(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new O,this.vb=new O,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new m,this.yc=new u}function on(){this.xb=this.a=0,this.l=new Ge,this.ca=new ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=i(4,an),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ge,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(e,t,n,r,a,s,i){for(e=null==e?0:e[t+0],t=0;t<i;++t)a[s+t]=e+n[r+t]&255,e=a[s+t]}function dn(e,t,n,r,a,s,i){var o;if(null==e)cn(null,null,n,r,a,s,i);else for(o=0;o<i;++o)a[s+o]=e[t+o]+n[r+o]&255}function un(e,t,n,r,a,s,i){if(null==e)cn(null,null,n,r,a,s,i);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<i;++o)c=d+(l=e[t+o])-c,d=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,a[s+o]=d}}function hn(e,n,a,i){var o=n.width,l=n.o;if(t(null!=e&&null!=n),0>a||0>=i||a+i>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new ln,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=s(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,m=e.mb,f=e.nb,p=u+1,x=h-1,b=c.l;if(t(null!=d&&null!=m&&null!=n),xa[0]=null,xa[1]=cn,xa[2]=dn,xa[3]=un,c.ca=m,c.tb=f,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(b.put=me,b.ac=he,b.bc=fe,b.ma=c,b.width=n.width,b.height=n.height,b.Da=n.Da,b.v=n.v,b.va=n.va,b.j=n.j,b.o=n.o,c.$a)e:{t(1==c.$a),n=Ce();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,g(n.m,d,p,x),!Le(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&je(n.s)?(c.ic=1,d=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(d),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Pe(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=x>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:i=l-a}t(null!=e.ga),t(a+i<=l);e:{if(n=(d=e.ga).c,l=d.l.o,0==d.$a){if(p=e.rc,x=e.Vc,b=e.Fa,u=e.P+1+a*n,h=e.mb,m=e.nb+a*n,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=xa[d.Z]),c=0;c<i;++c)xa[d.Z](p,x,b,u,h,m,n),p=h,x=m,m+=n,u+=n;else for(c=0;c<i;++c)r(h,m,b,u,n),p=h,x=m,m+=n,u+=n;e.rc=p,e.Vc=x}else{if(t(null!=d.mc),n=a+i,t(null!=(c=d.mc)),t(n<=c.i),c.C>=n)n=1;else if(d.ic||gn(),d.ic){d=c.V,p=c.Ba,x=c.c;var y=c.i,v=(b=1,u=c.$/x,h=c.$%x,m=c.m,f=c.s,c.$),w=x*y,N=x*n,k=f.wc,_=v<N?ve(f,h,u):null;t(v<=w),t(n<=y),t(je(f));t:for(;;){for(;!m.h&&v<N;){if(h&k||(_=ve(f,h,u)),t(null!=_),S(m),256>(y=be(_.G[0],_.H[0],m)))d[p+v]=y,++v,++h>=x&&(h=0,++u<=n&&!(u%16)&&Se(c,u));else{if(!(280>y)){b=0;break t}y=xe(y-256,m);var A,C=be(_.G[4],_.H[4],m);if(S(m),!(v>=(C=ge(x,C=xe(C,m)))&&w-v>=y)){b=0;break t}for(A=0;A<y;++A)d[p+v+A]=d[p+v+A-C];for(v+=y,h+=y;h>=x;)h-=x,++u<=n&&!(u%16)&&Se(c,u);v<N&&h&k&&(_=ve(f,h,u))}t(m.h==j(m))}Se(c,u>n?n:u);break t}!b||m.h&&v<w?(b=0,c.a=m.h?5:3):c.$=v,n=b}else n=_e(c,c.V,c.Ba,c.c,c.i,n,Ee);if(!n){i=0;break e}}a+i>=l&&(e.Cc=1),i=1}if(!i)return null;if(e.Cc&&(null!=(i=e.ga)&&(i.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+a*o}function mn(e,t,n,r,a,s){for(;0<a--;){var i,o=e,l=t+(n?1:0),c=e,d=t+(n?0:3);for(i=0;i<r;++i){var u=c[d+4*i];255!=u&&(u*=32897,o[l+4*i+0]=o[l+4*i+0]*u>>23,o[l+4*i+1]=o[l+4*i+1]*u>>23,o[l+4*i+2]=o[l+4*i+2]*u>>23)}t+=s}}function fn(e,t,n,r,a){for(;0<r--;){var s;for(s=0;s<n;++s){var i=e[t+2*s+0],o=15&(c=e[t+2*s+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*s+0]=(240&i|i>>4)*l>>16&240|(15&i|i<<4)*l>>16>>4&15,e[t+2*s+1]=240&c|o}t+=a}}function pn(e,t,n,r,a,s,i,o){var l,c,d=255;for(c=0;c<a;++c){for(l=0;l<r;++l){var u=e[t+l];s[i+4*l]=u,d&=u}t+=n,i+=o}return 255!=d}function xn(e,t,n,r,a){var s;for(s=0;s<a;++s)n[r+s]=e[t+s]>>8}function gn(){jr=mn,kr=fn,Sr=pn,_r=xn}function bn(n,r,a){e[n]=function(e,n,s,i,o,l,c,d,u,h,m,f,p,x,g,b,y){var v,w=y-1>>1,N=o[l+0]|c[d+0]<<16,j=u[h+0]|m[f+0]<<16;t(null!=e);var k=3*N+j+131074>>2;for(r(e[n+0],255&k,k>>16,p,x),null!=s&&(k=3*j+N+131074>>2,r(s[i+0],255&k,k>>16,g,b)),v=1;v<=w;++v){var S=o[l+v]|c[d+v]<<16,_=u[h+v]|m[f+v]<<16,A=N+S+j+_+524296,C=A+2*(S+j)>>3;k=C+N>>1,N=(A=A+2*(N+_)>>3)+S>>1,r(e[n+2*v-1],255&k,k>>16,p,x+(2*v-1)*a),r(e[n+2*v-0],255&N,N>>16,p,x+(2*v-0)*a),null!=s&&(k=A+j>>1,N=C+_>>1,r(s[i+2*v-1],255&k,k>>16,g,b+(2*v-1)*a),r(s[i+2*v+0],255&N,N>>16,g,b+(2*v+0)*a)),N=S,j=_}1&y||(k=3*N+j+131074>>2,r(e[n+y-1],255&k,k>>16,p,x+(y-1)*a),null!=s&&(k=3*j+N+131074>>2,r(s[i+y-1],255&k,k>>16,g,b+(y-1)*a)))}}function yn(){ga[Ir]=ba,ga[Dr]=va,ga[zr]=ya,ga[Mr]=wa,ga[Br]=Na,ga[Ur]=ja,ga[qr]=ka,ga[Hr]=va,ga[Wr]=wa,ga[Vr]=Na,ga[Gr]=ja}function vn(e){return e&~Pa?0>e?0:255:e>>La}function wn(e,t){return vn((19077*e>>8)+(26149*t>>8)-14234)}function Nn(e,t,n){return vn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function jn(e,t){return vn((19077*e>>8)+(33050*t>>8)-17685)}function kn(e,t,n,r,a){r[a+0]=wn(e,n),r[a+1]=Nn(e,t,n),r[a+2]=jn(e,t)}function Sn(e,t,n,r,a){r[a+0]=jn(e,t),r[a+1]=Nn(e,t,n),r[a+2]=wn(e,n)}function _n(e,t,n,r,a){var s=Nn(e,t,n);t=s<<3&224|jn(e,t)>>3,r[a+0]=248&wn(e,n)|s>>5,r[a+1]=t}function An(e,t,n,r,a){var s=240&jn(e,t)|15;r[a+0]=240&wn(e,n)|Nn(e,t,n)>>4,r[a+1]=s}function Cn(e,t,n,r,a){r[a+0]=255,kn(e,t,n,r,a+1)}function Ln(e,t,n,r,a){Sn(e,t,n,r,a),r[a+3]=255}function Pn(e,t,n,r,a){kn(e,t,n,r,a),r[a+3]=255}function Ve(e,t){return 0>e?0:e>t?t:e}function En(t,n,r){e[t]=function(e,t,a,s,i,o,l,c,d){for(var u=c+(-2&d)*r;c!=u;)n(e[t+0],a[s+0],i[o+0],l,c),n(e[t+1],a[s+0],i[o+0],l,c+r),t+=2,++s,++o,c+=2*r;1&d&&n(e[t+0],a[s+0],i[o+0],l,c)}}function Fn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Rn(e,t,n,r,a){switch(e>>>30){case 3:ir(t,n,r,a,0);break;case 2:or(t,n,r,a);break;case 1:cr(t,n,r,a)}}function Tn(e,t){var n,s,i=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,m=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)d[u+32*n-1]=129,h[m+32*n-1]=129;for(0<i?l[c-1-32]=d[u-1-32]=h[m-1-32]=129:(a(l,c-32-1,127,21),a(d,u-32-1,127,9),a(h,m-32-1,127,9)),s=0;s<e.za;++s){var f=t.ya[t.aa+s];if(0<s){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(d,u+32*n-4,d,u+32*n+4,4),r(h,m+32*n-4,h,m+32*n+4,4)}var p=e.Gd,x=e.Hd+s,g=f.ad,b=f.Hc;if(0<i&&(r(l,c-32,p[x].y,0,16),r(d,u-32,p[x].f,0,8),r(h,m-32,p[x].ea,0,8)),f.Za){var y=l,v=c-32+16;for(0<i&&(s>=e.za-1?a(y,v,p[x].y[15],4):r(y,v,p[x+1].y,0,4)),n=0;4>n;n++)y[v+128+n]=y[v+256+n]=y[v+384+n]=y[v+0+n];for(n=0;16>n;++n,b<<=2)y=l,v=c+za[n],ha[f.Ob[n]](y,v),Rn(b,g,16*+n,y,v)}else if(y=Fn(s,i,f.Ob[0]),ua[y](l,c),0!=b)for(n=0;16>n;++n,b<<=2)Rn(b,g,16*+n,l,c+za[n]);for(n=f.Gc,y=Fn(s,i,f.Dd),ma[y](d,u),ma[y](h,m),b=g,y=d,v=u,255&(f=n|0)&&(170&f?lr(b,256,y,v):dr(b,256,y,v)),f=h,b=m,255&(n>>=8)&&(170&n?lr(g,320,f,b):dr(g,320,f,b)),i<e.Ub-1&&(r(p[x].y,0,l,c+480,16),r(p[x].f,0,d,u+224,8),r(p[x].ea,0,h,m+224,8)),n=8*o*e.B,p=e.sa,x=e.ta+16*s+16*o*e.R,g=e.qa,f=e.ra+8*s+n,b=e.Ha,y=e.Ia+8*s+n,n=0;16>n;++n)r(p,x+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(g,f+n*e.B,d,u+32*n,8),r(b,y+n*e.B,h,m+32*n,8)}}function On(e,r,a,s,i,o,l,c,d){var u=[0],h=[0],m=0,f=null!=d?d.kd:0,p=null!=d?d:new rn;if(null==e||12>a)return 7;p.data=e,p.w=r,p.ha=a,r=[r],a=[a],p.gb=[p.gb];e:{var x=r,b=a,y=p.gb;if(t(null!=e),t(null!=b),t(null!=y),y[0]=0,12<=b[0]&&!n(e,x[0],"RIFF")){if(n(e,x[0]+8,"WEBP")){y=3;break e}var v=F(e,x[0]+4);if(12>v||4294967286<v){y=3;break e}if(f&&v>b[0]-8){y=7;break e}y[0]=v,x[0]+=12,b[0]-=12}y=0}if(0!=y)return y;for(v=0<p.gb[0],a=a[0];;){e:{var N=e;b=r,y=a;var j=u,k=h,S=x=[0];if((C=m=[m])[0]=0,8>y[0])y=7;else{if(!n(N,b[0],"VP8X")){if(10!=F(N,b[0]+4)){y=3;break e}if(18>y[0]){y=7;break e}var _=F(N,b[0]+8),A=1+E(N,b[0]+12);if(2147483648<=A*(N=1+E(N,b[0]+15))){y=3;break e}null!=S&&(S[0]=_),null!=j&&(j[0]=A),null!=k&&(k[0]=N),b[0]+=18,y[0]-=18,C[0]=1}y=0}}if(m=m[0],x=x[0],0!=y)return y;if(b=!!(2&x),!v&&m)return 3;if(null!=o&&(o[0]=!!(16&x)),null!=l&&(l[0]=b),null!=c&&(c[0]=0),l=u[0],x=h[0],m&&b&&null==d){y=0;break}if(4>a){y=7;break}if(v&&m||!v&&!m&&!n(e,r[0],"ALPH")){a=[a],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];e:{_=e,y=r,v=a;var C=p.gb;j=p.na,k=p.P,S=p.Sa,A=22,t(null!=_),t(null!=v),N=y[0];var L=v[0];for(t(null!=j),t(null!=S),j[0]=null,k[0]=null,S[0]=0;;){if(y[0]=N,v[0]=L,8>L){y=7;break e}var P=F(_,N+4);if(4294967286<P){y=3;break e}var R=8+P+1&-2;if(A+=R,0<C&&A>C){y=3;break e}if(!n(_,N,"VP8 ")||!n(_,N,"VP8L")){y=0;break e}if(L[0]<R){y=7;break e}n(_,N,"ALPH")||(j[0]=_,k[0]=N+8,S[0]=P),N+=R,L-=R}}if(a=a[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=y)break}a=[a],p.Ja=[p.Ja],p.xa=[p.xa];e:if(C=e,y=r,v=a,j=p.gb[0],k=p.Ja,S=p.xa,_=y[0],N=!n(C,_,"VP8 "),A=!n(C,_,"VP8L"),t(null!=C),t(null!=v),t(null!=k),t(null!=S),8>v[0])y=7;else{if(N||A){if(C=F(C,_+4),12<=j&&C>j-12){y=3;break e}if(f&&C>v[0]-8){y=7;break e}k[0]=C,y[0]+=8,v[0]-=8,S[0]=A}else S[0]=5<=v[0]&&47==C[_+0]&&!(C[_+4]>>5),k[0]=v[0];y=0}if(a=a[0],p.Ja=p.Ja[0],p.xa=p.xa[0],r=r[0],0!=y)break;if(4294967286<p.Ja)return 3;if(null==c||b||(c[0]=p.xa?2:1),l=[l],x=[x],p.xa){if(5>a){y=7;break}c=l,f=x,b=o,null==e||5>a?e=0:5<=a&&47==e[r+0]&&!(e[r+4]>>5)?(v=[0],C=[0],j=[0],g(k=new w,e,r,a),pe(k,v,C,j)?(null!=c&&(c[0]=v[0]),null!=f&&(f[0]=C[0]),null!=b&&(b[0]=j[0]),e=1):e=0):e=0}else{if(10>a){y=7;break}c=x,null==e||10>a||!Ke(e,r+3,a-3)?e=0:(f=e[r+0]|e[r+1]<<8|e[r+2]<<16,b=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=p.Ja||!b||!e?e=0:(l&&(l[0]=b),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],x=x[0],m&&(u[0]!=l||h[0]!=x))return 3;null!=d&&(d[0]=p,d.offset=r-d.w,t(4294967286>r-d.w),t(d.offset==d.ha-a));break}return 0==y||7==y&&m&&null==d?(null!=o&&(o[0]|=null!=p.na&&0<p.na.length),null!=s&&(s[0]=l),null!=i&&(i[0]=x),0):y}function In(e,t,n){var r=t.width,a=t.height,s=0,i=0,o=r,l=a;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,s=e.v,i=e.j,11>n||(s&=-2,i&=-2),0>s||0>i||0>=o||0>=l||s+o>r||i+l>a))return 0;if(t.v=s,t.j=i,t.va=s+o,t.o=i+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!I(o,l,n=[e.ib],s=[e.hb]))return 0;t.ib=n[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*a/4,t.Kb=0),1}function Dn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function zn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var a=n.cd,i=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=a||0>=i||o+a>e||l+i>t)return 2;e=a,t=i}if(n.da){if(!I(e,t,a=[n.ib],i=[n.hb]))return 2;e=a[0],t=i[0]}}r.width=e,r.height=t;e:{var c=r.width,d=r.height;if(e=r.S,0>=c||0>=d||!(e>=Ir&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){o=i=a=t=0;var u=(l=c*qa[e])*d;if(11>e||(i=(d+1)/2*(t=(c+1)/2),12==e&&(o=(a=c)*d)),null==(d=s(u+2*i+o))){e=1;break e}r.sd=d,11>e?((c=r.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=r.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=i,c.ea=d,c.W=0+u+i,c.Db=t,c.Ed=i,12==e&&(c.F=d,c.J=0+u+2*i),c.Tc=o,c.lb=a)}if(t=1,a=r.S,i=r.width,o=r.height,a>=Ir&&13>a)if(11>a)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+i<=e.size,t&=l>=i*qa[a],t&=null!=e.eb;else{e=r.f.kb,l=(i+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),m=Math.abs(e.lb),f=m*(o-1)+i;t&=c*(o-1)+i<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=i&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==a&&(t&=m>=i,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Dn(r)),e}var Mn=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Un=24,qn=32,Hn=8,Wn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];M("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return U(U(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return U(e,t[n-1])},e.Predictor7=function(e,t,n){return U(e,t[n+0])},e.Predictor8=function(e,t,n){return U(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return U(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return U(U(e,t[n-1]),U(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=W(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+W(r>>16&255,e>>16&255,t>>16&255)+W(r>>8&255,e>>8&255,t>>8&255)+W(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(q((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|q((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|q((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|q((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(H((e=U(e,t[n+0]))>>24&255,r>>24&255)<<24|H(e>>16&255,r>>16&255)<<16|H(e>>8&255,r>>8&255)<<8|H(255&e,255&r))>>>0};var Vn=e.PredictorAdd0;e.PredictorAdd1=V,M("Predictor2","PredictorAdd2"),M("Predictor3","PredictorAdd3"),M("Predictor4","PredictorAdd4"),M("Predictor5","PredictorAdd5"),M("Predictor6","PredictorAdd6"),M("Predictor7","PredictorAdd7"),M("Predictor8","PredictorAdd8"),M("Predictor9","PredictorAdd9"),M("Predictor10","PredictorAdd10"),M("Predictor11","PredictorAdd11"),M("Predictor12","PredictorAdd12"),M("Predictor13","PredictorAdd13");var Gn=e.PredictorAdd2;K("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),K("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Yn,Jn=e.ColorIndexInverseTransform,Kn=e.MapARGB,$n=e.VP8LColorIndexInverseTransformAlpha,Xn=e.MapAlpha,Qn=e.VP8LPredictorsAdd=[];Qn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,er,tr,nr,rr,ar,sr,ir,or,lr,cr,dr,ur,hr,mr,fr,pr,xr,gr,br,yr,vr,wr,Nr,jr,kr,Sr,_r,Ar=s(511),Cr=s(2041),Lr=s(225),Pr=s(767),Er=0,Fr=Cr,Rr=Lr,Tr=Pr,Or=Ar,Ir=0,Dr=1,zr=2,Mr=3,Br=4,Ur=5,qr=6,Hr=7,Wr=8,Vr=9,Gr=10,Yr=[2,3,7],Jr=[3,3,11],Kr=[280,256,256,256,40],$r=[0,1,1,1,0],Xr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ea=8,ta=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],na=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ra=null,aa=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ia=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],la=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ca=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],da=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ua=[],ha=[],ma=[],fa=1,pa=2,xa=[],ga=[];bn("UpsampleRgbLinePair",kn,3),bn("UpsampleBgrLinePair",Sn,3),bn("UpsampleRgbaLinePair",Pn,4),bn("UpsampleBgraLinePair",Ln,4),bn("UpsampleArgbLinePair",Cn,4),bn("UpsampleRgba4444LinePair",An,2),bn("UpsampleRgb565LinePair",_n,2);var ba=e.UpsampleRgbLinePair,ya=e.UpsampleBgrLinePair,va=e.UpsampleRgbaLinePair,wa=e.UpsampleBgraLinePair,Na=e.UpsampleArgbLinePair,ja=e.UpsampleRgba4444LinePair,ka=e.UpsampleRgb565LinePair,Sa=16,_a=1<<Sa-1,Aa=-227,Ca=482,La=6,Pa=(256<<La)-1,Ea=0,Fa=s(256),Ra=s(256),Ta=s(256),Oa=s(256),Ia=s(Ca-Aa),Da=s(Ca-Aa);En("YuvToRgbRow",kn,3),En("YuvToBgrRow",Sn,3),En("YuvToRgbaRow",Pn,4),En("YuvToBgraRow",Ln,4),En("YuvToArgbRow",Cn,4),En("YuvToRgba4444Row",An,2),En("YuvToRgb565Row",_n,2);var za=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ma=[0,2,8],Ba=[8,7,6,4,4,2,2,2,1,1,1,1],Ua=1;this.WebPDecodeRGBA=function(e,n,r,a,s){var i=Dr,o=new nn,l=new ie;o.ba=l,l.S=i,l.width=[l.width],l.height=[l.height];var c=l.width,d=l.height,u=new oe;if(null==u||null==e)var h=2;else t(null!=u),h=On(e,n,r,u.width,u.height,u.Pd,u.Qd,u.format,null);if(0!=h?c=0:(null!=c&&(c[0]=u.width[0]),null!=d&&(d[0]=u.height[0]),c=1),c){l.width=l.width[0],l.height=l.height[0],null!=a&&(a[0]=l.width),null!=s&&(s[0]=l.height);e:{if(a=new Ge,(s=new rn).data=e,s.w=n,s.ha=r,s.kd=1,n=[0],t(null!=s),(0==(e=On(s.data,s.w,s.ha,null,null,null,n,null,s))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=o),a.data=s.data,a.w=s.w+s.offset,a.ha=s.ha-s.offset,a.put=me,a.ac=he,a.bc=fe,a.ma=o,s.xa){if(null==(e=Ce())){o=1;break e}if(function(e,n){var r=[0],a=[0],s=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,g(e.m,n.data,n.w,n.ha),!pe(e.m,r,a,s)){e.a=3;break t}if(e.xb=pa,n.width=r[0],n.height=a[0],!Le(r[0],a[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,a)){if(a=0==(n=zn(a.width,a.height,o.Oa,o.ba))){t:{a=e;n:for(;;){if(null==a){a=0;break t}if(t(null!=a.s.yc),t(null!=a.s.Ya),t(0<a.s.Wb),t(null!=(r=a.l)),t(null!=(s=r.ma)),0!=a.xb){if(a.ca=s.ba,a.tb=s.tb,t(null!=a.ca),!In(s.Oa,r,Mr)){a.a=2;break n}if(!Pe(a,r.width))break n;if(r.da)break n;if((r.da||re(a.ca.S))&&gn(),11>a.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=a.ca.f.kb.F&&gn()),a.Pb&&0<a.s.ua&&null==a.s.vb.X&&!R(a.s.vb,a.s.Wa.Xa)){a.a=1;break n}a.xb=0}if(!_e(a,a.V,a.Ba,a.c,a.i,r.o,Ne))break n;s.Dc=a.Ma,a=1;break t}t(0!=a.a),a=0}a=!a}a&&(n=e.a)}else n=e.a}else{if(null==(e=new Ye)){o=1;break e}if(e.Fa=s.na,e.P=s.P,e.qc=s.Sa,$e(e,a)){if(0==(n=zn(a.width,a.height,o.Oa,o.ba))){if(e.Aa=0,r=o.Oa,t(null!=(s=e)),null!=r){if(0<(c=0>(c=r.Md)?0:100<c?255:255*c/100)){for(d=u=0;4>d;++d)12>(h=s.pb[d]).lc&&(h.ia=c*Ba[0>h.lc?0:h.lc]>>3),u|=h.ia;u&&(alert("todo:VP8InitRandom"),s.ia=1)}s.Ga=r.Id,100<s.Ga?s.Ga=100:0>s.Ga&&(s.Ga=0)}Ze(e,a)||(n=e.a)}}else n=e.a}0==n&&null!=o.Oa&&o.Oa.fd&&(n=Dn(o.ba))}o=n}i=0!=o?null:11>i?l.f.RGBA.eb:l.f.kb.y}else i=null;return i};var qa=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],m=[0],f=[],p=new l,x=e,g=function(e,t){var n={},r=0,a=!1,s=0,i=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){var o,l;for(u(e,t+=4),t+=8;t<e.length;){var h=c(e,t),m=u(e,t+=4);t+=4;var f=m+(1&m);switch(h){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=a?i:t-8,g.src_size=s+m+8,r++,a&&(a=!1,s=0,i=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var p=t+4;g.canvas_width=1+d(e,p),p+=3,g.canvas_height=1+d(e,p),p+=3;break;case"ALPH":a=!0,s=f+8,i=t-8;break;case"ANIM":(g=n.header).bgcolor=u(e,t),p=t+4,g.loop_count=(o=e)[(l=p)+0]|o[l+1]<<8,p+=2;break;case"ANMF":var x,g;(g=n.frames[r]={}).offset_x=2*d(e,t),t+=3,g.offset_y=2*d(e,t),t+=3,g.width=1+d(e,t),t+=3,g.height=1+d(e,t),t+=3,g.duration=d(e,t),t+=3,x=e[t++],g.dispose=1&x,g.blend=x>>1&1}"ANMF"!=h&&(t+=f)}return n}}(x,0);g.response=x,g.rgbaoutput=!0,g.dataurl=!1;var b=g.header?g.header:null,y=g.frames?g.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],m=[b.canvas_width];for(var v=0;v<y.length&&0!=y[v].blend;v++);}var w=y[0],N=p.WebPDecodeRGBA(x,w.src_off,w.src_size,m,h);w.rgba=N,w.imgwidth=m[0],w.imgheight=h[0];for(var j=0;j<m[0]*h[0]*4;j++)f[j]=N[j];return this.width=m,this.height=h,this.data=f,this}!function(e){var t=function(t,r,l,c){var d=4,u=s;switch(c){case e.image_compression.FAST:d=1,u=a;break;case e.image_compression.MEDIUM:d=6,u=i;break;case e.image_compression.SLOW:d=9,u=o}var h=br(t=n(t,r,l,u),{level:d});return e.__addimage__.arrayBufferToBinaryString(h)},n=function(e,t,n,r){for(var a,s,i,o=e.length/t,l=new Uint8Array(e.length+o),u=c(),h=0;h<o;h+=1){if(i=h*t,a=e.subarray(i,i+t),r)l.set(r(a,n,s),i+h);else{for(var m,f=u.length,p=[];m<f;m+=1)p[m]=u[m](a,n,s);var x=d(p.concat());l.set(p[x],i+h)}s=a}return l},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},a=function(e,t){var n,r=[],a=e.length;r[0]=1;for(var s=0;s<a;s+=1)n=e[s-t]||0,r[s+1]=e[s]-n+256&255;return r},s=function(e,t,n){var r,a=[],s=e.length;a[0]=2;for(var i=0;i<s;i+=1)r=n&&n[i]||0,a[i+1]=e[i]-r+256&255;return a},i=function(e,t,n){var r,a,s=[],i=e.length;s[0]=3;for(var o=0;o<i;o+=1)r=e[o-t]||0,a=n&&n[o]||0,s[o+1]=e[o]+256-(r+a>>>1)&255;return s},o=function(e,t,n){var r,a,s,i,o=[],c=e.length;o[0]=4;for(var d=0;d<c;d+=1)r=e[d-t]||0,a=n&&n[d]||0,s=n&&n[d-t]||0,i=l(r,a,s),o[d+1]=e[d]-i+256&255;return o},l=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),a=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=a&&r<=s?e:a<=s?t:n},c=function(){return[r,a,s,i,o]},d=function(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,r,a,s){var i,o,l,c,d,u,h,m,f,p,x,g,b,y,v,w=this.decode.FLATE_DECODE,N="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new hs(n)).imgData,o=l.bits,i=l.colorSpace,d=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){f=(m=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,x=new Uint8Array(f*l.colors),p=new Uint8Array(f);var j,k=l.pixelBitlength-l.bits;for(y=0,v=0;y<f;y++){for(b=m[y],j=0;j<k;)x[v++]=b>>>j&255,j+=l.bits;p[y]=b>>>j&255}}if(16===l.bits){f=(m=new Uint32Array(l.decodePixels().buffer)).length,x=new Uint8Array(f*(32/l.pixelBitlength)*l.colors),p=new Uint8Array(f*(32/l.pixelBitlength)),g=l.colors>1,y=0,v=0;for(var S=0;y<f;)b=m[y++],x[v++]=b>>>0&255,g&&(x[v++]=b>>>16&255,b=m[y++],x[v++]=b>>>0&255),p[S++]=b>>>16&255;o=8}s!==e.image_compression.NONE?(n=t(x,l.width*l.colors,l.colors,s),h=t(p,l.width,1,s)):(n=x,h=p,w=void 0)}if(3===l.colorType&&(i=this.color_spaces.INDEXED,u=l.palette,l.transparency.indexed)){var _=l.transparency.indexed,A=0;for(y=0,f=_.length;y<f;++y)A+=_[y];if((A/=255)===f-1&&-1!==_.indexOf(0))c=[_.indexOf(0)];else if(A!==f){for(m=l.decodePixels(),p=new Uint8Array(m.length),y=0,f=m.length;y<f;y++)p[y]=_[m[y]];h=t(p,l.width,1)}}var C=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(s);return w===this.decode.FLATE_DECODE&&(N="/Predictor "+C+" "),N+="/Colors "+d+" /BitsPerComponent "+o+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:a,data:n,index:r,filter:w,decodeParameters:N,transparency:c,palette:u,sMask:h,predictor:C,width:l.width,height:l.height,bitsPerComponent:o,colorSpace:i}}}}(ea.API),function(e){e.processGIF89A=function(t,n,r,a){var s=new ms(t),i=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:i,height:o},d=new ps(100).encode(c,100);return e.processJPEG.call(this,d,n,r,a)},e.processGIF87A=e.processGIF89A}(ea.API),xs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xs.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){jr.log("bit decode error:"+e)}},xs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}0!==n&&(this.pos+=4-n)}},xs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+2*a*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[i]=c.blue,this.data[i+1]=c.green,this.data[i+2]=c.red,this.data[i+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[i+4]=c.blue,this.data[i+4+1]=c.green,this.data[i+4+2]=c.red,this.data[i+4+3]=255}0!==t&&(this.pos+=4-t)}},xs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==e&&(this.pos+=4-e)}},xs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,d=r*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=c}this.pos+=e}},xs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&n)/n*255|0,c=(i>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},xs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=r,this.data[i+3]=255}this.pos+=this.width%4}},xs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=r,this.data[o+3]=i}},xs.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,a){var s=new xs(t,!1),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},c=new ps(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(ea.API),gs.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,a){var s=new gs(t,!1),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},c=new ps(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(ea.API),ea.API.processRGBA=function(e,t,n){for(var r=e.data,a=r.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var d=r[c],u=r[c+1],h=r[c+2],m=r[c+3];s[o++]=d,s[o++]=u,s[o++]=h,i[l++]=m}var f=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ea.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},os=ea.API,ls=os.getCharWidthsArray=function(e,t){var n,r,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=!1!==t.doKerning,h=0,m=e.length,f=0,p=o[0]||l,x=[];for(n=0;n<m;n++)r=e.charCodeAt(n),"function"==typeof a.metadata.widthOfString?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+i*(1e3/s)||0)/1e3):(h=u&&"object"===(0,kn.A)(c[r])&&!isNaN(parseInt(c[r][f],10))?c[r][f]/d:0,x.push((o[r]||p)/l+h)),f=r;return x},cs=os.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return os.processArabic&&(e=os.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,a)/n:ls.apply(this,arguments).reduce(function(e,t){return e+t},0)},ds=function(e,t,n,r){for(var a=[],s=0,i=e.length,o=0;s!==i&&o+t[s]<n;)o+=t[s],s++;a.push(e.slice(0,s));var l=s;for(o=0;s!==i;)o+t[s]>r&&(a.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&a.push(e.slice(l,s)),a},us=function(e,t,n){n||(n={});var r,a,s,i,o,l,c,d=[],u=[d],h=n.textIndent||0,m=0,f=0,p=e.split(" "),x=ls.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?p[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),b=[];p.map(function(e){(e=e.split(/\s*\n/)).length>1?b=b.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):b.push(e[0])}),p=b,l=cs.apply(this,[g,n])}for(s=0,i=p.length;s<i;s++){var y=0;if(r=p[s],l&&"\n"==r[0]&&(r=r.substr(1),y=1),h+m+(f=(a=ls.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||y){if(f>t){for(o=ds.apply(this,[r,a,t-(h+m),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);f=a.slice(r.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[r];u.push(d),h=f+l,m=x}else d.push(r),h+=m+f,m=x}return c=l?function(e,t){return(t?g:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},os.splitTextToSize=function(e,t,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(us.apply(this,[r[o],i,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},a=0;a<16;a++)n[t[a]]="0123456789abcdef"[a],r["0123456789abcdef"[a]]=t[a];var s=function(e){return"0x"+parseInt(e,10).toString(16)},i=e.__fontmetrics__.compress=function(e){var t,n,a,o,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=s(c).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof t)t<0?(a=s(t).slice(3),o="-"):(a=s(t).slice(2),o=""),a=o+a.slice(0,-1)+r[a.slice(-1)];else{if("object"!==(0,kn.A)(t))throw new Error("Don't know what to do with value type "+(0,kn.A)(t)+".");a=i(t)}l.push(n+a)}return l.push("}"),l.join("")},o=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,a,s,i={},o=1,l=i,c=[],d="",u="",h=e.length-1,m=1;m<h;m+=1)"'"==(s=e[m])?t?(a=t.join(""),t=void 0):t=[]:t?t.push(s):"{"==s?(c.push([l,a]),l={},a=void 0):"}"==s?((r=c.pop())[0][r[1]]=l,a=void 0,l=r[0]):"-"==s?o=-1:void 0===a?n.hasOwnProperty(s)?(d+=n[s],a=parseInt(d,16)*o,o=1,d=""):d+=s:n.hasOwnProperty(s)?(u+=n[s],l[a]=parseInt(u,16)*o,o=1,a=void 0,u=""):u+=s;return i},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=d.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(ea.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,a=n.font,s=n.instance;if(!a.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(a.postScriptName)?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(Ar(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(a,r)}}])}(ea),function(){function e(){return(wr.canvg?Promise.resolve(wr.canvg):n.e(455).then(n.bind(n,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}ea.API.addSvgAsImage=function(t,n,r,a,s,i,o,l){if(isNaN(n)||isNaN(r))throw jr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw jr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(e){return e.fromString(d,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),n,r,a,s,o,l)})}}(),ea.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,n);return this},ea.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],c=0,d=0,u=0;function h(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var m=o.length;for(u=0;u<m;u+=1)n[o[u]].value=n[o[u]].defaultValue,n[o[u]].explicitSet=!1}if("object"===(0,kn.A)(e))for(a in e)if(s=e[a],h(o,a)&&void 0!==s){if("boolean"===n[a].type&&"boolean"==typeof s)n[a].value=s;else if("name"===n[a].type&&h(n[a].valueSet,s))n[a].value=s;else if("integer"===n[a].type&&Number.isInteger(s))n[a].value=s;else if("array"===n[a].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)"number"!=typeof s[c][d]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[a].value="["+l.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),i=n.length+r.length+a.length+t.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+i+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+a+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ea.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,a=["","0","00","000","0000"],s=[""],i=0,o=e.length;i<o;++i){if(n=t.metadata.characterToGlyph(e.charCodeAt(i)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(i),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(a[4-n.length],n)}return s.join("")},r=function(e){var t,n,r,a,s,i,o;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],i=0,o=(n=Object.keys(e).sort(function(e,t){return e-t})).length;i<o;i++)t=n[i],r.length>=100&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(a=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+a+">"));return r.length&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,s=t.newObject,i=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=s();i({data:c,addLength1:!0,objectId:u}),a("endobj");var h=s();i({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),a("endobj");var m=s();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+Jr(n.fontName)),a("/FontFile2 "+u+" 0 R"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/Flags "+n.metadata.flags),a("/StemV "+n.metadata.stemV),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a(">>"),a("endobj");var f=s();a("<<"),a("/Type /Font"),a("/BaseFont /"+Jr(n.fontName)),a("/FontDescriptor "+m+" 0 R"),a("/W "+e.API.PDFObject.convert(o)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+n.encoding+")"),a(">>"),a(">>"),a("endobj"),n.objectNumber=s(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+h+" 0 R"),a("/BaseFont /"+Jr(n.fontName)),a("/Encoding /"+n.encoding),a("/DescendantFonts ["+f+" 0 R]"),a(">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,s=t.newObject,i=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=s();i({data:l,addLength1:!0,objectId:d}),a("endobj");var u=s();i({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),a("endobj");var h=s();a("<<"),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a("/StemV "+n.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+d+" 0 R"),a("/Flags 96"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/FontName /"+Jr(n.fontName)),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a(">>"),a("endobj"),n.objectNumber=s();for(var m=0;m<n.metadata.hmtx.widths.length;m++)n.metadata.hmtx.widths[m]=parseInt(n.metadata.hmtx.widths[m]*(1e3/n.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+Jr(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]);var a=function(e){var t,r=e.text||"",a=e.x,s=e.y,i=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,h="",m=0,f="",p=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:r,x:a,y:s,options:i,mutex:o};for(f=r,u=c,Array.isArray(r)&&(f=r[0]),m=0;m<f.length;m+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[f[m].charCodeAt(0)]),t||f[m].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=f[m]:h+="";var x="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===p?x=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===p&&(x=n(h,d[u])),o.isHex=!0,{text:x,x:a,y:s,options:i,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var s=0;for(s=0;s<t.length;s+=1)Array.isArray(t[s])&&3===t[s].length?n.push([a(Object.assign({},r,{text:t[s][0]})).text,t[s][1],t[s][2]]):n.push(a(Object.assign({},r,{text:t[s]})).text);e.text=n}else e.text=a(Object.assign({},r,{text:t})).text}])}(ea),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(ea.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,a,s,i,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,g=0;this.__bidiEngine__={};var b=function(e){var t=e.charCodeAt(),n=t>>8,r=m[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":p.test(n)?"L":8===n?"R":"N"},y=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=b(e.charAt(n))))return!1;if("R"===t)return!0}return!1},v=function(e,t,i,o){var l,c,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(h="AN");break;case"AL":x=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=i[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":x&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?i[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===i[o-1]){h="EN";break}if(x){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(a&&!s){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var m=e[o],f=m>=1425&&m<=2303||64286===m;if(l=t[d],f&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":i[o-1];break;case"B":x=!1,n=!0,h=g;break;case"S":r=!0,h="N"}return h},w=function(e,t,n){var r=e.split("");return n&&N(r,n,{hiLevel:g}),r.reverse(),t&&t.reverse(),r.join("")},N=function(e,t,a){var s,i,o,l,c,m=-1,f=e.length,p=0,y=[],w=g?u:d,N=[];for(x=!1,n=!1,r=!1,i=0;i<f;i++)N[i]=b(e[i]);for(o=0;o<f;o++){if(c=p,y[o]=v(e,N,y,o),s=240&(p=w[c][h[y[o]]]),p&=15,t[o]=l=w[p][5],s>0)if(16===s){for(i=m;i<o;i++)t[i]=1;m=-1}else m=-1;if(w[p][6])-1===m&&(m=o);else if(m>-1){for(i=m;i<o;i++)t[i]=l;m=-1}"B"===N[o]&&(t[o]=0),a.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=g;for(var a=r-1;a>=0&&"WS"===e[a];a--)t[a]=g}}(N,t,f)},j=function(e,t,r,a,s){if(!(s.hiLevel<e)){if(1===e&&1===g&&!n)return t.reverse(),void(r&&r.reverse());for(var i,o,l,c,d=t.length,u=0;u<d;){if(a[u]>=e){for(l=u+1;l<d&&a[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)i=t[c],t[c]=t[o],t[o]=i,r&&(i=r[c],r[c]=r[o],r[o]=i);u=l}u++}}},k=function(e,t,n){var r=e.split(""),a={hiLevel:g};return n||(n=[]),N(r,n,a),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,a=0;a<e.length;a++)1===t[a]&&(r=f.indexOf(e[a]))>=0&&(e[a]=f[r+1])}(r,n,a),j(2,r,t,n,a),j(1,r,t,n,a),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===s&&(s=y(e)),void 0===o&&(o=y(e))}(e,t),a||!i||o)if(a&&i&&s^o)g=s?1:0,e=w(e,t,n);else if(!a&&i&&o)g=s?1:0,e=k(e,t,n),e=w(e,t);else if(!a||s||i||o){if(a&&!i&&s^o)e=w(e,t),s?(g=0,e=k(e,t,n)):(g=1,e=k(e,t,n),e=w(e,t));else if(a&&s&&!i&&o)g=1,e=k(e,t,n),e=w(e,t);else if(!a&&!i&&s^o){var r=l;s?(g=1,e=k(e,t,n),g=0,l=!1,e=k(e,t,n),l=r):(g=0,e=k(e,t,n),e=w(e,t),g=1,l=!1,e=k(e,t,n),l=r,e=w(e,t))}}else g=0,e=k(e,t,n);else g=s?1:0,e=k(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(a=e.isInputVisual,i=e.isOutputVisual,s=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,r=(e.x,e.y,e.options||{}),a=(e.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var s=0;for(a=[],s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])?a.push([n.doBidiReorder(t[s][0]),t[s][1],t[s][2]]):a.push([n.doBidiReorder(t[s])]);e.text=a}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(ea),ea.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new ys(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new zs(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new vs(this.contents),this.head=new js(this),this.name=new Ps(this),this.cmap=new Ss(this),this.toUnicode={},this.hhea=new _s(this),this.maxp=new Es(this),this.hmtx=new Fs(this),this.post=new Cs(this),this.os2=new As(this),this.loca=new Ds(this),this.glyf=new Ts(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,a;for(a=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],a.push(Math.round(e*this.scaleFactor));return a}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(a=this.familyClass)||2===a||3===a||4===a||5===a||7===a,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,a,s,i;for(s=0,a=0,i=(e=""+e).length;0<=i?a<i:a>i;a=0<=i?++a:--a)r=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var bs,ys=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,a,s,i,o;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^a)+65536*(255^s)+256*(255^i)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*a+65536*s+256*i+o},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,a;for(a=[],n=0,r=e.length;n<r;n++)t=e[n],a.push(this.writeByte(t));return a},e}(),vs=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,a,s,i,o,l,c,d,u,h,m,f;for(f in h=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),s=Math.floor(d/o),c=16*h-d,(r=new ys).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(s),r.writeShort(c),a=16*h,l=r.pos+a,i=null,m=[],t)for(u=t[f],r.writeString(f),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),m=m.concat(u),"head"===f&&(i=l),l+=u.length;l%4;)m.push(0),l++;return r.write(m),n=2981146554-e(r.data),r.pos=i+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,a;for(e=Rs.call(e);e.length%4;)e.push(0);for(r=new ys(e),n=0,t=0,a=e.length;t<a;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),ws={}.hasOwnProperty,Ns=function(e,t){for(var n in t)ws.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};bs=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var js=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,bs),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new ys).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),ks=function(){function e(e,t){var n,r,a,s,i,o,l,c,d,u,h,m,f,p,x,g,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,a=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,i=function(){var t,n;for(n=[],o=t=0;0<=r?t<r:t>r;o=0<=r?++t:--t)n.push(e.readUInt16());return n}(),o=x=0,b=a.length;x<b;o=++x)for(p=a[o],n=g=m=f[o];m<=p?g<=p:g>=p;n=m<=p?++g:--g)0===c[o]?s=n+l[o]:0!==(s=i[c[o]/2+(n-m)-(u-o)]||0)&&(s+=l[o]),this.codeMap[n]=65535&s}e.pos=d}return e.encode=function(e,t){var n,r,a,s,i,o,l,c,d,u,h,m,f,p,x,g,b,y,v,w,N,j,k,S,_,A,C,L,P,E,F,R,T,O,I,D,z,M,B,U,q,H,W,V,G,Y;switch(L=new ys,s=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(f=0,p=function(){var e=[];for(m=0;m<256;++m)e.push(0);return e}(),g={0:0},a={},P=0,T=s.length;P<T;P++)null==g[W=e[r=s[P]]]&&(g[W]=++f),a[r]={old:e[r],new:g[e[r]]},p[r]=g[e[r]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(p),{charMap:a,subtable:L.data,maxGlyphID:f+1};case"unicode":for(A=[],d=[],b=0,g={},n={},x=l=null,E=0,O=s.length;E<O;E++)null==g[v=e[r=s[E]]]&&(g[v]=++b),n[r]={old:v,new:g[v]},i=g[v]-r,null!=x&&i===l||(x&&d.push(x),A.push(r),l=i),x=r;for(x&&d.push(x),d.push(65535),A.push(65535),S=2*(k=A.length),j=2*Math.pow(Math.log(k)/Math.LN2,2),u=Math.log(j/2)/Math.LN2,N=2*k-j,o=[],w=[],h=[],m=F=0,I=A.length;F<I;m=++F){if(_=A[m],c=d[m],65535===_){o.push(0),w.push(0);break}if(_-(C=n[_].new)>=32768)for(o.push(0),w.push(2*(h.length+k-m)),r=R=_;_<=c?R<=c:R>=c;r=_<=c?++R:--R)h.push(n[r].new);else o.push(C-_),w.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*k+2*h.length),L.writeUInt16(0),L.writeUInt16(S),L.writeUInt16(j),L.writeUInt16(u),L.writeUInt16(N),q=0,D=d.length;q<D;q++)r=d[q],L.writeUInt16(r);for(L.writeUInt16(0),H=0,z=A.length;H<z;H++)r=A[H],L.writeUInt16(r);for(V=0,M=o.length;V<M;V++)i=o[V],L.writeUInt16(i);for(G=0,B=w.length;G<B;G++)y=w[G],L.writeUInt16(y);for(Y=0,U=h.length;Y<U;Y++)f=h[Y],L.writeUInt16(f);return{charMap:n,subtable:L.data,maxGlyphID:b+1}}},e}(),Ss=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,bs),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new ks(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=ks.encode(e,t),(r=new ys).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),_s=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,bs),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),As=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,bs),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Cs=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,bs),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],a=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;a=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),Ls=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Ps=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,bs),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,a,s,i,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),i=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+i+e.readShort()});for(o={},a=c=0,d=n.length;c<d;a=++c)r=n[a],e.pos=r.offset,l=e.readString(r.length),s=new Ls(l,r),null==o[u=r.nameID]&&(o[u]=[]),o[r.nameID].push(s);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),Es=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,bs),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Fs=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,bs),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,a,s,i,o;for(e.pos=this.offset,this.metrics=[],t=0,i=this.file.hhea.numberOfMetrics;0<=i?t<i:t>i;t=0<=i?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,a;for(a=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)a.push(e.readInt16());return a}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)a=n[e],r.push(a.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],t=s=0;0<=r?s<r:s>r;t=0<=r?++s:--s)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),Rs=[].slice,Ts=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,bs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,a,s,i,o,l,c,d;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),0===(r=a.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,s=(i=new ys(t.read(r))).readShort(),l=i.readShort(),d=i.readShort(),o=i.readShort(),c=i.readShort(),this.cache[e]=-1===s?new Is(i,l,d,o,c):new Os(i,s,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,a,s,i,o;for(s=[],a=[],i=0,o=t.length;i<o;i++)r=e[t[i]],a.push(s.length),r&&(s=s.concat(r.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),Os=function(){function e(e,t,n,r,a,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Is=function(){function e(e,t,n,r,a){var s,i;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;i=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&i;)s.pos+=1&i?4:2,128&i?s.pos+=8:64&i?s.pos+=4:8&i&&(s.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new ys(Rs.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Ds=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ns(e,bs),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,a=0,s=0;s<n.length;++s)if(n[s]=r,a<t.length&&t[a]==s){++a,n[s]=r;var i=this.offsets[s],o=this.offsets[s+1]-i;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),zs=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,a;for(t in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,a,s,i,o;for(r={},s=0,i=e.length;s<i;s++)r[a=e[s]]=this.font.glyf.glyphFor(a);for(a in t=[],r)(null!=(n=r[a])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in o=this.glyphsFor(t))n=o[a],r[a]=n;return r},e.prototype.encode=function(e,t){var n,r,a,s,i,o,l,c,d,u,h,m,f,p,x;for(r in n=Ss.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},x=n.charMap)h[(o=x[r]).old]=o.new;for(m in u=n.maxGlyphID,s)m in h||(h[m]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),d=Object.keys(c).sort(function(e,t){return e-t}),f=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)i=d[e],n.push(c[i]);return n}(),a=this.font.glyf.encode(s,f,h),l=this.font.loca.encode(a.offsets,f),p={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();ea.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,a,s,i;if(Array.isArray(n))return"["+function(){var e,a,s;for(s=[],e=0,a=n.length;e<a;e++)r=n[e],s.push(t.convert(r));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(a in s=["<<"],n)i=n[a],s.push("/"+a+" "+t.convert(i));return s.push(">>"),s.join("\n")}return""+n},t}();const Ms=()=>{var e,t,n,r,s,i,o;const{id:l}=re(),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!0),[m,f]=(0,a.useState)(null),[p,x]=(0,a.useState)("overview"),[g,b]=(0,a.useState)(""),[y,v]=(0,a.useState)(1),[w,N]=(0,a.useState)({}),[j,k]=(0,a.useState)({showRatings:!0,showUscfIds:!1,boardNumbers:!0,displayFormat:"default"}),[S,_]=(0,a.useState)(!1),[A,C]=(0,a.useState)(!1),[L,P]=(0,a.useState)(null),[E,F]=(0,a.useState)(""),[R,T]=(0,a.useState)(!1),[O,I]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=()=>{T(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const D=(0,a.useCallback)(async()=>{if(l)try{h(!0),f(null);const e=await St.Sj.getPublic(l);if(!e.data.success)throw new Error(e.data.error||"Failed to load tournament data");d(e.data.data),P(new Date),z(e.data.data.tournament.rounds).catch(e=>{console.warn("Failed to fetch all rounds data:",e)})}catch(er){var e,t;console.error("Failed to fetch public tournament data:",er),f((null===(e=er.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to load tournament data")}finally{h(!1)}},[l]);(0,a.useEffect)(()=>{D()},[D]),(0,a.useEffect)(()=>{let e;return A&&l&&(e=setInterval(()=>{D()},3e4)),()=>{e&&clearInterval(e)}},[A,l,D]);const z=async e=>{if(l)try{const t={};for(let n=1;n<=e;n++)try{const e=await St.tk.getByRound(l,n);e.data&&(t[n]=e.data)}catch(er){console.warn("Failed to fetch round ".concat(n," data:"),er),t[n]=[]}N(t)}catch(er){console.error("Failed to fetch all rounds data:",er)}},M=(e,t)=>{k(n=>(0,Re.A)((0,Re.A)({},n),{},{[e]:t}))},B=e=>E.trim()?e.filter(e=>e.name.toLowerCase().includes(E.toLowerCase())||e.uscf_id&&e.uscf_id.toLowerCase().includes(E.toLowerCase())):e,U=()=>{if(!c)return null;const{standings:e,pairings:t,teamStandings:n}=c,r=e.length,a=t.length,s=t.filter(e=>e.result&&""!==e.result).length,i=e.reduce((e,t)=>e+(t.rating||0),0)/r,o=n?n.length:0;return{totalPlayers:r,totalGames:a,completedGames:s,averageRating:Math.round(i),completionRate:a>0?Math.round(s/a*100):0,totalTeams:o}},q=()=>{var e,t;if(!c)return["all"];const n=new Set;return n.add("all"),null===(e=c.pairings)||void 0===e||e.forEach(e=>{e.section&&n.add(e.section)}),null===(t=c.standings)||void 0===t||t.forEach(e=>{e.section&&n.add(e.section)}),Array.from(n).sort()},H=async()=>{if(navigator.share)try{await navigator.share({title:(null===c||void 0===c?void 0:c.tournament.name)||"Chess Tournament",text:"Check out this chess tournament: ".concat(null===c||void 0===c?void 0:c.tournament.name),url:window.location.href})}catch(m){console.log("Error sharing:",m)}else navigator.clipboard.writeText(window.location.href).then(()=>{alert("Link copied to clipboard!")})};if(u)return(0,Te.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 border-t-black mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-gray-600 text-sm",children:"Loading tournament..."})]})});if(m||!c)return(0,Te.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center space-y-6 max-w-md mx-auto px-6",children:[(0,Te.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-6 py-4 rounded",children:[(0,Te.jsx)("p",{className:"font-medium mb-2",children:"Error"}),(0,Te.jsx)("p",{className:"text-sm",children:m||"Tournament not found"})]}),(0,Te.jsxs)("button",{onClick:D,className:"inline-flex items-center space-x-2 bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition-colors text-sm",children:[(0,Te.jsx)(Ft,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Try Again"})]})]})});const{tournament:W,pairings:V,standings:G,currentRound:Y}=c;return(0,Te.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Te.jsx)("nav",{className:"border-b border-gray-200 bg-white",children:(0,Te.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Te.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Te.jsx)(Pe,{to:"/public/tournaments",className:"flex items-center",children:(0,Te.jsx)(lt,{size:"sm",showText:!0})}),(0,Te.jsxs)(Pe,{to:"/public/tournaments",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-black text-sm",children:[(0,Te.jsx)(Et,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Back to tournaments"})]})]})})}),(0,Te.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Te.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-black mb-4",children:W.name}),(0,Te.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-8 mb-8 text-sm text-gray-600",children:[(0,Te.jsx)("div",{className:"flex items-center space-x-2",children:(0,Te.jsxs)("span",{className:"font-medium",children:["Round ",Y," of ",W.rounds]})}),(0,Te.jsx)("div",{className:"flex items-center space-x-2",children:(0,Te.jsxs)("span",{className:"capitalize",children:[W.format.replace("-"," ")," Tournament"]})}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("active"===W.status?"bg-green-500":"completed"===W.status?"bg-blue-500":"bg-gray-400")}),(0,Te.jsx)("span",{children:W.status.charAt(0).toUpperCase()+W.status.slice(1)})]})]}),(0,Te.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[(0,Te.jsxs)("a",{href:"/register/".concat(W.id),className:"inline-flex items-center space-x-2 bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition-colors text-sm",children:[(0,Te.jsx)(Nt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Register"})]}),(0,Te.jsxs)("button",{onClick:H,className:"inline-flex items-center space-x-2 border border-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-50 transition-colors text-sm",children:[(0,Te.jsx)(bn,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Share"})]}),(0,Te.jsxs)("button",{onClick:()=>C(!A),className:"inline-flex items-center space-x-2 px-4 py-2 rounded transition-colors text-sm ".concat(A?"bg-gray-100 text-gray-900 border border-gray-300":"border border-gray-300 text-gray-700 hover:bg-gray-50"),children:[(0,Te.jsx)(Ft,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Auto refresh"})]})]})]})})}),S&&(0,Te.jsx)("div",{className:"border-b border-gray-200 bg-gray-50",children:(0,Te.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Te.jsxs)("div",{className:"bg-white rounded border border-gray-200 p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold mb-4 text-black",children:"Display Options"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Te.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Te.jsx)("input",{type:"checkbox",checked:j.showRatings,onChange:e=>M("showRatings",e.target.checked),className:"w-4 h-4 text-black border-gray-300 rounded focus:ring-2 focus:ring-black"}),(0,Te.jsx)("span",{className:"text-sm text-gray-700",children:"Show Ratings"})]}),(0,Te.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Te.jsx)("input",{type:"checkbox",checked:j.showUscfIds,onChange:e=>M("showUscfIds",e.target.checked),className:"w-4 h-4 text-black border-gray-300 rounded focus:ring-2 focus:ring-black"}),(0,Te.jsx)("span",{className:"text-sm text-gray-700",children:"Show USCF IDs"})]}),(0,Te.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Te.jsx)("input",{type:"checkbox",checked:j.boardNumbers,onChange:e=>M("boardNumbers",e.target.checked),className:"w-4 h-4 text-black border-gray-300 rounded focus:ring-2 focus:ring-black"}),(0,Te.jsx)("span",{className:"text-sm text-gray-700",children:"Board Numbers"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("label",{className:"text-sm text-gray-700",children:"Format:"}),(0,Te.jsxs)("select",{value:j.displayFormat,onChange:e=>M("displayFormat",e.target.value),className:"px-3 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black",children:[(0,Te.jsx)("option",{value:"default",children:"Default"}),(0,Te.jsx)("option",{value:"compact",children:"Compact"}),(0,Te.jsx)("option",{value:"detailed",children:"Detailed"})]})]})]}),(0,Te.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,Te.jsx)("input",{type:"checkbox",checked:A,onChange:e=>C(e.target.checked),className:"w-4 h-4 text-black border-gray-300 rounded focus:ring-2 focus:ring-black"}),(0,Te.jsx)("span",{className:"text-sm text-gray-700",children:"Auto Refresh (30s)"})]}),L&&(0,Te.jsxs)("div",{className:"text-sm text-gray-500",children:["Last updated: ",L.toLocaleTimeString()]})]})})]})})}),(0,Te.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[U()&&(0,Te.jsx)("div",{className:"mb-8",children:(0,Te.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-4 text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-black mb-1",children:null===(e=U())||void 0===e?void 0:e.totalPlayers}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"Players"})]}),(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-4 text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-black mb-1",children:null===(t=U())||void 0===t?void 0:t.totalGames}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"Games"})]}),(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-4 text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-black mb-1",children:null===(n=U())||void 0===n?void 0:n.completedGames}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"Completed"})]}),(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-4 text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-black mb-1",children:null===(r=U())||void 0===r?void 0:r.averageRating}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Rating"})]}),(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-4 text-center",children:[(0,Te.jsxs)("div",{className:"text-2xl font-bold text-black mb-1",children:[null===(s=U())||void 0===s?void 0:s.completionRate,"%"]}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"Complete"})]}),U()&&U().totalTeams>0&&(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-4 text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-black mb-1",children:null===(i=U())||void 0===i?void 0:i.totalTeams}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"Teams"})]})]})}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg mr-4",children:(0,Te.jsx)(wt,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Start Date"}),(0,Te.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:W.start_date?new Date(W.start_date).toLocaleDateString():"TBD"})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-3 bg-green-100 rounded-lg mr-4",children:(0,Te.jsx)(wt,{className:"h-6 w-6 text-green-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"End Date"}),(0,Te.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:W.end_date?new Date(W.end_date).toLocaleDateString():"TBD"})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg mr-4",children:(0,Te.jsx)(Lt,{className:"h-6 w-6 text-purple-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Time Control"}),(0,Te.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:W.time_control||"TBD"})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg mr-4",children:(0,Te.jsx)(Nt,{className:"h-6 w-6 text-orange-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Players"}),(0,Te.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:G.length})]})]})})]}),(W.city||W.state||W.location||W.chief_td_name||W.website||W.expected_players)&&(0,Te.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-gray-100 mb-8",children:[(0,Te.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Te.jsx)("div",{className:"p-3 bg-chess-board rounded-lg mr-4",children:(0,Te.jsx)(rt,{className:"h-6 w-6 text-white"})}),(0,Te.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Tournament Details"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[W.city&&W.state&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-6 w-6 text-gray-400 mr-3 flex items-center justify-center",children:"\ud83d\udccd"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Location"}),(0,Te.jsxs)("p",{className:"font-medium",children:[W.city,", ",W.state]}),W.location&&(0,Te.jsx)("p",{className:"text-sm text-gray-500",children:W.location})]})]}),W.chief_td_name&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-6 w-6 text-gray-400 mr-3 flex items-center justify-center",children:"\ud83d\udc68\u200d\ud83d\udcbc"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Chief TD"}),(0,Te.jsx)("p",{className:"font-medium",children:W.chief_td_name}),W.chief_td_uscf_id&&(0,Te.jsxs)("p",{className:"text-sm text-gray-500",children:["USCF ID: ",W.chief_td_uscf_id]})]})]}),W.chief_arbiter_name&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-6 w-6 text-gray-400 mr-3 flex items-center justify-center",children:"\u2696\ufe0f"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Chief Arbiter"}),(0,Te.jsx)("p",{className:"font-medium",children:W.chief_arbiter_name}),W.chief_arbiter_fide_id&&(0,Te.jsxs)("p",{className:"text-sm text-gray-500",children:["FIDE ID: ",W.chief_arbiter_fide_id]})]})]}),W.expected_players&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-6 w-6 text-gray-400 mr-3 flex items-center justify-center",children:"\ud83d\udc65"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Expected Players"}),(0,Te.jsx)("p",{className:"font-medium",children:W.expected_players})]})]}),W.website&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-6 w-6 text-gray-400 mr-3 flex items-center justify-center",children:"\ud83c\udf10"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Website"}),(0,Te.jsx)("a",{href:W.website,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:text-blue-800",children:"Visit Website"})]})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-6 w-6 text-gray-400 mr-3 flex items-center justify-center",children:"\ud83c\udfc6"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Rating"}),(0,Te.jsxs)("div",{className:"flex space-x-2",children:[W.uscf_rated&&(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"USCF"}),W.fide_rated&&(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"FIDE"}),!W.uscf_rated&&!W.fide_rated&&(0,Te.jsx)("span",{className:"text-sm text-gray-500",children:"Unrated"})]})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-6",children:[(0,Te.jsx)("div",{className:"px-6 py-4",children:(0,Te.jsxs)("nav",{className:"flex flex-wrap gap-1",children:[(0,Te.jsx)("button",{onClick:()=>x("overview"),className:"px-4 py-2 text-sm font-medium rounded transition-colors ".concat("overview"===p?"bg-gray-100 text-black":"text-gray-600 hover:text-black hover:bg-gray-50"),children:"Overview"}),(0,Te.jsx)("button",{onClick:()=>x("pairings"),className:"px-4 py-2 text-sm font-medium rounded transition-colors ".concat("pairings"===p?"bg-gray-100 text-black":"text-gray-600 hover:text-black hover:bg-gray-50"),children:"Pairings"}),(0,Te.jsx)("button",{onClick:()=>x("standings"),className:"px-4 py-2 text-sm font-medium rounded transition-colors ".concat("standings"===p?"bg-gray-100 text-black":"text-gray-600 hover:text-black hover:bg-gray-50"),children:"Standings"}),(0,Te.jsx)("button",{onClick:()=>x("teams"),className:"px-4 py-2 text-sm font-medium rounded transition-colors ".concat("teams"===p?"bg-gray-100 text-black":"text-gray-600 hover:text-black hover:bg-gray-50"),children:"Teams"}),(null===c||void 0===c?void 0:c.prizes)&&c.prizes.length>0&&(0,Te.jsx)("button",{onClick:()=>x("prizes"),className:"px-4 py-2 text-sm font-medium rounded transition-colors ".concat("prizes"===p?"bg-gray-100 text-black":"text-gray-600 hover:text-black hover:bg-gray-50"),children:"Prizes"}),(null===c||void 0===c?void 0:c.analytics)&&(0,Te.jsx)("button",{onClick:()=>x("analytics"),className:"px-4 py-2 text-sm font-medium rounded transition-colors ".concat("analytics"===p?"bg-gray-100 text-black":"text-gray-600 hover:text-black hover:bg-gray-50"),children:"Analytics"})]})}),(0,Te.jsxs)("div",{className:"p-6",children:["overview"===p&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Schedule"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-gray-600",children:"Start Date:"}),(0,Te.jsx)("span",{className:"text-black font-medium",children:W.start_date?new Date(W.start_date).toLocaleDateString():"TBD"})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-gray-600",children:"End Date:"}),(0,Te.jsx)("span",{className:"text-black font-medium",children:W.end_date?new Date(W.end_date).toLocaleDateString():"TBD"})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-gray-600",children:"Time Control:"}),(0,Te.jsx)("span",{className:"text-black font-medium",children:W.time_control||"TBD"})]})]})]}),(W.city||W.state||W.location)&&(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Location"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[W.city&&W.state&&(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-gray-600",children:"City:"}),(0,Te.jsxs)("span",{className:"text-black font-medium",children:[W.city,", ",W.state]})]}),W.location&&(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-gray-600",children:"Venue:"}),(0,Te.jsx)("span",{className:"text-black font-medium",children:W.location})]})]})]}),(W.chief_td_name||W.chief_arbiter_name)&&(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Officials"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[W.chief_td_name&&(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-gray-600",children:"Chief TD:"}),(0,Te.jsx)("span",{className:"text-black font-medium",children:W.chief_td_name})]}),W.chief_arbiter_name&&(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-gray-600",children:"Arbiter:"}),(0,Te.jsx)("span",{className:"text-black font-medium",children:W.chief_arbiter_name})]})]})]}),(W.uscf_rated||W.fide_rated)&&(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Rating"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-gray-600",children:"USCF:"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(W.uscf_rated?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:W.uscf_rated?"Rated":"Unrated"})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-gray-600",children:"FIDE:"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(W.fide_rated?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:W.fide_rated?"Rated":"Unrated"})]})]})]}),W.website&&(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Contact"}),(0,Te.jsx)("div",{className:"space-y-3",children:(0,Te.jsxs)("a",{href:W.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 transition-colors",children:[(0,Te.jsx)(yn,{className:"h-4 w-4"}),(0,Te.jsx)("span",{className:"text-sm",children:"Visit Website"})]})})]})]}),(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Quick Actions"}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("button",{onClick:()=>x("pairings"),className:"group flex flex-col items-center space-y-2 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all duration-300",children:[(0,Te.jsx)(vn,{className:"h-6 w-6 text-blue-600 group-hover:scale-110 transition-transform"}),(0,Te.jsx)("span",{className:"text-sm text-gray-900 font-medium",children:"View Pairings"})]}),(0,Te.jsxs)("button",{onClick:()=>x("standings"),className:"group flex flex-col items-center space-y-2 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all duration-300",children:[(0,Te.jsx)(rt,{className:"h-6 w-6 text-yellow-600 group-hover:scale-110 transition-transform"}),(0,Te.jsx)("span",{className:"text-sm text-gray-900 font-medium",children:"View Standings"})]}),(0,Te.jsxs)("button",{onClick:H,className:"group flex flex-col items-center space-y-2 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all duration-300",children:[(0,Te.jsx)(bn,{className:"h-6 w-6 text-green-600 group-hover:scale-110 transition-transform"}),(0,Te.jsx)("span",{className:"text-sm text-gray-900 font-medium",children:"Share Tournament"})]}),(0,Te.jsxs)("a",{href:"/register/".concat(W.id),className:"group flex flex-col items-center space-y-2 p-4 bg-gradient-to-r from-orange-100 to-red-100 rounded-xl hover:from-orange-200 hover:to-red-200 transition-all duration-300 border border-orange-200",children:[(0,Te.jsx)(Nt,{className:"h-6 w-6 text-orange-600 group-hover:scale-110 transition-transform"}),(0,Te.jsx)("span",{className:"text-sm text-gray-900 font-medium",children:"Register Now"})]})]})]})]}),"pairings"===p&&(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6 space-y-4 lg:space-y-0",children:[(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,Te.jsxs)("h2",{className:"text-xl font-semibold text-black",children:["Round ",y," Pairings"]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>v(Math.max(1,y-1)),disabled:y<=1,className:"p-1 rounded-md bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(wn,{className:"h-4 w-4"})}),(0,Te.jsx)("select",{value:y,onChange:e=>v(parseInt(e.target.value)),className:"px-3 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black",children:Array.from({length:W.rounds},(e,t)=>t+1).map(e=>(0,Te.jsxs)("option",{value:e,children:["Round ",e]},e))}),(0,Te.jsx)("button",{onClick:()=>v(Math.min(W.rounds,y+1)),disabled:y>=W.rounds,className:"p-1 rounded-md bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Nn,{className:"h-4 w-4"})})]}),(0,Te.jsx)("select",{value:g,onChange:e=>b(e.target.value),className:"px-3 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black",children:q().map(e=>(0,Te.jsx)("option",{value:e,children:"all"===e?"All Sections":"".concat(e," Section")},e))})]}),(0,Te.jsxs)("div",{className:"text-sm text-gray-500",children:[(w[y]||[]).length," boards"]})]}),0===(w[y]||[]).length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(rt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"No pairings available for this round"})]}):(0,Te.jsx)("div",{className:"space-y-6",children:(()=>{const e=w[y]||[];let t=e;g&&""!==g&&(t=e.filter(e=>e.section===g));const n={};t.forEach(e=>{const t=e.section||"Open";n[t]||(n[t]=[]),n[t].push(e)});return Object.keys(n).sort().map(e=>{const t=n[e];return t.sort((e,t)=>(e.board||0)-(t.board||0)),(0,Te.jsxs)("div",{className:"border border-gray-200 rounded mb-6",children:[(0,Te.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-black",children:[e," Section"]}),(0,Te.jsxs)("p",{className:"text-sm text-gray-600",children:[t.length," games"]})]}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.boardNumbers?"Board":"#"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"White"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Black"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,Te.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-black",children:j.boardNumbers?"Board ".concat(e.board):e.board}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"w-4 h-4 bg-white border border-gray-300 rounded mr-3"}),e.white_name||"TBD",j.showRatings&&e.white_rating&&(0,Te.jsxs)("span",{className:"text-gray-600 ml-2",children:["(",e.white_rating,")"]}),j.showUscfIds&&e.white_uscf_id&&(0,Te.jsxs)("span",{className:"text-gray-500 ml-2",children:["[",e.white_uscf_id,"]"]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"w-4 h-4 bg-gray-800 border border-gray-300 rounded mr-3"}),e.black_name||"TBD",j.showRatings&&e.black_rating&&(0,Te.jsxs)("span",{className:"text-gray-600 ml-2",children:["(",e.black_rating,")"]}),j.showUscfIds&&e.black_uscf_id&&(0,Te.jsxs)("span",{className:"text-gray-500 ml-2",children:["[",e.black_uscf_id,"]"]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center",children:(0,Te.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-medium rounded ".concat("1-0"===e.result?"bg-green-100 text-green-800":"0-1"===e.result?"bg-red-100 text-red-800":"1/2-1/2"===e.result?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.result||"-"})})]},e.id))})]})})]},e)})})()})]}),"standings"===p&&(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6 space-y-4 lg:space-y-0",children:[(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Current Standings"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search players...",value:E,onChange:e=>F(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black"})]}),(0,Te.jsx)("select",{value:g,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black",children:q().map(e=>(0,Te.jsx)("option",{value:e,children:"all"===e?"All Sections":"".concat(e," Section")},e))})]}),(0,Te.jsxs)("div",{className:"text-sm text-gray-500",children:[B(G).length," players"]})]}),0===G.length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(rt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"No standings available yet"})]}):(0,Te.jsx)("div",{className:"space-y-6",children:(()=>{let e=B(G);g&&""!==g&&(e=e.filter(e=>e.section===g));const t={};e.forEach((e,n)=>{const r=e.section||"Open";t[r]||(t[r]=[]),t[r].push((0,Re.A)((0,Re.A)({},e),{},{originalIndex:n}))});return Object.keys(t).sort().map(e=>{const n=t[e];return n.sort((e,t)=>t.total_points-e.total_points),(0,Te.jsxs)("div",{className:"border border-gray-200 rounded-lg",children:[(0,Te.jsxs)("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[e," Section"]}),(0,Te.jsxs)("p",{className:"text-sm text-gray-600",children:[n.length," players"]})]}),(0,Te.jsx)("div",{className:"p-4",children:(0,Te.jsx)(tn,{standings:n.map(e=>(0,Re.A)((0,Re.A)({},e),{},{tiebreakers:{buchholz:0,sonnebornBerger:0,performanceRating:0,modifiedBuchholz:0,cumulative:0}})),tournament:null===c||void 0===c?void 0:c.tournament,selectedSection:e,showTiebreakers:!1,showPrizes:!0})})]},e)})})()})]}),"teams"===p&&(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Team Standings"}),(0,Te.jsxs)("div",{className:"text-sm text-gray-500",children:[(null===c||void 0===c||null===(o=c.teamStandings)||void 0===o?void 0:o.length)||0," teams"]})]}),null!==c&&void 0!==c&&c.teamStandings&&0!==c.teamStandings.length?(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match Points"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Game Points"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buchholz"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Members"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.teamStandings.map((e,t)=>(0,Te.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t+1}),(0,Te.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.captain_name&&(0,Te.jsxs)("div",{className:"text-sm text-gray-500",children:["Captain: ",e.captain_name]})]}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-900",children:e.match_points||0}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-900",children:e.game_points||0}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-500",children:e.buchholz?e.buchholz.toFixed(1):"-"}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-500",children:e.member_count||0})]},e.id))})]})}):(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(rt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"No team standings available"})]})]}),"prizes"===p&&(null===c||void 0===c?void 0:c.prizes)&&(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Prize Information"}),(0,Te.jsxs)("div",{className:"text-sm text-gray-500",children:[c.prizes.length," prizes"]})]}),0===c.prizes.length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(rt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"No prizes available"})]}):(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.prizes.map(e=>(0,Te.jsxs)("div",{className:"p-6 rounded border border-gray-200 bg-white",children:[(0,Te.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Te.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg mr-4",children:(0,Te.jsx)(rt,{className:"h-6 w-6 text-yellow-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black",children:e.name}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"cash"===e.type?"Cash Prize":"trophy"===e.type?"Trophy":"medal"===e.type?"Medal":"Plaque"})]})]}),e.position&&(0,Te.jsxs)("div",{className:"text-sm text-gray-700 mb-2",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Position:"})," ",e.position,1===e.position&&"st",2===e.position&&"nd",3===e.position&&"rd",e.position>3&&"th"]}),e.rating_category&&(0,Te.jsxs)("div",{className:"text-sm text-gray-700 mb-2",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Category:"})," ",e.rating_category]}),e.section&&(0,Te.jsxs)("div",{className:"text-sm text-gray-700 mb-2",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Section:"})," ",e.section]}),e.amount&&(0,Te.jsxs)("div",{className:"text-lg font-bold text-green-600 mb-2",children:["$",e.amount]}),e.description&&(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]},e.id))})]}),"analytics"===p&&(null===c||void 0===c?void 0:c.analytics)&&(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Tournament Analytics"}),(0,Te.jsxs)("div",{className:"text-sm text-gray-500",children:["Generated: ",new Date(c.analytics.generatedAt).toLocaleDateString()]})]}),(0,Te.jsxs)("div",{className:"space-y-8",children:[c.analytics.overview&&(0,Te.jsxs)("div",{className:"p-6 rounded border border-gray-200 bg-white",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold mb-4 text-black",children:"Overview"}),(0,Te.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(c.analytics.overview).map(e=>{let[t,n]=e;return(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-black",children:"number"===typeof n?n.toLocaleString():String(n)}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:t.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())})]},t)})})]}),c.analytics.topPerformers&&c.analytics.topPerformers.length>0&&(0,Te.jsxs)("div",{className:"p-6 rounded border border-gray-200 bg-white",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold mb-4 text-black",children:"Top Performers"}),(0,Te.jsx)("div",{className:"space-y-3",children:c.analytics.topPerformers.slice(0,5).map((e,t)=>(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-black text-white rounded-full flex items-center justify-center text-sm font-bold mr-3",children:t+1}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"font-medium text-black",children:e.name}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:e.rating&&"Rating: ".concat(e.rating)})]})]}),(0,Te.jsxs)("div",{className:"text-sm font-medium text-black",children:[e.points||e.score||0," points"]})]},t))})]}),c.analytics.playerPerformance&&c.analytics.playerPerformance.length>0&&(0,Te.jsxs)("div",{className:"p-6 rounded border border-gray-200 bg-white",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold mb-4 text-black",children:"Performance Analysis"}),(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(jn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Performance charts would be displayed here"})]})]})]})]})]})]})]})]})},Bs=tt("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),Us=tt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),qs=tt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Hs=e=>{let{tournaments:t,onTournamentClick:n}=e;const[r,s]=(0,a.useState)(new Date),i=e=>e?new Date(e):null,o=e=>{switch(e){case"created":return"Open for Registration";case"active":return"In Progress";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return e}},l=(0,a.useMemo)(()=>{const e={};return t.forEach(t=>{const n=i(t.start_date);if(!n)return;const r="".concat(n.getFullYear(),"-").concat(String(n.getMonth()+1).padStart(2,"0"));"".concat(r,"-").concat(String(n.getDate()).padStart(2,"0"));e[r]||(e[r]=[]),e[r].find(e=>e.id===t.id)||e[r].push(t)}),e},[t]),c=l["".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"))]||[],d=(0,a.useMemo)(()=>{const e={};return c.forEach(t=>{const n=i(t.start_date);if(!n)return;const r="".concat(n.getFullYear(),"-").concat(String(n.getMonth()+1).padStart(2,"0"),"-").concat(String(n.getDate()).padStart(2,"0"));e[r]||(e[r]=[]),e[r].push(t)}),e},[c]),u=e=>{s(t=>{const n=new Date(t);return"prev"===e?n.setMonth(t.getMonth()-1):n.setMonth(t.getMonth()+1),n})},h=e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),m=(e=>{const t=e.getFullYear(),n=e.getMonth(),r=new Date(t,n,1),a=new Date(t,n+1,0).getDate(),s=r.getDay(),i=[];for(let o=0;o<s;o++)i.push(null);for(let o=1;o<=a;o++)i.push(new Date(t,n,o));return i})(r);return(0,Te.jsxs)("div",{className:"bg-white",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsx)("button",{onClick:()=>u("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Te.jsx)(wn,{className:"h-5 w-5 text-gray-600"})}),(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:(f=r,f.toLocaleDateString("en-US",{year:"numeric",month:"long"}))}),(0,Te.jsx)("button",{onClick:()=>u("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Te.jsx)(Nn,{className:"h-5 w-5 text-gray-600"})})]}),(0,Te.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,Te.jsx)("div",{className:"grid grid-cols-7 bg-gray-50",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,Te.jsx)("div",{className:"p-3 text-center text-sm font-medium text-gray-700 border-r border-gray-200 last:border-r-0",children:e},e))}),(0,Te.jsx)("div",{className:"grid grid-cols-7",children:m.map((e,t)=>{if(!e)return(0,Te.jsx)("div",{className:"h-24 border-r border-b border-gray-200 last:border-r-0"},t);const r="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0")),a=d[r]||[],s=(e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()})(e);return(0,Te.jsxs)("div",{className:"h-24 border-r border-b border-gray-200 last:border-r-0 p-2 ".concat(s?"bg-blue-50":"bg-white"," hover:bg-gray-50 transition-colors"),children:[(0,Te.jsx)("div",{className:"text-sm font-medium mb-1 ".concat(s?"text-blue-600":"text-gray-900"),children:e.getDate()}),(0,Te.jsxs)("div",{className:"space-y-1",children:[a.slice(0,2).map(e=>(0,Te.jsx)("div",{className:"text-xs p-1 rounded cursor-pointer truncate ".concat("active"===e.status?"bg-green-100 text-green-800 hover:bg-green-200":"completed"===e.status?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"),onClick:()=>null===n||void 0===n?void 0:n(e),title:e.name,children:e.name},e.id)),a.length>2&&(0,Te.jsxs)("div",{className:"text-xs text-gray-500",children:["+",a.length-2," more"]})]})]},t)})})]}),Object.keys(d).length>0&&(0,Te.jsxs)("div",{className:"mt-8",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tournaments this month"}),(0,Te.jsx)("div",{className:"space-y-4",children:Object.entries(d).sort((e,t)=>{let[n]=e,[r]=t;return n.localeCompare(r)}).map(e=>{let[t,n]=e;const r=new Date(t);return(0,Te.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 text-gray-500"}),(0,Te.jsx)("span",{className:"font-medium text-gray-900",children:h(r)})]}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(e=>(0,Te.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors",children:[(0,Te.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Te.jsx)("h4",{className:"font-medium text-gray-900 text-sm line-clamp-2",children:e.name}),(0,Te.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded ".concat("active"===e.status?"bg-green-100 text-green-800":"completed"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:o(e.status)})]}),(0,Te.jsxs)("div",{className:"space-y-2 text-xs text-gray-600",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Format:"}),(0,Te.jsx)("span",{className:"capitalize",children:e.format.replace("-"," ")})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Rounds:"}),(0,Te.jsx)("span",{children:e.rounds})]}),e.time_control&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(Lt,{className:"h-3 w-3"}),(0,Te.jsx)("span",{children:e.time_control})]}),(e.city||e.state)&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(qs,{className:"h-3 w-3"}),(0,Te.jsx)("span",{children:e.city&&e.state?"".concat(e.city,", ").concat(e.state):e.city||e.state})]}),e.expected_players&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(Nt,{className:"h-3 w-3"}),(0,Te.jsxs)("span",{children:[e.expected_players," players"]})]})]}),(0,Te.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,Te.jsx)(Pe,{to:"/register/".concat(e.id),className:"flex-1 bg-black text-white text-center py-1.5 px-3 rounded text-xs font-medium hover:bg-gray-800 transition-colors",children:"Register"}),(0,Te.jsx)(Pe,{to:"/public/tournaments/".concat(e.id),className:"flex-1 border border-gray-300 text-gray-700 text-center py-1.5 px-3 rounded text-xs font-medium hover:bg-gray-50 transition-colors",children:"View"}),e.website&&(0,Te.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded transition-colors",title:"Visit tournament website",children:(0,Te.jsx)(Rt,{className:"h-3 w-3"})})]})]},e.id))})]},t)})})]})]});var f},Ws=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)("all"),[u,h]=(0,a.useState)("grid");(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{r(!0);const e=await St.Sj.getAll();if(!e.data.success)throw new Error("Failed to fetch tournaments");{const n=e.data.data.filter(e=>"created"===e.status||"active"===e.status);t(n)}}catch(s){console.error("Error fetching tournaments:",s),i("Failed to fetch tournaments")}finally{r(!1)}},f=e=>{switch(e){case"created":return"Open for Registration";case"active":return"In Progress";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return e}},p=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"TBD",x=e.filter(e=>{var t,n;const r=e.name.toLowerCase().includes(o.toLowerCase())||(null===(t=e.city)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(n=e.state)||void 0===n?void 0:n.toLowerCase().includes(o.toLowerCase())),a="all"===c||e.status===c;return r&&a});return n?(0,Te.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 border-t-black mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-gray-600 text-sm",children:"Loading tournaments..."})]})}):s?(0,Te.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center space-y-6 max-w-md mx-auto px-6",children:[(0,Te.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-6 py-4 rounded",children:[(0,Te.jsx)("p",{className:"font-medium mb-2",children:"Error"}),(0,Te.jsx)("p",{className:"text-sm",children:s})]}),(0,Te.jsx)("button",{onClick:m,className:"inline-flex items-center space-x-2 bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition-colors text-sm",children:(0,Te.jsx)("span",{children:"Try Again"})})]})}):(0,Te.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Te.jsx)("nav",{className:"border-b border-gray-200 bg-white",children:(0,Te.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Te.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Te.jsx)(Pe,{to:"/public/tournaments",className:"flex items-center",children:(0,Te.jsx)(lt,{size:"sm",showText:!0})}),(0,Te.jsxs)(Pe,{to:"/",className:"inline-flex items-center space-x-2 text-gray-600 hover:text-black text-sm",children:[(0,Te.jsx)(nt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Admin Dashboard"})]})]})})}),(0,Te.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Te.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-black mb-4",children:"Chess Tournaments"}),(0,Te.jsx)("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Discover and register for upcoming chess tournaments. Find your perfect competition and showcase your skills."})]})})}),(0,Te.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded mb-8 p-6",children:[(0,Te.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-black mb-4 lg:mb-0",children:"Find your tournament"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{className:"text-sm text-gray-600",children:"View:"}),(0,Te.jsxs)("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[(0,Te.jsxs)("button",{onClick:()=>h("grid"),className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium transition-colors ".concat("grid"===u?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:[(0,Te.jsx)(Bs,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Grid"})]}),(0,Te.jsxs)("button",{onClick:()=>h("calendar"),className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium transition-colors ".concat("calendar"===u?"bg-black text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:[(0,Te.jsx)(Us,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Calendar"})]})]})]})]}),(0,Te.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Te.jsx)("div",{className:"flex-1",children:(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search tournaments by name, city, or state...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black"})]})}),(0,Te.jsx)("div",{className:"md:w-64",children:(0,Te.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black",children:[(0,Te.jsx)("option",{value:"all",children:"All Status"}),(0,Te.jsx)("option",{value:"created",children:"Open for Registration"}),(0,Te.jsx)("option",{value:"active",children:"In Progress"})]})})]})]}),0===x.length?(0,Te.jsxs)("div",{className:"text-center py-16",children:[(0,Te.jsx)(rt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-2",children:"No tournaments found"}),(0,Te.jsx)("p",{className:"text-gray-600 max-w-md mx-auto",children:o||"all"!==c?"Try adjusting your search criteria to find more tournaments":"No tournaments are currently accepting registrations"})]}):"calendar"===u?(0,Te.jsx)(Hs,{tournaments:x,onTournamentClick:e=>{console.log("Tournament clicked:",e)}}):(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(e=>(0,Te.jsx)("div",{className:"bg-white border border-gray-200 rounded hover:shadow-md transition-shadow",children:(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-3",children:e.name}),(0,Te.jsx)("div",{className:"flex items-center space-x-3 mb-4",children:(0,Te.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded ".concat("active"===e.status?"bg-green-100 text-green-800":"completed"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:f(e.status)})})]}),e.website&&(0,Te.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Visit tournament website",children:(0,Te.jsx)(Rt,{className:"h-4 w-4"})})]}),(0,Te.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Format:"}),(0,Te.jsx)("span",{className:"ml-2 capitalize text-black",children:e.format.replace("-"," ")})]}),(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Rounds:"}),(0,Te.jsx)("span",{className:"ml-2 text-black",children:e.rounds})]}),e.time_control&&(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Time Control:"}),(0,Te.jsx)("span",{className:"ml-2 text-black",children:e.time_control})]}),(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Date:"}),(0,Te.jsx)("span",{className:"ml-2 text-black",children:e.start_date&&e.end_date&&e.start_date!==e.end_date?"".concat(p(e.start_date)," - ").concat(p(e.end_date)):p(e.start_date)})]}),(e.city||e.state)&&(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Location:"}),(0,Te.jsx)("span",{className:"ml-2 text-black",children:e.city&&e.state?"".concat(e.city,", ").concat(e.state):e.city||e.state})]}),e.location&&(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Venue:"}),(0,Te.jsx)("span",{className:"ml-2 text-black",children:e.location})]}),e.expected_players&&(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Expected:"}),(0,Te.jsxs)("span",{className:"ml-2 text-black",children:[e.expected_players," players"]})]}),(e.chief_td_name||e.chief_arbiter_name)&&(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Officials:"}),(0,Te.jsxs)("span",{className:"ml-2 text-black",children:[e.chief_td_name&&"TD: ".concat(e.chief_td_name),e.chief_td_name&&e.chief_arbiter_name&&", ",e.chief_arbiter_name&&"Arbiter: ".concat(e.chief_arbiter_name)]})]}),(e.uscf_rated||e.fide_rated)&&(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Rated:"}),(0,Te.jsxs)("span",{className:"ml-2 text-black",children:[e.uscf_rated&&"USCF",e.uscf_rated&&e.fide_rated&&" / ",e.fide_rated&&"FIDE"]})]})]}),(0,Te.jsxs)("div",{className:"flex space-x-3",children:[(0,Te.jsx)(Pe,{to:"/register/".concat(e.id),className:"flex-1 bg-black text-white text-center py-2 px-4 rounded hover:bg-gray-800 transition-colors text-sm font-medium",children:"Register"}),(0,Te.jsx)(Pe,{to:"/public/tournaments/".concat(e.id),className:"flex-1 border border-gray-300 text-gray-700 text-center py-2 px-4 rounded hover:bg-gray-50 transition-colors text-sm font-medium",children:"View Details"})]})]})},e.id))}),(0,Te.jsx)("div",{className:"text-center mt-16 py-12 border-t border-gray-200",children:(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-8 max-w-2xl mx-auto",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Organize your own tournament"}),(0,Te.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Ready to create and manage your own chess tournament? Our professional tournament management system makes it easy to organize world-class events."}),(0,Te.jsxs)("a",{href:"/",className:"inline-flex items-center space-x-2 bg-black text-white px-6 py-2 rounded hover:bg-gray-800 transition-colors text-sm font-medium",children:[(0,Te.jsx)(rt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Get Started"})]})]})})]})]})},Vs=tt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Gs=tt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Ys=tt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Js=tt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Ks=tt("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),$s=tt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Xs=tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Qs=tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Zs=tt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),ei=()=>{var e,t,n,r,s,i,o,l,c,d,u,h,m,f,p,x,g,b,y,v,w,N,j,k,S,_,A,C,L,P,E,F,R,T,O,I,D,z,M,B,U,q,H,W,V,G,Y,J,K,$,X,Q,Z,ee,te,ne,ae,se,ie,oe,le,ce,de,ue,he,me,fe,pe,xe,ge,be,ye,ve,we,Ne,je,ke,Se,_e,Ae,Ce,Le,Ee,Fe,Re,Oe;const{slug:Ie}=re(),[De,ze]=(0,a.useState)(null),[Me,Be]=(0,a.useState)([]),[Ue,qe]=(0,a.useState)(null),[He,We]=(0,a.useState)(!0),[Ve,Ye]=(0,a.useState)(null),[Je,Ke]=(0,a.useState)("grid"),[$e,Xe]=(0,a.useState)("all"),[Qe,Ze]=(0,a.useState)("all"),[et,tt]=(0,a.useState)(1),[nt,at]=(0,a.useState)(null);(0,a.useEffect)(()=>{Ie&&st()},[Ie]);const st=async()=>{try{We(!0),Ye(null);const[e,t,n]=await Promise.all([Ge.getPublicOrganization(Ie),Ge.getPublicTournaments(Ie,{status:"all"!==$e?$e:void 0,format:"all"!==Qe?Qe:void 0,limit:12,offset:12*(et-1)}),Ge.getOrganizationStats(Ie)]);ze(e.data.organization),Be(t.data.tournaments),at(t.data.pagination),qe(n.data)}catch(Ve){var e,t;Ye((null===(e=Ve.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to load organization data")}finally{We(!1)}};(0,a.useEffect)(()=>{st()},[Ie,$e,Qe,et]);const it=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});if(He)return(0,Te.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})});if(Ve)return(0,Te.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,Te.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,Te.jsx)("strong",{className:"font-bold",children:"Error: "}),(0,Te.jsx)("span",{className:"block sm:inline",children:Ve})]})});if(!De)return(0,Te.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Organization Not Found"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"The organization you're looking for doesn't exist or is not public."})]})});const ot=e=>{switch(e){case"facebook":return"text-blue-600 hover:text-blue-700";case"twitter":return"text-blue-400 hover:text-blue-500";case"instagram":return"text-pink-500 hover:text-pink-600";case"youtube":return"text-red-600 hover:text-red-700";case"discord":return"text-indigo-600 hover:text-indigo-700";case"linkedin":return"text-blue-700 hover:text-blue-800";case"twitch":return"text-purple-600 hover:text-purple-700";case"tiktok":return"text-black hover:text-gray-800";default:return"text-gray-600 hover:text-gray-700"}},lt=e=>{switch(e){case"active":return"bg-green-100 text-green-800 border-green-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";case"created":default:return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200"}},ct=e=>e.includes("team")?Nt:e.includes("blitz")?Lt:e.includes("rapid")?jt:rt,dt=(null!==De&&void 0!==De&&De.settings&&(null===(e=De.settings.theme)||void 0===e||e.primaryColor,null===(t=De.settings.theme)||void 0===t||t.secondaryColor,null===(n=De.settings.theme)||void 0===n||n.backgroundColor,null===(r=De.settings.theme)||void 0===r||r.textColor,null===(s=De.settings.theme)||void 0===s||s.accentColor,null===(i=De.settings.theme)||void 0===i||i.borderColor,null===(o=De.settings.theme)||void 0===o||o.hoverColor,null===(l=De.settings.theme)||void 0===l||l.borderRadius,null===(c=De.settings.theme)||void 0===c||c.spacing),(null===De||void 0===De||null===(d=De.settings)||void 0===d||null===(u=d.layout)||void 0===u?void 0:u.headerStyle)||"default"),ut=(null===De||void 0===De||null===(h=De.settings)||void 0===h||null===(m=h.layout)||void 0===m?void 0:m.cardStyle)||"default",ht=!1!==(null===De||void 0===De||null===(f=De.settings)||void 0===f||null===(p=f.layout)||void 0===p?void 0:p.showStats),mt=!1!==(null===De||void 0===De||null===(x=De.settings)||void 0===x||null===(g=x.layout)||void 0===g?void 0:g.showSocialLinks);return(0,Te.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:(null===De||void 0===De||null===(b=De.settings)||void 0===b||null===(y=b.theme)||void 0===y?void 0:y.backgroundColor)||"#F9FAFB"},children:[(null===De||void 0===De||null===(v=De.settings)||void 0===v||null===(w=v.branding)||void 0===w?void 0:w.customCss)&&(0,Te.jsx)("style",{dangerouslySetInnerHTML:{__html:De.settings.branding.customCss}}),(null===De||void 0===De||null===(N=De.settings)||void 0===N||null===(j=N.branding)||void 0===j?void 0:j.customFontUrl)&&(0,Te.jsx)("link",{rel:"stylesheet",href:De.settings.branding.customFontUrl}),(0,Te.jsx)("div",{className:"shadow-sm ".concat("hero"===dt?"bg-gradient-to-r from-blue-600 to-blue-800 text-white":"minimal"===dt?"bg-transparent shadow-none":"bg-white"),style:{backgroundColor:"hero"===dt?void 0:(null===De||void 0===De||null===(k=De.settings)||void 0===k||null===(S=k.theme)||void 0===S?void 0:S.backgroundColor)||"#FFFFFF",color:"hero"===dt?void 0:(null===De||void 0===De||null===(_=De.settings)||void 0===_||null===(A=_.theme)||void 0===A?void 0:A.textColor)||"#1F2937"},children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsx)("div",{className:"flex items-start justify-between",children:(0,Te.jsxs)("div",{className:"flex items-start space-x-6",children:[(null===De||void 0===De?void 0:De.logoUrl)&&(0,Te.jsx)("img",{src:De.logoUrl,alt:"".concat(De.name," logo"),className:"h-20 w-20 object-cover border border-gray-200",style:{borderRadius:(null===De||void 0===De||null===(C=De.settings)||void 0===C||null===(L=C.theme)||void 0===L?void 0:L.borderRadius)||"8px"}}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold mb-2",style:{color:"hero"===dt?"white":(null===De||void 0===De||null===(P=De.settings)||void 0===P||null===(E=P.theme)||void 0===E?void 0:E.textColor)||"#1F2937",fontFamily:(null===De||void 0===De||null===(F=De.settings)||void 0===F||null===(R=F.branding)||void 0===R?void 0:R.customFont)||"inherit"},children:(null===(T=De.settings)||void 0===T||null===(O=T.branding)||void 0===O?void 0:O.headerText)||(null===De||void 0===De?void 0:De.name)}),((null===De||void 0===De?void 0:De.description)||(null===(I=De.settings)||void 0===I||null===(D=I.branding)||void 0===D?void 0:D.tagline))&&(0,Te.jsx)("p",{className:"text-lg mb-4 max-w-3xl",style:{color:"hero"===dt?"rgba(255,255,255,0.8)":(null===De||void 0===De||null===(z=De.settings)||void 0===z||null===(M=z.theme)||void 0===M?void 0:M.textColor)||"#6B7280"},children:(null===(B=De.settings)||void 0===B||null===(U=B.branding)||void 0===U?void 0:U.tagline)||De.description}),(0,Te.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-4",children:[(null===De||void 0===De?void 0:De.website)&&(0,Te.jsxs)("a",{href:De.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-blue-600 transition-colors",children:[(0,Te.jsx)(yn,{className:"h-4 w-4 mr-1"}),"Website"]}),(null===De||void 0===De?void 0:De.contactEmail)&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(ft,{className:"h-4 w-4 mr-1"}),De.contactEmail]}),(null===De||void 0===De?void 0:De.contactPhone)&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(Qs,{className:"h-4 w-4 mr-1"}),De.contactPhone]}),((null===De||void 0===De?void 0:De.city)||(null===De||void 0===De?void 0:De.state))&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(qs,{className:"h-4 w-4 mr-1"}),null!==De&&void 0!==De&&De.city&&null!==De&&void 0!==De&&De.state?"".concat(De.city,", ").concat(De.state):(null===De||void 0===De?void 0:De.city)||(null===De||void 0===De?void 0:De.state)]})]}),mt&&(null===De||void 0===De||null===(q=De.settings)||void 0===q?void 0:q.social)&&Object.keys(De.settings.social).length>0&&(0,Te.jsx)("div",{className:"flex items-center space-x-3",children:Object.entries(De.settings.social).map(e=>{var t,n;let[r,a]=e;if(!a)return null;const s=(e=>{switch(e){case"facebook":return Vs;case"twitter":return Gs;case"instagram":return Ys;case"youtube":return Js;case"discord":return Ks;default:return yn}})(r);return(0,Te.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"".concat(ot(r)," transition-colors"),style:{color:"hero"===dt?"white":(null===De||void 0===De||null===(t=De.settings)||void 0===t||null===(n=t.theme)||void 0===n?void 0:n.primaryColor)||"#3B82F6"},children:(0,Te.jsx)(s,{className:"h-5 w-5"})},r)})})]})]})})})}),ht&&Ue&&(0,Te.jsx)("div",{className:"border-b",style:{backgroundColor:(null===De||void 0===De||null===(H=De.settings)||void 0===H||null===(W=H.theme)||void 0===W?void 0:W.backgroundColor)||"#FFFFFF",borderColor:(null===De||void 0===De||null===(V=De.settings)||void 0===V||null===(G=V.theme)||void 0===G?void 0:G.borderColor)||"#E5E7EB"},children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Te.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg mx-auto mb-2",style:{backgroundColor:"".concat((null===De||void 0===De||null===(Y=De.settings)||void 0===Y||null===(J=Y.theme)||void 0===J?void 0:J.primaryColor)||"#3B82F6","20"),borderRadius:(null===De||void 0===De||null===(K=De.settings)||void 0===K||null===($=K.theme)||void 0===$?void 0:$.borderRadius)||"8px"},children:(0,Te.jsx)(rt,{className:"h-6 w-6",style:{color:(null===De||void 0===De||null===(X=De.settings)||void 0===X||null===(Q=X.theme)||void 0===Q?void 0:Q.primaryColor)||"#3B82F6"}})}),(0,Te.jsx)("div",{className:"text-2xl font-bold",style:{color:(null===De||void 0===De||null===(Z=De.settings)||void 0===Z||null===(ee=Z.theme)||void 0===ee?void 0:ee.textColor)||"#1F2937"},children:Ue.tournaments.total_tournaments}),(0,Te.jsx)("div",{className:"text-sm",style:{color:(null===De||void 0===De||null===(te=De.settings)||void 0===te||null===(ne=te.theme)||void 0===ne?void 0:ne.textColor)||"#6B7280"},children:"Total Tournaments"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg mx-auto mb-2",style:{backgroundColor:"".concat((null===De||void 0===De||null===(ae=De.settings)||void 0===ae||null===(se=ae.theme)||void 0===se?void 0:se.accentColor)||"#10B981","20"),borderRadius:(null===De||void 0===De||null===(ie=De.settings)||void 0===ie||null===(oe=ie.theme)||void 0===oe?void 0:oe.borderRadius)||"8px"},children:(0,Te.jsx)(jt,{className:"h-6 w-6",style:{color:(null===De||void 0===De||null===(le=De.settings)||void 0===le||null===(ce=le.theme)||void 0===ce?void 0:ce.accentColor)||"#10B981"}})}),(0,Te.jsx)("div",{className:"text-2xl font-bold",style:{color:(null===De||void 0===De||null===(de=De.settings)||void 0===de||null===(ue=de.theme)||void 0===ue?void 0:ue.textColor)||"#1F2937"},children:Ue.tournaments.active_tournaments}),(0,Te.jsx)("div",{className:"text-sm",style:{color:(null===De||void 0===De||null===(he=De.settings)||void 0===he||null===(me=he.theme)||void 0===me?void 0:me.textColor)||"#6B7280"},children:"Active"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg mx-auto mb-2",style:{backgroundColor:"".concat((null===De||void 0===De||null===(fe=De.settings)||void 0===fe||null===(pe=fe.theme)||void 0===pe?void 0:pe.secondaryColor)||"#8B5CF6","20"),borderRadius:(null===De||void 0===De||null===(xe=De.settings)||void 0===xe||null===(ge=xe.theme)||void 0===ge?void 0:ge.borderRadius)||"8px"},children:(0,Te.jsx)(rn,{className:"h-6 w-6",style:{color:(null===De||void 0===De||null===(be=De.settings)||void 0===be||null===(ye=be.theme)||void 0===ye?void 0:ye.secondaryColor)||"#8B5CF6"}})}),(0,Te.jsx)("div",{className:"text-2xl font-bold",style:{color:(null===De||void 0===De||null===(ve=De.settings)||void 0===ve||null===(we=ve.theme)||void 0===we?void 0:we.textColor)||"#1F2937"},children:Ue.tournaments.completed_tournaments}),(0,Te.jsx)("div",{className:"text-sm",style:{color:(null===De||void 0===De||null===(Ne=De.settings)||void 0===Ne||null===(je=Ne.theme)||void 0===je?void 0:je.textColor)||"#6B7280"},children:"Completed"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg mx-auto mb-2",style:{backgroundColor:"".concat((null===De||void 0===De||null===(ke=De.settings)||void 0===ke||null===(Se=ke.theme)||void 0===Se?void 0:Se.primaryColor)||"#F59E0B","20"),borderRadius:(null===De||void 0===De||null===(_e=De.settings)||void 0===_e||null===(Ae=_e.theme)||void 0===Ae?void 0:Ae.borderRadius)||"8px"},children:(0,Te.jsx)(Nt,{className:"h-6 w-6",style:{color:(null===De||void 0===De||null===(Ce=De.settings)||void 0===Ce||null===(Le=Ce.theme)||void 0===Le?void 0:Le.primaryColor)||"#F59E0B"}})}),(0,Te.jsx)("div",{className:"text-2xl font-bold",style:{color:(null===De||void 0===De||null===(Ee=De.settings)||void 0===Ee||null===(Fe=Ee.theme)||void 0===Fe?void 0:Fe.textColor)||"#1F2937"},children:Ue.players.total_players}),(0,Te.jsx)("div",{className:"text-sm",style:{color:(null===De||void 0===De||null===(Re=De.settings)||void 0===Re||null===(Oe=Re.theme)||void 0===Oe?void 0:Oe.textColor)||"#6B7280"},children:"Players"})]})]})})}),(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tournaments"}),(0,Te.jsxs)("p",{className:"text-gray-600",children:["Browse tournaments organized by ",null===De||void 0===De?void 0:De.name]})]}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsxs)("select",{value:$e,onChange:e=>Xe(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"all",children:"All Status"}),(0,Te.jsx)("option",{value:"created",children:"Upcoming"}),(0,Te.jsx)("option",{value:"active",children:"Active"}),(0,Te.jsx)("option",{value:"completed",children:"Completed"})]}),(0,Te.jsxs)("select",{value:Qe,onChange:e=>Ze(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"all",children:"All Formats"}),(0,Te.jsx)("option",{value:"swiss",children:"Swiss"}),(0,Te.jsx)("option",{value:"round-robin",children:"Round Robin"}),(0,Te.jsx)("option",{value:"team-swiss",children:"Team Swiss"}),(0,Te.jsx)("option",{value:"blitz",children:"Blitz"})]})]}),(0,Te.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[(0,Te.jsx)("button",{onClick:()=>Ke("grid"),className:"p-2 rounded-md transition-colors ".concat("grid"===Je?"bg-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,Te.jsx)(Bs,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>Ke("list"),className:"p-2 rounded-md transition-colors ".concat("list"===Je?"bg-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:(0,Te.jsx)(Zs,{className:"h-4 w-4"})})]})]})]}),0===Me.length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)("div",{className:"text-gray-400 mb-4",children:(0,Te.jsx)(rt,{className:"mx-auto h-12 w-12"})}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tournaments Found"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"all"!==$e||"all"!==Qe?"No tournaments match your current filters.":"".concat(null===De||void 0===De?void 0:De.name," hasn't made any tournaments public yet.")})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"grid"===Je?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:Me.map("grid"===Je?e=>{var t,n,r,s,i,o,l,c,d,u;return(0,Te.jsx)("div",{className:"transition-all duration-200 ".concat("minimal"===ut?"bg-transparent border-0 shadow-none":"elevated"===ut?"shadow-xl hover:shadow-2xl":"shadow hover:shadow-lg"),style:{backgroundColor:"minimal"===ut?"transparent":(null===De||void 0===De||null===(t=De.settings)||void 0===t||null===(n=t.theme)||void 0===n?void 0:n.backgroundColor)||"#FFFFFF",borderRadius:(null===De||void 0===De||null===(r=De.settings)||void 0===r||null===(s=r.theme)||void 0===s?void 0:s.borderRadius)||"8px",borderColor:(null===De||void 0===De||null===(i=De.settings)||void 0===i||null===(o=i.theme)||void 0===o?void 0:o.borderColor)||"#E5E7EB",border:"minimal"===ut?"none":"1px solid ".concat((null===De||void 0===De||null===(l=De.settings)||void 0===l||null===(c=l.theme)||void 0===c?void 0:c.borderColor)||"#E5E7EB")},children:(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold line-clamp-2 mb-1",style:{color:(null===De||void 0===De||null===(d=De.settings)||void 0===d||null===(u=d.theme)||void 0===u?void 0:u.textColor)||"#1F2937"},children:e.name}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[a.createElement(ct(e.format),{className:"h-4 w-4 text-gray-500"}),(0,Te.jsx)("span",{className:"text-sm text-gray-600 capitalize",children:e.format.replace("-"," ")})]})]}),(0,Te.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full border ".concat(lt(e.status)),children:e.status})]}),(0,Te.jsxs)("div",{className:"space-y-3 text-sm text-gray-600 mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 mr-2 text-gray-400"}),"Rounds"]}),(0,Te.jsx)("span",{className:"font-medium",children:e.rounds})]}),e.timeControl&&(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(Lt,{className:"h-4 w-4 mr-2 text-gray-400"}),"Time Control"]}),(0,Te.jsx)("span",{className:"font-medium",children:e.timeControl})]}),e.startDate&&(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 mr-2 text-gray-400"}),"Start Date"]}),(0,Te.jsx)("span",{className:"font-medium",children:it(e.startDate)})]}),e.location&&(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(qs,{className:"h-4 w-4 mr-2 text-gray-400"}),"Location"]}),(0,Te.jsx)("span",{className:"font-medium truncate ml-2",children:e.location})]}),e.fideRated&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)($s,{className:"h-4 w-4 mr-2 text-yellow-500"}),(0,Te.jsx)("span",{className:"text-xs text-yellow-700 font-medium",children:"FIDE Rated"})]}),e.uscfRated&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(rn,{className:"h-4 w-4 mr-2 text-blue-500"}),(0,Te.jsx)("span",{className:"text-xs text-blue-700 font-medium",children:"USCF Rated"})]})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[(0,Te.jsxs)(Pe,{to:"/public/organizations/".concat(null===De||void 0===De?void 0:De.slug,"/tournaments/").concat(e.id),className:"text-blue-600 hover:text-blue-800 font-medium text-sm flex items-center",children:["View Tournament",(0,Te.jsx)(Xs,{className:"h-4 w-4 ml-1"})]}),e.allowRegistration&&"created"===e.status&&(0,Te.jsx)(Pe,{to:"/register/".concat(e.id),className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors font-medium",children:"Register"})]})]})},e.id)}:e=>(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-all duration-200 border border-gray-200 p-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4 mb-2",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Te.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full border ".concat(lt(e.status)),children:e.status})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[(0,Te.jsxs)("span",{className:"flex items-center",children:[a.createElement(ct(e.format),{className:"h-4 w-4 mr-2"}),e.format.replace("-"," ")]}),(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 mr-2"}),e.rounds," rounds"]}),e.startDate&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(Lt,{className:"h-4 w-4 mr-2"}),it(e.startDate)]}),e.location&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(qs,{className:"h-4 w-4 mr-2"}),e.location]})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsxs)(Pe,{to:"/public/organizations/".concat(null===De||void 0===De?void 0:De.slug,"/tournaments/").concat(e.id),className:"text-blue-600 hover:text-blue-800 font-medium text-sm flex items-center",children:["View",(0,Te.jsx)(Xs,{className:"h-4 w-4 ml-1"})]}),e.allowRegistration&&"created"===e.status&&(0,Te.jsx)(Pe,{to:"/register/".concat(e.id),className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors font-medium",children:"Register"})]})]})},e.id))}),nt&&nt.total>nt.limit&&(0,Te.jsxs)("div",{className:"flex items-center justify-between mt-8",children:[(0,Te.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",nt.offset+1," to ",Math.min(nt.offset+nt.limit,nt.total)," of ",nt.total," tournaments"]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>tt(e=>Math.max(1,e-1)),disabled:1===et,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(wn,{className:"h-4 w-4"})}),(0,Te.jsxs)("span",{className:"px-3 py-2 text-sm font-medium text-gray-700",children:["Page ",et," of ",Math.ceil(nt.total/nt.limit)]}),(0,Te.jsx)("button",{onClick:()=>tt(e=>e+1),disabled:!nt.hasMore,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Nn,{className:"h-4 w-4"})})]})]})]})]})]})},ti=()=>{const{orgSlug:e,tournamentId:t}=re(),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)("overview"),[u,h]=(0,a.useState)(""),[m,f]=(0,a.useState)(1),[p,x]=(0,a.useState)({}),[g,b]=(0,a.useState)({showRatings:!0,showUscfIds:!1,boardNumbers:!0,displayFormat:"default"}),[y,v]=(0,a.useState)(!1),[w,N]=(0,a.useState)(!1),[j,k]=(0,a.useState)(null),[S,_]=(0,a.useState)(""),[A,C]=(0,a.useState)(!1),[L,P]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=()=>{C(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const E=(0,a.useCallback)(async()=>{if(e&&t)try{i(!0),l(null);const n=await Ge.getPublicTournament(e,t);if(!n.success)throw new Error(n.error||"Failed to load tournament data");r(n.data),k(new Date),F(n.data.tournament.rounds).catch(e=>{console.warn("Failed to fetch all rounds data:",e)})}catch(er){var n,a;console.error("Failed to fetch public tournament data:",er),l((null===(n=er.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to load tournament data")}finally{i(!1)}},[e,t]),F=async n=>{if(e&&t)try{const e={};for(let t=1;t<=n;t++)try{console.log("Would fetch round ".concat(t," data"))}catch(er){console.warn("Failed to fetch round ".concat(t," data:"),er)}x(e)}catch(er){console.error("Failed to fetch all rounds data:",er)}};(0,a.useEffect)(()=>{E()},[E]),(0,a.useEffect)(()=>{if(!w||!n)return;const e=setInterval(()=>{E()},3e4);return()=>clearInterval(e)},[w,n,E]);null===n||void 0===n||n.players.filter(e=>{var t;return!S||"".concat(e.first_name," ").concat(e.last_name).toLowerCase().includes(S.toLowerCase())||(null===(t=e.uscf_id)||void 0===t?void 0:t.toLowerCase().includes(S.toLowerCase()))});return s?(0,Te.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):o?(0,Te.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,Te.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,Te.jsx)("strong",{className:"font-bold",children:"Error: "}),(0,Te.jsx)("span",{className:"block sm:inline",children:o})]})}):n?(0,Te.jsxs)("div",{className:"min-h-screen ".concat(L?"bg-gray-900":"bg-gray-50"),children:[(0,Te.jsx)("div",{className:"".concat(L?"bg-gray-800":"bg-white"," shadow-sm sticky top-0 z-40"),children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Te.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Te.jsx)("div",{className:"flex items-center space-x-4",children:(0,Te.jsxs)(Pe,{to:"/public/organizations/".concat(e),className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,Te.jsx)(Et,{className:"h-5 w-5 mr-2"}),"Back to ",n.organization.name]})}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("button",{onClick:()=>P(!L),className:"p-2 rounded-md text-gray-400 hover:text-gray-500",children:L?(0,Te.jsx)(ut,{className:"h-5 w-5"}):(0,Te.jsx)(dt,{className:"h-5 w-5"})}),(0,Te.jsx)("button",{onClick:async()=>{if(navigator.share)try{await navigator.share({title:"".concat(null===n||void 0===n?void 0:n.tournament.name," - ").concat(null===n||void 0===n?void 0:n.organization.name),text:"Check out this chess tournament: ".concat(null===n||void 0===n?void 0:n.tournament.name),url:window.location.href})}catch(o){console.log("Error sharing:",o)}else navigator.clipboard.writeText(window.location.href)},className:"p-2 rounded-md text-gray-400 hover:text-gray-500",children:(0,Te.jsx)(bn,{className:"h-5 w-5"})}),(0,Te.jsx)("button",{onClick:()=>v(!y),className:"p-2 rounded-md text-gray-400 hover:text-gray-500",children:(0,Te.jsx)(Mt,{className:"h-5 w-5"})})]})]})})}),(0,Te.jsx)("div",{className:"".concat(L?"bg-gray-800":"bg-white"," shadow"),children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Te.jsx)(vt,{className:"h-6 w-6 text-blue-600"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-gray-500",children:n.organization.name})]}),(0,Te.jsx)("h1",{className:"text-3xl font-bold ".concat(L?"text-white":"text-gray-900"," mb-2"),children:n.tournament.name}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"created":default:return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800"}})(n.tournament.status)),children:n.tournament.status}),n.tournament.start_date&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 mr-1"}),(R=n.tournament.start_date,new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))]}),n.tournament.location&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(qs,{className:"h-4 w-4 mr-1"}),n.tournament.location]}),n.tournament.time_control&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(Lt,{className:"h-4 w-4 mr-1"}),n.tournament.time_control]})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsxs)("button",{onClick:()=>N(!w),className:"px-3 py-1 rounded-md text-sm font-medium ".concat(w?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:[(0,Te.jsx)(Ft,{className:"h-4 w-4 mr-1 ".concat(w?"animate-spin":"")}),"Auto-refresh"]}),j&&(0,Te.jsxs)("span",{className:"text-xs text-gray-500",children:["Updated ",j.toLocaleTimeString()]})]})]})})}),(0,Te.jsx)("div",{className:"".concat(L?"bg-gray-800":"bg-white"," border-b border-gray-200"),children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Te.jsx)("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:rt},{id:"pairings",label:"Pairings",icon:Nt},{id:"standings",label:"Standings",icon:jn},...n.tournament.format.includes("team")?[{id:"teams",label:"Teams",icon:Nt}]:[],...n.prizes&&n.prizes.length>0?[{id:"prizes",label:"Prizes",icon:rn}]:[],{id:"analytics",label:"Analytics",icon:jt}].map(e=>(0,Te.jsxs)("button",{onClick:()=>d(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat(c===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Te.jsx)(e.icon,{className:"h-4 w-4 mr-2 inline"}),e.label]},e.id))})})}),(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===c&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"".concat(L?"bg-gray-800":"bg-white"," p-6 rounded-lg shadow"),children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Nt,{className:"h-8 w-8 text-blue-600"}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Players"}),(0,Te.jsx)("p",{className:"text-2xl font-semibold ".concat(L?"text-white":"text-gray-900"),children:n.players.length})]})]})}),(0,Te.jsx)("div",{className:"".concat(L?"bg-gray-800":"bg-white"," p-6 rounded-lg shadow"),children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(rt,{className:"h-8 w-8 text-green-600"}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Sections"}),(0,Te.jsx)("p",{className:"text-2xl font-semibold ".concat(L?"text-white":"text-gray-900"),children:n.sections.length})]})]})}),(0,Te.jsx)("div",{className:"".concat(L?"bg-gray-800":"bg-white"," p-6 rounded-lg shadow"),children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(wt,{className:"h-8 w-8 text-purple-600"}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Rounds"}),(0,Te.jsx)("p",{className:"text-2xl font-semibold ".concat(L?"text-white":"text-gray-900"),children:n.tournament.rounds})]})]})}),(0,Te.jsx)("div",{className:"".concat(L?"bg-gray-800":"bg-white"," p-6 rounded-lg shadow"),children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Lt,{className:"h-8 w-8 text-orange-600"}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Current Round"}),(0,Te.jsx)("p",{className:"text-2xl font-semibold ".concat(L?"text-white":"text-gray-900"),children:n.currentRound})]})]})})]}),(0,Te.jsxs)("div",{className:"".concat(L?"bg-gray-800":"bg-white"," rounded-lg shadow"),children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Te.jsx)("h3",{className:"text-lg font-medium ".concat(L?"text-white":"text-gray-900"),children:"Tournament Sections"})}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.sections.map(e=>(0,Te.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Te.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:e.name}),(0,Te.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,Te.jsxs)("p",{children:["Players: ",n.players.filter(t=>t.section_id===e.id).length]}),e.rating_min&&e.rating_max&&(0,Te.jsxs)("p",{children:["Rating: ",e.rating_min," - ",e.rating_max]}),e.time_control&&(0,Te.jsxs)("p",{children:["Time Control: ",e.time_control]})]})]},e.id))})})]})]}),"pairings"===c&&(0,Te.jsx)("div",{className:"space-y-6",children:(0,Te.jsx)(sn,{pairings:n.pairings,round:1,tournamentFormat:"team-swiss",showResults:!0})}),"standings"===c&&(0,Te.jsx)("div",{className:"space-y-6",children:(0,Te.jsx)(tn,{standings:n.standings,tournament:{rounds:n.tournament.rounds,name:n.tournament.name},selectedSection:u,showTiebreakers:!0,showPrizes:!0})}),"teams"===c&&n.teamStandings&&(0,Te.jsx)("div",{className:"space-y-6",children:(0,Te.jsx)(an,{standings:n.teamStandings,tournamentFormat:"team-swiss",showTiebreakers:!0,totalRounds:n.tournament.rounds})}),"prizes"===c&&n.prizes&&(0,Te.jsx)("div",{className:"space-y-6",children:(0,Te.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Prizes table coming soon"})}),"analytics"===c&&(0,Te.jsx)("div",{className:"space-y-6",children:(0,Te.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Analytics dashboard coming soon"})})]})]}):(0,Te.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Tournament Not Found"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"The tournament you're looking for doesn't exist or is not public."})]})});var R},ni=()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(null),c=ne();(0,a.useEffect)(()=>{d()},[]);const d=async()=>{try{i(!0),l(null);const e=await Ge.searchOrganizations();e.success?r(e.data.organizations):l("Failed to load organizations")}catch(er){l("Failed to load organizations"),console.error("Error loading organizations:",er)}finally{i(!1)}},u=n;return(0,Te.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Te.jsx)("header",{className:"bg-white shadow-sm",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Te.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Te.jsx)(Pe,{to:"/",className:"flex items-center",children:(0,Te.jsx)(lt,{size:"md",showText:!0})}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)(Pe,{to:"/public/tournaments",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"All Tournaments"}),(0,Te.jsx)(Pe,{to:"/",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Home"})]})]})})}),(0,Te.jsx)("section",{className:"py-12 bg-white",children:(0,Te.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Te.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Find Chess Organizations"}),(0,Te.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"Discover chess organizations and their tournaments"}),(0,Te.jsx)("form",{onSubmit:async t=>{t.preventDefault();try{i(!0),l(null);const t=await Ge.searchOrganizations(e.trim()||void 0);t.success?r(t.data.organizations):l("Failed to search organizations")}catch(er){l("Failed to search organizations"),console.error("Error searching organizations:",er)}finally{i(!1)}},className:"max-w-2xl mx-auto",children:(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Te.jsx)(Mt,{className:"h-5 w-5 text-gray-400"})}),(0,Te.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search organizations by name, location, or description...",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-lg"}),(0,Te.jsx)("button",{type:"submit",className:"absolute inset-y-0 right-0 px-4 py-2 bg-blue-600 text-white rounded-r-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Search"})]})})]})}),(0,Te.jsx)("section",{className:"py-8",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s?(0,Te.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):o?(0,Te.jsx)("div",{className:"text-center py-12",children:(0,Te.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded max-w-md mx-auto",children:[(0,Te.jsx)("strong",{className:"font-bold",children:"Error: "}),(0,Te.jsx)("span",{className:"block sm:inline",children:o})]})}):0===u.length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)("div",{className:"text-gray-400 mb-4",children:(0,Te.jsx)(vt,{className:"mx-auto h-12 w-12"})}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e?"No organizations found":"No organizations available"}),(0,Te.jsx)("p",{className:"text-gray-600",children:e?"Try adjusting your search terms or browse all organizations":"Check back later for available organizations"}),e&&(0,Te.jsx)("button",{onClick:()=>{t(""),d()},className:"mt-4 text-blue-600 hover:text-blue-800 font-medium",children:"Clear search and show all"})]}):(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:e?"Search Results (".concat(u.length,")"):"All Organizations"}),e&&(0,Te.jsx)("button",{onClick:()=>{t(""),d()},className:"text-blue-600 hover:text-blue-800 font-medium",children:"Clear search"})]}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(e=>(0,Te.jsx)("div",{onClick:()=>{return t=e.slug,void c("/public/organizations/".concat(t));var t},className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow duration-200 cursor-pointer",children:(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"flex items-start space-x-4",children:[e.logoUrl?(0,Te.jsx)("img",{src:e.logoUrl,alt:"".concat(e.name," logo"),className:"h-12 w-12 rounded-lg object-cover flex-shrink-0"}):(0,Te.jsx)("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,Te.jsx)(vt,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),e.description&&(0,Te.jsx)("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:e.description}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(e.city||e.state)&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(qs,{className:"h-4 w-4 mr-1"}),(0,Te.jsx)("span",{children:e.city&&e.state?"".concat(e.city,", ").concat(e.state):e.city||e.state})]}),void 0!==e.tournamentCount&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(rt,{className:"h-4 w-4 mr-1"}),(0,Te.jsxs)("span",{children:[e.tournamentCount," tournaments"]})]})]})]})]}),(0,Te.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center text-blue-600 hover:text-blue-800",children:[(0,Te.jsx)("span",{className:"text-sm font-medium",children:"View tournaments"}),(0,Te.jsx)(Xs,{className:"ml-1 h-4 w-4"})]}),e.website&&(0,Te.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"text-gray-400 hover:text-gray-600",children:(0,Te.jsx)(yn,{className:"h-4 w-4"})})]})]})},e.id))})]})})}),(0,Te.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)(lt,{size:"md",showText:!0}),(0,Te.jsx)("p",{className:"mt-4 text-gray-400",children:"Professional chess tournament management made simple."})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),(0,Te.jsxs)("ul",{className:"space-y-2",children:[(0,Te.jsx)("li",{children:(0,Te.jsx)(Pe,{to:"/public/tournaments",className:"text-gray-400 hover:text-white",children:"All Tournaments"})}),(0,Te.jsx)("li",{children:(0,Te.jsx)(Pe,{to:"/",className:"text-gray-400 hover:text-white",children:"Home"})})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),(0,Te.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,Te.jsx)("li",{children:"Organization Search"}),(0,Te.jsx)("li",{children:"Public Tournament Views"}),(0,Te.jsx)("li",{children:"Swiss System Pairings"}),(0,Te.jsx)("li",{children:"Real-time Standings"})]})]})]}),(0,Te.jsx)("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:(0,Te.jsx)("p",{children:"\xa9 2024 PairCraft. All rights reserved."})})]})})]})},ri=tt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),ai=tt("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),si=e=>{var t,n,r,s,i,o,l,c,d,u,h,m,f,p,x,g,b,y,v,w,N,j,k,S,_,A,C,L,P,E,F,R,T,O,I,D,z,M,B,U,q,H,W,V,G,Y,J,K,$,X,Q,Z,ee,te,ne,re,ae,se,ie,oe,le,ce,de,ue,he,me,fe,pe,xe,ge,be,ye,ve,we,Ne,je,ke,Se,_e,Ae,Ce,Le,Pe,Ee,Fe,Oe,Ie,De,ze,Me,Be,Ue,qe,He,We,Ve,Ge,Ye,Je,Ke,$e,Xe,Qe,Ze,et,tt,nt,rt,at,st,it,ot,lt,dt,ht,mt,ft,pt,xt,gt,bt,yt;let{organization:vt,onSave:wt,onPreview:jt,isEditing:St=!1}=e;const[_t,At]=(0,a.useState)("theme"),[Ct,Lt]=(0,a.useState)({theme:{primaryColor:(null===vt||void 0===vt||null===(t=vt.settings)||void 0===t||null===(n=t.theme)||void 0===n?void 0:n.primaryColor)||"#3B82F6",secondaryColor:(null===vt||void 0===vt||null===(r=vt.settings)||void 0===r||null===(s=r.theme)||void 0===s?void 0:s.secondaryColor)||"#1E40AF",backgroundColor:(null===vt||void 0===vt||null===(i=vt.settings)||void 0===i||null===(o=i.theme)||void 0===o?void 0:o.backgroundColor)||"#FFFFFF",textColor:(null===vt||void 0===vt||null===(l=vt.settings)||void 0===l||null===(c=l.theme)||void 0===c?void 0:c.textColor)||"#1F2937",accentColor:(null===vt||void 0===vt||null===(d=vt.settings)||void 0===d||null===(u=d.theme)||void 0===u?void 0:u.accentColor)||"#F59E0B",borderColor:(null===vt||void 0===vt||null===(h=vt.settings)||void 0===h||null===(m=h.theme)||void 0===m?void 0:m.borderColor)||"#E5E7EB",hoverColor:(null===vt||void 0===vt||null===(f=vt.settings)||void 0===f||null===(p=f.theme)||void 0===p?void 0:p.hoverColor)||"#F3F4F6",shadowColor:(null===vt||void 0===vt||null===(x=vt.settings)||void 0===x||null===(g=x.theme)||void 0===g?void 0:g.shadowColor)||"#00000010",gradientColors:(null===vt||void 0===vt||null===(b=vt.settings)||void 0===b||null===(y=b.theme)||void 0===y?void 0:y.gradientColors)||["#3B82F6","#1E40AF"],borderRadius:(null===vt||void 0===vt||null===(v=vt.settings)||void 0===v||null===(w=v.theme)||void 0===w?void 0:w.borderRadius)||"8px",spacing:(null===vt||void 0===vt||null===(N=vt.settings)||void 0===N||null===(j=N.theme)||void 0===j?void 0:j.spacing)||"16px"},branding:{logoUrl:(null===vt||void 0===vt?void 0:vt.logoUrl)||"",faviconUrl:(null===vt||void 0===vt||null===(k=vt.settings)||void 0===k||null===(S=k.branding)||void 0===S?void 0:S.faviconUrl)||"",customFont:(null===vt||void 0===vt||null===(_=vt.settings)||void 0===_||null===(A=_.branding)||void 0===A?void 0:A.customFont)||"Inter",headerText:(null===vt||void 0===vt||null===(C=vt.settings)||void 0===C||null===(L=C.branding)||void 0===L?void 0:L.headerText)||(null===vt||void 0===vt?void 0:vt.name)||"",tagline:(null===vt||void 0===vt||null===(P=vt.settings)||void 0===P||null===(E=P.branding)||void 0===E?void 0:E.tagline)||"",customCss:(null===vt||void 0===vt||null===(F=vt.settings)||void 0===F||null===(R=F.branding)||void 0===R?void 0:R.customCss)||"",customFontUrl:(null===vt||void 0===vt||null===(T=vt.settings)||void 0===T||null===(O=T.branding)||void 0===O?void 0:O.customFontUrl)||"",logoPosition:(null===vt||void 0===vt||null===(I=vt.settings)||void 0===I||null===(D=I.branding)||void 0===D?void 0:D.logoPosition)||"left",logoSize:(null===vt||void 0===vt||null===(z=vt.settings)||void 0===z||null===(M=z.branding)||void 0===M?void 0:M.logoSize)||"medium"},layout:{headerStyle:(null===vt||void 0===vt||null===(B=vt.settings)||void 0===B||null===(U=B.layout)||void 0===U?void 0:U.headerStyle)||"default",sidebarPosition:(null===vt||void 0===vt||null===(q=vt.settings)||void 0===q||null===(H=q.layout)||void 0===H?void 0:H.sidebarPosition)||"none",cardStyle:(null===vt||void 0===vt||null===(W=vt.settings)||void 0===W||null===(V=W.layout)||void 0===V?void 0:V.cardStyle)||"default",showStats:!1!==(null===vt||void 0===vt||null===(G=vt.settings)||void 0===G||null===(Y=G.layout)||void 0===Y?void 0:Y.showStats),showSocialLinks:!1!==(null===vt||void 0===vt||null===(J=vt.settings)||void 0===J||null===(K=J.layout)||void 0===K?void 0:K.showSocialLinks),showBreadcrumbs:!1!==(null===vt||void 0===vt||null===($=vt.settings)||void 0===$||null===(X=$.layout)||void 0===X?void 0:X.showBreadcrumbs),showSearch:!1!==(null===vt||void 0===vt||null===(Q=vt.settings)||void 0===Q||null===(Z=Q.layout)||void 0===Z?void 0:Z.showSearch),showFilters:!1!==(null===vt||void 0===vt||null===(ee=vt.settings)||void 0===ee||null===(te=ee.layout)||void 0===te?void 0:te.showFilters),gridColumns:(null===vt||void 0===vt||null===(ne=vt.settings)||void 0===ne||null===(re=ne.layout)||void 0===re?void 0:re.gridColumns)||3,animationStyle:(null===vt||void 0===vt||null===(ae=vt.settings)||void 0===ae||null===(se=ae.layout)||void 0===se?void 0:se.animationStyle)||"fade"},content:{showAnnouncements:!1!==(null===vt||void 0===vt||null===(ie=vt.settings)||void 0===ie||null===(oe=ie.content)||void 0===oe?void 0:oe.showAnnouncements),showCalendar:!1!==(null===vt||void 0===vt||null===(le=vt.settings)||void 0===le||null===(ce=le.content)||void 0===ce?void 0:ce.showCalendar),showNews:!1!==(null===vt||void 0===vt||null===(de=vt.settings)||void 0===de||null===(ue=de.content)||void 0===ue?void 0:ue.showNews),showContactInfo:!1!==(null===vt||void 0===vt||null===(he=vt.settings)||void 0===he||null===(me=he.content)||void 0===me?void 0:me.showContactInfo),customFooter:(null===vt||void 0===vt||null===(fe=vt.settings)||void 0===fe||null===(pe=fe.content)||void 0===pe?void 0:pe.customFooter)||"",welcomeMessage:(null===vt||void 0===vt||null===(xe=vt.settings)||void 0===xe||null===(ge=xe.content)||void 0===ge?void 0:ge.welcomeMessage)||"",aboutSection:(null===vt||void 0===vt||null===(be=vt.settings)||void 0===be||null===(ye=be.content)||void 0===ye?void 0:ye.aboutSection)||"",customWidgets:(null===vt||void 0===vt||null===(ve=vt.settings)||void 0===ve||null===(we=ve.content)||void 0===we?void 0:we.customWidgets)||[]},social:{facebook:(null===vt||void 0===vt||null===(Ne=vt.settings)||void 0===Ne||null===(je=Ne.social)||void 0===je?void 0:je.facebook)||"",twitter:(null===vt||void 0===vt||null===(ke=vt.settings)||void 0===ke||null===(Se=ke.social)||void 0===Se?void 0:Se.twitter)||"",instagram:(null===vt||void 0===vt||null===(_e=vt.settings)||void 0===_e||null===(Ae=_e.social)||void 0===Ae?void 0:Ae.instagram)||"",youtube:(null===vt||void 0===vt||null===(Ce=vt.settings)||void 0===Ce||null===(Le=Ce.social)||void 0===Le?void 0:Le.youtube)||"",discord:(null===vt||void 0===vt||null===(Pe=vt.settings)||void 0===Pe||null===(Ee=Pe.social)||void 0===Ee?void 0:Ee.discord)||"",linkedin:(null===vt||void 0===vt||null===(Fe=vt.settings)||void 0===Fe||null===(Oe=Fe.social)||void 0===Oe?void 0:Oe.linkedin)||"",twitch:(null===vt||void 0===vt||null===(Ie=vt.settings)||void 0===Ie||null===(De=Ie.social)||void 0===De?void 0:De.twitch)||"",tiktok:(null===vt||void 0===vt||null===(ze=vt.settings)||void 0===ze||null===(Me=ze.social)||void 0===Me?void 0:Me.tiktok)||""},seo:{metaTitle:(null===vt||void 0===vt||null===(Be=vt.settings)||void 0===Be||null===(Ue=Be.seo)||void 0===Ue?void 0:Ue.metaTitle)||(null===vt||void 0===vt?void 0:vt.name)||"",metaDescription:(null===vt||void 0===vt||null===(qe=vt.settings)||void 0===qe||null===(He=qe.seo)||void 0===He?void 0:He.metaDescription)||(null===vt||void 0===vt?void 0:vt.description)||"",metaKeywords:(null===vt||void 0===vt||null===(We=vt.settings)||void 0===We||null===(Ve=We.seo)||void 0===Ve?void 0:Ve.metaKeywords)||"",ogImage:(null===vt||void 0===vt||null===(Ge=vt.settings)||void 0===Ge||null===(Ye=Ge.seo)||void 0===Ye?void 0:Ye.ogImage)||(null===vt||void 0===vt?void 0:vt.logoUrl)||"",customHeadHtml:(null===vt||void 0===vt||null===(Je=vt.settings)||void 0===Je||null===(Ke=Je.seo)||void 0===Ke?void 0:Ke.customHeadHtml)||"",customBodyHtml:(null===vt||void 0===vt||null===($e=vt.settings)||void 0===$e||null===(Xe=$e.seo)||void 0===Xe?void 0:Xe.customBodyHtml)||"",robotsIndex:!1!==(null===vt||void 0===vt||null===(Qe=vt.settings)||void 0===Qe||null===(Ze=Qe.seo)||void 0===Ze?void 0:Ze.robotsIndex),canonicalUrl:(null===vt||void 0===vt||null===(et=vt.settings)||void 0===et||null===(tt=et.seo)||void 0===tt?void 0:tt.canonicalUrl)||""},advanced:{customDomain:(null===vt||void 0===vt||null===(nt=vt.settings)||void 0===nt||null===(rt=nt.advanced)||void 0===rt?void 0:rt.customDomain)||"",analyticsId:(null===vt||void 0===vt||null===(at=vt.settings)||void 0===at||null===(st=at.advanced)||void 0===st?void 0:st.analyticsId)||"",trackingCode:(null===vt||void 0===vt||null===(it=vt.settings)||void 0===it||null===(ot=it.advanced)||void 0===ot?void 0:ot.trackingCode)||"",customScripts:(null===vt||void 0===vt||null===(lt=vt.settings)||void 0===lt||null===(dt=lt.advanced)||void 0===dt?void 0:dt.customScripts)||"",enableDarkMode:(null===vt||void 0===vt||null===(ht=vt.settings)||void 0===ht||null===(mt=ht.advanced)||void 0===mt?void 0:mt.enableDarkMode)||!1,enableRtl:(null===vt||void 0===vt||null===(ft=vt.settings)||void 0===ft||null===(pt=ft.advanced)||void 0===pt?void 0:pt.enableRtl)||!1,enablePwa:(null===vt||void 0===vt||null===(xt=vt.settings)||void 0===xt||null===(gt=xt.advanced)||void 0===gt?void 0:gt.enablePwa)||!1,customManifest:(null===vt||void 0===vt||null===(bt=vt.settings)||void 0===bt||null===(yt=bt.advanced)||void 0===yt?void 0:yt.customManifest)||""}}),Pt=(e,t)=>{Lt(n=>(0,Re.A)((0,Re.A)({},n),{},{theme:(0,Re.A)((0,Re.A)({},n.theme),{},{[e]:t})}))},Et=(e,t)=>{Lt(n=>(0,Re.A)((0,Re.A)({},n),{},{branding:(0,Re.A)((0,Re.A)({},n.branding),{},{[e]:t})}))},Ft=(e,t)=>{Lt(n=>(0,Re.A)((0,Re.A)({},n),{},{layout:(0,Re.A)((0,Re.A)({},n.layout),{},{[e]:t})}))},Rt=(e,t)=>{Lt(n=>(0,Re.A)((0,Re.A)({},n),{},{content:(0,Re.A)((0,Re.A)({},n.content),{},{[e]:t})}))},Ot=(e,t)=>{Lt(n=>(0,Re.A)((0,Re.A)({},n),{},{social:(0,Re.A)((0,Re.A)({},n.social),{},{[e]:t})}))},It=[{id:"theme",label:"Theme",icon:kt},{id:"branding",label:"Branding",icon:ri},{id:"layout",label:"Layout",icon:ai},{id:"content",label:"Content",icon:yn},{id:"social",label:"Social",icon:Nt},{id:"seo",label:"SEO",icon:ut},{id:"widgets",label:"Widgets",icon:Tt},{id:"advanced",label:"Advanced",icon:Tt}];return(0,Te.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-lg",children:[(0,Te.jsx)("div",{className:"border-b border-gray-200 px-6 py-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Organization Customization"}),(0,Te.jsx)("p",{className:"text-gray-600 mt-1",children:"Customize your organization's public appearance"})]}),(0,Te.jsxs)("div",{className:"flex space-x-3",children:[(0,Te.jsxs)("button",{onClick:()=>{jt(Ct)},className:"flex items-center px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,Te.jsx)(ut,{className:"h-4 w-4 mr-2"}),"Preview"]}),St&&(0,Te.jsxs)("button",{onClick:()=>{wt(Ct)},className:"flex items-center px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(Bt,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})}),(0,Te.jsx)("div",{className:"border-b border-gray-200",children:(0,Te.jsx)("nav",{className:"flex space-x-8 px-6",children:It.map(e=>(0,Te.jsxs)("button",{onClick:()=>At(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center ".concat(_t===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Te.jsx)(e.icon,{className:"h-4 w-4 mr-2"}),e.label]},e.id))})}),(0,Te.jsxs)("div",{className:"p-6",children:["theme"===_t&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Theme Colors"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("input",{type:"color",value:Ct.theme.primaryColor,onChange:e=>Pt("primaryColor",e.target.value),className:"w-12 h-10 rounded border border-gray-300"}),(0,Te.jsx)("input",{type:"text",value:Ct.theme.primaryColor,onChange:e=>Pt("primaryColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("input",{type:"color",value:Ct.theme.secondaryColor,onChange:e=>Pt("secondaryColor",e.target.value),className:"w-12 h-10 rounded border border-gray-300"}),(0,Te.jsx)("input",{type:"text",value:Ct.theme.secondaryColor,onChange:e=>Pt("secondaryColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("input",{type:"color",value:Ct.theme.backgroundColor,onChange:e=>Pt("backgroundColor",e.target.value),className:"w-12 h-10 rounded border border-gray-300"}),(0,Te.jsx)("input",{type:"text",value:Ct.theme.backgroundColor,onChange:e=>Pt("backgroundColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Color"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("input",{type:"color",value:Ct.theme.textColor,onChange:e=>Pt("textColor",e.target.value),className:"w-12 h-10 rounded border border-gray-300"}),(0,Te.jsx)("input",{type:"text",value:Ct.theme.textColor,onChange:e=>Pt("textColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accent Color"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("input",{type:"color",value:Ct.theme.accentColor,onChange:e=>Pt("accentColor",e.target.value),className:"w-12 h-10 rounded border border-gray-300"}),(0,Te.jsx)("input",{type:"text",value:Ct.theme.accentColor,onChange:e=>Pt("accentColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Border Color"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("input",{type:"color",value:Ct.theme.borderColor,onChange:e=>Pt("borderColor",e.target.value),className:"w-12 h-10 rounded border border-gray-300"}),(0,Te.jsx)("input",{type:"text",value:Ct.theme.borderColor,onChange:e=>Pt("borderColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hover Color"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("input",{type:"color",value:Ct.theme.hoverColor,onChange:e=>Pt("hoverColor",e.target.value),className:"w-12 h-10 rounded border border-gray-300"}),(0,Te.jsx)("input",{type:"text",value:Ct.theme.hoverColor,onChange:e=>Pt("hoverColor",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Border Radius"}),(0,Te.jsxs)("select",{value:Ct.theme.borderRadius,onChange:e=>Pt("borderRadius",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"0px",children:"No Radius"}),(0,Te.jsx)("option",{value:"4px",children:"Small (4px)"}),(0,Te.jsx)("option",{value:"8px",children:"Medium (8px)"}),(0,Te.jsx)("option",{value:"12px",children:"Large (12px)"}),(0,Te.jsx)("option",{value:"16px",children:"Extra Large (16px)"}),(0,Te.jsx)("option",{value:"50%",children:"Fully Rounded"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Spacing"}),(0,Te.jsxs)("select",{value:Ct.theme.spacing,onChange:e=>Pt("spacing",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"8px",children:"Compact (8px)"}),(0,Te.jsx)("option",{value:"12px",children:"Small (12px)"}),(0,Te.jsx)("option",{value:"16px",children:"Medium (16px)"}),(0,Te.jsx)("option",{value:"20px",children:"Large (20px)"}),(0,Te.jsx)("option",{value:"24px",children:"Extra Large (24px)"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Preview"}),(0,Te.jsxs)("div",{className:"p-4 rounded-lg",style:{backgroundColor:Ct.theme.backgroundColor,color:Ct.theme.textColor},children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Te.jsx)("div",{className:"w-8 h-8 rounded",style:{backgroundColor:Ct.theme.primaryColor}}),(0,Te.jsx)("span",{className:"font-semibold",children:"Organization Name"})]}),(0,Te.jsx)("p",{className:"text-sm opacity-75",children:"Sample text with your chosen colors"}),(0,Te.jsx)("button",{className:"mt-3 px-4 py-2 rounded text-white text-sm",style:{backgroundColor:Ct.theme.primaryColor},children:"Sample Button"})]})]})]}),"branding"===_t&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Branding & Identity"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.branding.logoUrl,onChange:e=>Et("logoUrl",e.target.value),placeholder:"https://example.com/logo.png",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),Ct.branding.logoUrl&&(0,Te.jsx)("div",{className:"mt-2",children:(0,Te.jsx)("img",{src:Ct.branding.logoUrl,alt:"Logo preview",className:"h-16 w-auto rounded border",onError:e=>{e.currentTarget.style.display="none"}})})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Favicon URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.branding.faviconUrl,onChange:e=>Et("faviconUrl",e.target.value),placeholder:"https://example.com/favicon.ico",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Font"}),(0,Te.jsxs)("select",{value:Ct.branding.customFont,onChange:e=>Et("customFont",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"Inter",children:"Inter"}),(0,Te.jsx)("option",{value:"Roboto",children:"Roboto"}),(0,Te.jsx)("option",{value:"Open Sans",children:"Open Sans"}),(0,Te.jsx)("option",{value:"Lato",children:"Lato"}),(0,Te.jsx)("option",{value:"Poppins",children:"Poppins"}),(0,Te.jsx)("option",{value:"Montserrat",children:"Montserrat"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Header Text"}),(0,Te.jsx)("input",{type:"text",value:Ct.branding.headerText,onChange:e=>Et("headerText",e.target.value),placeholder:"Organization Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{className:"md:col-span-2",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tagline"}),(0,Te.jsx)("input",{type:"text",value:Ct.branding.tagline,onChange:e=>Et("tagline",e.target.value),placeholder:"Your organization's tagline",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Font URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.branding.customFontUrl,onChange:e=>Et("customFontUrl",e.target.value),placeholder:"https://fonts.googleapis.com/css2?family=YourFont:wght@400;700&display=swap",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"URL for custom font from Google Fonts or other providers"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo Position"}),(0,Te.jsxs)("select",{value:Ct.branding.logoPosition,onChange:e=>Et("logoPosition",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"left",children:"Left"}),(0,Te.jsx)("option",{value:"center",children:"Center"}),(0,Te.jsx)("option",{value:"right",children:"Right"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo Size"}),(0,Te.jsxs)("select",{value:Ct.branding.logoSize,onChange:e=>Et("logoSize",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"small",children:"Small (32px)"}),(0,Te.jsx)("option",{value:"medium",children:"Medium (48px)"}),(0,Te.jsx)("option",{value:"large",children:"Large (64px)"})]})]}),(0,Te.jsxs)("div",{className:"md:col-span-2",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom CSS"}),(0,Te.jsx)("textarea",{value:Ct.branding.customCss,onChange:e=>Et("customCss",e.target.value),rows:6,placeholder:"/* Custom CSS styles */\n.custom-header { font-weight: bold; color: #your-color;\n}",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Custom CSS to override default styles"})]})]})]}),"layout"===_t&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Layout & Design"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Header Style"}),(0,Te.jsxs)("select",{value:Ct.layout.headerStyle,onChange:e=>Ft("headerStyle",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"default",children:"Default"}),(0,Te.jsx)("option",{value:"minimal",children:"Minimal"}),(0,Te.jsx)("option",{value:"hero",children:"Hero"}),(0,Te.jsx)("option",{value:"sidebar",children:"Sidebar"}),(0,Te.jsx)("option",{value:"floating",children:"Floating"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Style"}),(0,Te.jsxs)("select",{value:Ct.layout.cardStyle,onChange:e=>Ft("cardStyle",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"default",children:"Default"}),(0,Te.jsx)("option",{value:"modern",children:"Modern"}),(0,Te.jsx)("option",{value:"classic",children:"Classic"}),(0,Te.jsx)("option",{value:"minimal",children:"Minimal"}),(0,Te.jsx)("option",{value:"elevated",children:"Elevated"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sidebar Position"}),(0,Te.jsxs)("select",{value:Ct.layout.sidebarPosition,onChange:e=>Ft("sidebarPosition",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"none",children:"None"}),(0,Te.jsx)("option",{value:"left",children:"Left"}),(0,Te.jsx)("option",{value:"right",children:"Right"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grid Columns"}),(0,Te.jsxs)("select",{value:Ct.layout.gridColumns,onChange:e=>Ft("gridColumns",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:1,children:"1 Column"}),(0,Te.jsx)("option",{value:2,children:"2 Columns"}),(0,Te.jsx)("option",{value:3,children:"3 Columns"}),(0,Te.jsx)("option",{value:4,children:"4 Columns"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Animation Style"}),(0,Te.jsxs)("select",{value:Ct.layout.animationStyle,onChange:e=>Ft("animationStyle",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Te.jsx)("option",{value:"none",children:"None"}),(0,Te.jsx)("option",{value:"fade",children:"Fade"}),(0,Te.jsx)("option",{value:"slide",children:"Slide"}),(0,Te.jsx)("option",{value:"scale",children:"Scale"})]})]}),(0,Te.jsx)("div",{className:"md:col-span-2",children:(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"showStats",checked:Ct.layout.showStats,onChange:e=>Ft("showStats",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"showStats",className:"ml-2 block text-sm text-gray-900",children:"Show Statistics Dashboard"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"showSocialLinks",checked:Ct.layout.showSocialLinks,onChange:e=>Ft("showSocialLinks",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"showSocialLinks",className:"ml-2 block text-sm text-gray-900",children:"Show Social Media Links"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"showBreadcrumbs",checked:Ct.layout.showBreadcrumbs,onChange:e=>Ft("showBreadcrumbs",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"showBreadcrumbs",className:"ml-2 block text-sm text-gray-900",children:"Show Breadcrumb Navigation"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"showSearch",checked:Ct.layout.showSearch,onChange:e=>Ft("showSearch",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"showSearch",className:"ml-2 block text-sm text-gray-900",children:"Show Search Bar"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"showFilters",checked:Ct.layout.showFilters,onChange:e=>Ft("showFilters",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"showFilters",className:"ml-2 block text-sm text-gray-900",children:"Show Filter Options"})]})]})})]})]}),"content"===_t&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Content Settings"}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"showAnnouncements",checked:Ct.content.showAnnouncements,onChange:e=>Rt("showAnnouncements",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"showAnnouncements",className:"ml-2 block text-sm text-gray-900",children:"Show Announcements Section"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"showCalendar",checked:Ct.content.showCalendar,onChange:e=>Rt("showCalendar",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"showCalendar",className:"ml-2 block text-sm text-gray-900",children:"Show Tournament Calendar"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"showNews",checked:Ct.content.showNews,onChange:e=>Rt("showNews",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"showNews",className:"ml-2 block text-sm text-gray-900",children:"Show News Section"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"showContactInfo",checked:Ct.content.showContactInfo,onChange:e=>Rt("showContactInfo",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"showContactInfo",className:"ml-2 block text-sm text-gray-900",children:"Show Contact Information"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Welcome Message"}),(0,Te.jsx)("textarea",{value:Ct.content.welcomeMessage,onChange:e=>Rt("welcomeMessage",e.target.value),rows:3,placeholder:"Welcome message displayed on the homepage...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Section"}),(0,Te.jsx)("textarea",{value:Ct.content.aboutSection,onChange:e=>Rt("aboutSection",e.target.value),rows:4,placeholder:"About section content describing your organization...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Footer Text"}),(0,Te.jsx)("textarea",{value:Ct.content.customFooter,onChange:e=>Rt("customFooter",e.target.value),rows:3,placeholder:"Enter custom footer text or HTML...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),"seo"===_t&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"SEO & Meta Tags"}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Page Title"}),(0,Te.jsx)("input",{type:"text",value:Ct.seo.metaTitle,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{seo:(0,Re.A)((0,Re.A)({},t.seo),{},{metaTitle:e.target.value})})),placeholder:"Your organization's page title",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: 50-60 characters"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),(0,Te.jsx)("textarea",{value:Ct.seo.metaDescription,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{seo:(0,Re.A)((0,Re.A)({},t.seo),{},{metaDescription:e.target.value})})),rows:3,placeholder:"Describe your organization for search engines",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: 150-160 characters"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Keywords"}),(0,Te.jsx)("input",{type:"text",value:Ct.seo.metaKeywords,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{seo:(0,Re.A)((0,Re.A)({},t.seo),{},{metaKeywords:e.target.value})})),placeholder:"chess, tournament, organization, competitions",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Comma-separated keywords"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Open Graph Image URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.seo.ogImage,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{seo:(0,Re.A)((0,Re.A)({},t.seo),{},{ogImage:e.target.value})})),placeholder:"https://example.com/og-image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Image for social media sharing (1200x630px recommended)"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Canonical URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.seo.canonicalUrl,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{seo:(0,Re.A)((0,Re.A)({},t.seo),{},{canonicalUrl:e.target.value})})),placeholder:"https://yourdomain.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Head HTML"}),(0,Te.jsx)("textarea",{value:Ct.seo.customHeadHtml,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{seo:(0,Re.A)((0,Re.A)({},t.seo),{},{customHeadHtml:e.target.value})})),rows:4,placeholder:"\x3c!-- Custom meta tags, scripts, etc. --\x3e",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Body HTML"}),(0,Te.jsx)("textarea",{value:Ct.seo.customBodyHtml,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{seo:(0,Re.A)((0,Re.A)({},t.seo),{},{customBodyHtml:e.target.value})})),rows:4,placeholder:"\x3c!-- Custom scripts, tracking codes, etc. --\x3e",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"robotsIndex",checked:Ct.seo.robotsIndex,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{seo:(0,Re.A)((0,Re.A)({},t.seo),{},{robotsIndex:e.target.checked})})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"robotsIndex",className:"ml-2 block text-sm text-gray-900",children:"Allow search engines to index this page"})]})]})]}),"advanced"===_t&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Advanced Settings"}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Domain"}),(0,Te.jsx)("input",{type:"url",value:Ct.advanced.customDomain,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{advanced:(0,Re.A)((0,Re.A)({},t.advanced),{},{customDomain:e.target.value})})),placeholder:"https://yourdomain.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Te.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Your custom domain for the organization page"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Analytics ID"}),(0,Te.jsx)("input",{type:"text",value:Ct.advanced.analyticsId,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{advanced:(0,Re.A)((0,Re.A)({},t.advanced),{},{analyticsId:e.target.value})})),placeholder:"GA-XXXXXXXXX-X",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Tracking Code"}),(0,Te.jsx)("textarea",{value:Ct.advanced.trackingCode,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{advanced:(0,Re.A)((0,Re.A)({},t.advanced),{},{trackingCode:e.target.value})})),rows:4,placeholder:"\x3c!-- Google Analytics, Facebook Pixel, etc. --\x3e",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Scripts"}),(0,Te.jsx)("textarea",{value:Ct.advanced.customScripts,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{advanced:(0,Re.A)((0,Re.A)({},t.advanced),{},{customScripts:e.target.value})})),rows:4,placeholder:"// Custom JavaScript code",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"font-medium text-gray-900",children:"Feature Toggles"}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"enableDarkMode",checked:Ct.advanced.enableDarkMode,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{advanced:(0,Re.A)((0,Re.A)({},t.advanced),{},{enableDarkMode:e.target.checked})})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"enableDarkMode",className:"ml-2 block text-sm text-gray-900",children:"Enable Dark Mode Toggle"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"enableRtl",checked:Ct.advanced.enableRtl,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{advanced:(0,Re.A)((0,Re.A)({},t.advanced),{},{enableRtl:e.target.checked})})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"enableRtl",className:"ml-2 block text-sm text-gray-900",children:"Enable Right-to-Left Support"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"enablePwa",checked:Ct.advanced.enablePwa,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{advanced:(0,Re.A)((0,Re.A)({},t.advanced),{},{enablePwa:e.target.checked})})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"enablePwa",className:"ml-2 block text-sm text-gray-900",children:"Enable Progressive Web App Features"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom PWA Manifest"}),(0,Te.jsx)("textarea",{value:Ct.advanced.customManifest,onChange:e=>Lt(t=>(0,Re.A)((0,Re.A)({},t),{},{advanced:(0,Re.A)((0,Re.A)({},t.advanced),{},{customManifest:e.target.value})})),rows:6,placeholder:'{"name": "Your Organization", "short_name": "Org", ...}',className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]})]})]}),"widgets"===_t&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Custom Widgets"}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsx)("p",{className:"text-gray-600 mb-4",children:"Add custom widgets to enhance your organization page"}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:["text","image","video","map","countdown","stats","testimonial"].map(e=>(0,Te.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,Te.jsxs)("h4",{className:"font-medium text-gray-900 capitalize mb-2",children:[e," Widget"]}),(0,Te.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["text"===e&&"Add custom text content","image"===e&&"Display images or galleries","video"===e&&"Embed videos from YouTube/Vimeo","map"===e&&"Show location with Google Maps","countdown"===e&&"Countdown timer for events","stats"===e&&"Display statistics and metrics","testimonial"===e&&"Show testimonials and reviews"]}),(0,Te.jsxs)("button",{className:"w-full px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:["Add ",e," Widget"]})]},e))})]}),Ct.content.customWidgets.length>0&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Current Widgets"}),(0,Te.jsx)("div",{className:"space-y-3",children:Ct.content.customWidgets.map((e,t)=>(0,Te.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h5",{className:"font-medium text-gray-900",children:e.title}),(0,Te.jsxs)("p",{className:"text-sm text-gray-600 capitalize",children:[e.type," widget"]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Te.jsx)(Gt,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{className:"p-2 text-red-400 hover:text-red-600 transition-colors",children:(0,Te.jsx)(ct,{className:"h-4 w-4"})})]})]})},e.id))})]})]}),"social"===_t&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Social Media Links"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.social.facebook,onChange:e=>Ot("facebook",e.target.value),placeholder:"https://facebook.com/yourpage",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.social.twitter,onChange:e=>Ot("twitter",e.target.value),placeholder:"https://twitter.com/yourhandle",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.social.instagram,onChange:e=>Ot("instagram",e.target.value),placeholder:"https://instagram.com/yourhandle",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.social.youtube,onChange:e=>Ot("youtube",e.target.value),placeholder:"https://youtube.com/c/yourchannel",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discord URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.social.discord,onChange:e=>Ot("discord",e.target.value),placeholder:"https://discord.gg/yourinvite",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.social.linkedin,onChange:e=>Ot("linkedin",e.target.value),placeholder:"https://linkedin.com/company/your-org",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitch URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.social.twitch,onChange:e=>Ot("twitch",e.target.value),placeholder:"https://twitch.tv/your-channel",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"TikTok URL"}),(0,Te.jsx)("input",{type:"url",value:Ct.social.tiktok,onChange:e=>Ot("tiktok",e.target.value),placeholder:"https://tiktok.com/@your-username",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]})})},ii=()=>{const{id:e}=re(),t=ne(),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(null),[m,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e&&p()},[e]);const p=async()=>{try{i(!0),d(null);const t=await Ge.getOrganization(e);t.success?r(t.data.organization):d("Failed to load organization")}catch(c){var t,n;d((null===(t=c.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to load organization")}finally{i(!1)}};return s?(0,Te.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):c&&!n?(0,Te.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,Te.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Kt,{className:"h-5 w-5 mr-2"}),(0,Te.jsx)("strong",{className:"font-bold",children:"Error: "}),(0,Te.jsx)("span",{className:"block sm:inline",children:c})]})})}):n?(0,Te.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Te.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("button",{onClick:()=>t(-1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Te.jsx)(Et,{className:"h-5 w-5"})}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)(vt,{className:"h-6 w-6 text-blue-600"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Organization Settings"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:n.name})]})]})]}),(0,Te.jsx)("div",{className:"flex items-center space-x-3",children:(0,Te.jsxs)("button",{onClick:()=>window.open("/public/organizations/".concat(n.slug),"_blank"),className:"flex items-center px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,Te.jsx)(ut,{className:"h-4 w-4 mr-2"}),"View Public Page"]})})]})})}),u&&(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Te.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Te.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u]})})}),c&&(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Te.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Kt,{className:"h-5 w-5 mr-2"}),(0,Te.jsx)("strong",{className:"font-bold",children:"Error: "}),(0,Te.jsx)("span",{className:"block sm:inline",children:c})]})})}),(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[(0,Te.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Organization Information"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Basic information about your organization"})]}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Name"}),(0,Te.jsx)("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:n.name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Slug"}),(0,Te.jsx)("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:n.slug})]}),(0,Te.jsxs)("div",{className:"md:col-span-2",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Public URL"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsxs)("div",{className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:[window.location.origin,"/public/organizations/",n.slug]}),(0,Te.jsx)("button",{onClick:()=>{navigator.clipboard.writeText("".concat(window.location.origin,"/public/organizations/").concat(n.slug))},className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Copy URL"})]})]})]})})]}),(0,Te.jsx)(si,{organization:n,onSave:async t=>{try{var a;l(!0),d(null);const s=(0,Re.A)((0,Re.A)({},n.settings),t);(await Ge.updateOrganization(e,{settings:s,logoUrl:(null===(a=t.branding)||void 0===a?void 0:a.logoUrl)||n.logoUrl,description:n.description,website:n.website,contactEmail:n.contactEmail,contactPhone:n.contactPhone,city:n.city,state:n.state,country:n.country})).success?(h("Organization settings saved successfully!"),r(e=>{var n;return(0,Re.A)((0,Re.A)({},e),{},{settings:s,logoUrl:(null===(n=t.branding)||void 0===n?void 0:n.logoUrl)||e.logoUrl})}),setTimeout(()=>h(null),3e3)):d("Failed to save organization settings")}catch(c){var s,i;d((null===(s=c.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.error)||"Failed to save organization settings")}finally{l(!1)}},onPreview:e=>{const t="/public/organizations/".concat(n.slug,"?preview=true");window.open(t,"_blank")},isEditing:!0}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mt-6",children:[(0,Te.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Common tasks for managing your organization"})]}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("button",{onClick:()=>t("/organizations/".concat(e,"/tournaments")),className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Te.jsx)(rt,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,Te.jsxs)("div",{className:"text-left",children:[(0,Te.jsx)("div",{className:"font-medium text-gray-900",children:"Manage Tournaments"}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"Create and manage tournaments"})]})]}),(0,Te.jsxs)("button",{onClick:()=>t("/organizations/".concat(e,"/members")),className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Te.jsx)(Nt,{className:"h-6 w-6 text-green-600 mr-3"}),(0,Te.jsxs)("div",{className:"text-left",children:[(0,Te.jsx)("div",{className:"font-medium text-gray-900",children:"Manage Members"}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"Invite and manage team members"})]})]}),(0,Te.jsxs)("button",{onClick:()=>window.open("/public/organizations/".concat(n.slug),"_blank"),className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Te.jsx)(yn,{className:"h-6 w-6 text-purple-600 mr-3"}),(0,Te.jsxs)("div",{className:"text-left",children:[(0,Te.jsx)("div",{className:"font-medium text-gray-900",children:"View Public Page"}),(0,Te.jsx)("div",{className:"text-sm text-gray-600",children:"See how your organization appears publicly"})]})]})]})})]})]})]}):(0,Te.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Organization Not Found"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"The organization you're looking for doesn't exist or you don't have access to it."})]})})},oi=e=>{let{tournamentId:t}=e;const[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[m,f]=(0,a.useState)(null),[p,x]=(0,a.useState)(""),[g,b]=(0,a.useState)([]),[y,v]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),[j,k]=(0,a.useState)(!1),[S,_]=(0,a.useState)({player_name:"",uscf_id:"",rating:"",email:"",phone:"",section:"",bye_requests:[],notes:""});(0,a.useEffect)(()=>{(async()=>{try{const e=await St.mA.getTournamentInfo(t);e.data.success?r(e.data.data):f(e.data.error||"Failed to load tournament information")}catch(er){console.error("Error loading tournament info:",er),f("Failed to load tournament information")}finally{i(!1)}})()},[t]);const A=async()=>{if(p.trim()&&!(p.trim().length<2)){v(!0);try{const e=await St.mA.searchPlayers(p.trim(),10);e.data.success?(b(e.data.data.players),k(!0)):b([])}catch(er){console.error("Search error:",er),b([])}finally{v(!1)}}};return s?(0,Te.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 border-t-black mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-gray-600 text-sm",children:"Loading tournament information..."})]})}):c&&u?(0,Te.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Te.jsx)("div",{className:"max-w-md mx-auto px-6",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)($t,{className:"mx-auto h-12 w-12 text-green-600 mb-4"}),(0,Te.jsx)("h2",{className:"text-xl font-semibold text-black mb-2",children:"Registration submitted"}),(0,Te.jsxs)("p",{className:"text-gray-600 mb-6",children:["Thank you for registering for ",null===n||void 0===n?void 0:n.name,". Your registration has been submitted and is pending approval by the Tournament Director."]}),(0,Te.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded p-4 mb-6",children:[(0,Te.jsxs)("p",{className:"text-sm text-gray-800",children:[(0,Te.jsx)("strong",{children:"Registration ID:"})," ",u]}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"You can check your registration status using this ID."})]}),(0,Te.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition-colors text-sm",children:"Submit another registration"})]})})}):n?(0,Te.jsx)("div",{className:"min-h-screen bg-white",children:(0,Te.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[(0,Te.jsxs)("div",{className:"mb-8",children:[(0,Te.jsx)("h1",{className:"text-2xl font-semibold text-black mb-2",children:"Tournament Registration"}),(0,Te.jsx)("h2",{className:"text-lg text-black mb-4",children:n.name}),(0,Te.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Te.jsxs)("p",{children:["Format: ",n.format.toUpperCase()," \u2022 ",n.rounds," rounds"]}),n.start_date&&(0,Te.jsxs)("p",{children:["Date: ",new Date(n.start_date).toLocaleDateString()]})]})]}),m&&(0,Te.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded",children:(0,Te.jsx)("p",{className:"text-sm",children:m})}),(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),S.player_name&&S.email){l(!0),f(null);try{const e=await St.mA.submitRegistration({tournament_id:t,player_name:S.player_name,uscf_id:S.uscf_id,email:S.email,phone:S.phone,section:S.section,bye_requests:S.bye_requests,notes:S.notes});e.data.success?(h(e.data.data.registration_id),d(!0)):f(e.data.error||"Failed to submit registration")}catch(er){console.error("Registration submission error:",er),f("Failed to submit registration")}finally{l(!1)}}else f("Player name and email are required")},className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-3",children:"Find your player information"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Search for your name to automatically fill in your USCF information, or enter your details manually."}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("input",{type:"text",placeholder:"Enter your name to search...",value:p,onChange:e=>x(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),A()),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black"}),(0,Te.jsx)(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Te.jsx)("button",{type:"button",onClick:A,disabled:y||!p.trim(),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:opacity-50",children:y?(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-gray-300 border-t-black"}):(0,Te.jsx)("span",{className:"text-sm",children:"Search"})})]}),j&&g.length>0&&(0,Te.jsx)("div",{className:"mt-3 border border-gray-200 rounded bg-white max-h-48 overflow-y-auto",children:g.map((e,t)=>(0,Te.jsxs)("button",{type:"button",onClick:()=>(e=>{N(e),_(t=>(0,Re.A)((0,Re.A)({},t),{},{player_name:e.name,uscf_id:e.uscf_id||e.memberId,rating:e.rating||"",email:e.email||t.email,phone:e.phone||t.phone})),k(!1),x("")})(e),className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[(0,Te.jsx)("div",{className:"font-medium text-black",children:e.name}),(0,Te.jsxs)("div",{className:"text-sm text-gray-600",children:["USCF ID: ",e.uscf_id||e.memberId," \u2022",e.state&&" ".concat(e.state," \u2022"),e.rating&&" Rating: ".concat(e.rating)]}),(e.email||e.phone)&&(0,Te.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.email&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(ft,{className:"h-3 w-3 mr-1"}),e.email]}),e.phone&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(Qs,{className:"h-3 w-3 mr-1"}),e.phone]})]})]},t))}),w&&(0,Te.jsx)("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-green-800 text-sm",children:"Selected Player:"}),(0,Te.jsxs)("p",{className:"text-sm text-green-700",children:[w.name," \u2022 USCF ID: ",w.uscf_id||w.memberId,w.rating&&" \u2022 Rating: ".concat(w.rating)]}),(w.email||w.phone)&&(0,Te.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:[w.email&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(ft,{className:"h-3 w-3 mr-1"}),w.email]}),w.phone&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(Qs,{className:"h-3 w-3 mr-1"}),w.phone]})]})]}),(0,Te.jsx)("button",{type:"button",onClick:()=>{N(null),_(e=>(0,Re.A)((0,Re.A)({},e),{},{player_name:"",uscf_id:""}))},className:"text-green-600 hover:text-green-800",children:(0,Te.jsx)(ct,{className:"h-4 w-4"})})]})})]}),(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Player Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Name *"}),(0,Te.jsx)("input",{type:"text",required:!0,value:S.player_name,onChange:e=>_(t=>(0,Re.A)((0,Re.A)({},t),{},{player_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black",placeholder:"Enter your full name"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"US Chess ID"}),(0,Te.jsx)("input",{type:"text",value:S.uscf_id,onChange:e=>_(t=>(0,Re.A)((0,Re.A)({},t),{},{uscf_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black",placeholder:"Enter your USCF ID"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating"}),(0,Te.jsx)("input",{type:"number",value:S.rating||"",onChange:e=>_(t=>(0,Re.A)((0,Re.A)({},t),{},{rating:e.target.value?parseInt(e.target.value):""})),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black",placeholder:"Enter your rating",min:"0",max:"3000"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-4",children:"Contact Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,Te.jsx)("input",{type:"email",required:!0,value:S.email,onChange:e=>_(t=>(0,Re.A)((0,Re.A)({},t),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black",placeholder:"your.email@example.com"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,Te.jsx)("input",{type:"tel",value:S.phone,onChange:e=>_(t=>(0,Re.A)((0,Re.A)({},t),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black",placeholder:"(555) 123-4567"})]})]})]}),n.sections.length>0&&(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-3",children:"Playing Section"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Select your preferred section. The Tournament Director reserves the right to adjust section assignments."}),(0,Te.jsxs)("select",{value:S.section,onChange:e=>_(t=>(0,Re.A)((0,Re.A)({},t),{},{section:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black",children:[(0,Te.jsx)("option",{value:"",children:"- select one -"}),n.sections.map((e,t)=>(0,Te.jsxs)("option",{value:e.name,children:[e.name,e.min_rating&&e.max_rating&&" (".concat(e.min_rating," - ").concat(e.max_rating,")")]},t))]})]}),(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-black mb-3",children:"Request BYE(s)"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:'A "bye" is a request to skip a round. Do not select a bye if you intend to be present for all games.'}),(0,Te.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:Array.from({length:n.rounds},(e,t)=>t+1).map(e=>(0,Te.jsxs)("label",{className:"flex items-center space-x-2 p-2 border border-gray-200 rounded hover:bg-gray-50 cursor-pointer",children:[(0,Te.jsx)("input",{type:"checkbox",checked:S.bye_requests.includes(e),onChange:()=>(e=>{_(t=>(0,Re.A)((0,Re.A)({},t),{},{bye_requests:t.bye_requests.includes(e)?t.bye_requests.filter(t=>t!==e):[...t.bye_requests,e]}))})(e),className:"rounded border-gray-300 text-black focus:ring-black"}),(0,Te.jsxs)("span",{className:"text-sm font-medium",children:["Rd. ",e]})]},e))})]}),(0,Te.jsxs)("div",{className:"bg-white border border-gray-200 rounded p-6",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),(0,Te.jsx)("textarea",{value:S.notes,onChange:e=>_(t=>(0,Re.A)((0,Re.A)({},t),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-black focus:border-black",placeholder:"Any additional information or special requests..."})]}),(0,Te.jsx)("div",{className:"pt-4",children:(0,Te.jsx)("button",{type:"submit",disabled:o||!S.player_name||!S.email,className:"w-full bg-black text-white py-3 px-6 rounded font-medium hover:bg-gray-800 focus:ring-2 focus:ring-black focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?(0,Te.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-gray-300 border-t-white mr-2"}),"Submitting Registration..."]}):"Submit Registration"})})]})]})}):(0,Te.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center space-y-6 max-w-md mx-auto px-6",children:[(0,Te.jsx)(Kt,{className:"mx-auto h-12 w-12 text-red-500"}),(0,Te.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-6 py-4 rounded",children:[(0,Te.jsx)("p",{className:"font-medium mb-2",children:"Error"}),(0,Te.jsx)("p",{className:"text-sm",children:"Tournament not found or registration is not available."})]})]})})},li=()=>{const{tournamentId:e}=re();return e?(0,Te.jsx)("div",{className:"min-h-screen bg-white",children:(0,Te.jsx)(oi,{tournamentId:e})}):(0,Te.jsx)("div",{className:"text-center p-8",children:(0,Te.jsx)("p",{className:"text-red-600",children:"Invalid tournament ID."})})},ci=e=>{let{tournament:t,players:n,pairings:r,currentRound:s,onRoundChange:i,onPairingsUpdate:o,onCompleteRound:l,onResetPairings:c,onPrint:d,onGeneratePairingsForSection:u,onResetPairingsForSection:h,onUpdateResult:m,availableSections:f,isLoading:p}=e;const{tournamentId:x,sectionName:g}=re(),b=ne(),[y,v]=(0,a.useState)(t),[w,N]=(0,a.useState)(n||[]),[j,k]=(0,a.useState)(r||[]),[S,_]=(0,a.useState)(s||1),[A,C]=(0,a.useState)(f||[]),[L,P]=(0,a.useState)(g||"Open"),[E,F]=(0,a.useState)(p||!1);(0,a.useEffect)(()=>{x&&!t&&R()},[x,t]),(0,a.useEffect)(()=>{g&&P(g)},[g]);const R=async()=>{if(x){F(!0);try{console.log("Loading tournament data for:",x)}catch(e){console.error("Failed to load tournament data:",e)}finally{F(!1)}}},T=e=>{_(e),i&&i(e)},O=async(e,t)=>{try{if(m)await m(e,t);else{const n=j.map(n=>n.id===e?(0,Re.A)((0,Re.A)({},n),{},{result:t}):n);k(n),o&&o(n)}}catch(n){console.error("Failed to update result:",n)}},I=async e=>{try{u?await u(e):console.log("Generating pairings for section:",e)}catch(t){console.error("Failed to generate pairings for section:",t),alert('Failed to generate pairings for section "'.concat(e,'". Please check the console for details.'))}},D=j.filter(e=>e.round===S&&(e.section||"Open")===L),z=(()=>{const e=D.length,t=D.filter(e=>e.result&&"TBD"!==e.result).length;return{totalPairings:e,completedPairings:t,percentage:e>0?Math.round(t/e*100):0}})(),M=(e,t)=>{const n="px-2 py-1 text-xs font-medium rounded transition-colors",r=t===e;switch(e){case"1-0":case"1-0F":return"".concat(n," ").concat(r?"bg-green-600 text-white":"bg-green-100 text-green-800 hover:bg-green-200");case"0-1":case"0-1F":return"".concat(n," ").concat(r?"bg-red-600 text-white":"bg-red-100 text-red-800 hover:bg-red-200");case"1/2-1/2":case"1/2-1/2F":return"".concat(n," ").concat(r?"bg-yellow-600 text-white":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200");default:return"".concat(n," ").concat(r?"bg-blue-600 text-white":"bg-blue-100 text-blue-800 hover:bg-blue-200")}};return(0,Te.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Te.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("button",{onClick:()=>b(-1),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,Te.jsx)(Et,{className:"h-5 w-5"}),(0,Te.jsx)("span",{children:"Back"})]}),(0,Te.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,Te.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[(null===y||void 0===y?void 0:y.name)||"Tournament"," - ",L," Section"]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Section:"}),(0,Te.jsx)("select",{value:L,onChange:e=>{return t=e.target.value,P(t),void(x&&b("/tournaments/".concat(x,"/pairings/").concat(t)));var t},className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:A.map(e=>(0,Te.jsx)("option",{value:e,children:"all"===e?"All Sections":"".concat(e," Section")},e))})]}),(0,Te.jsxs)("button",{onClick:()=>d&&d(),className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[(0,Te.jsx)(Dt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Print"})]})]})]})})}),(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Te.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Round ",S," Pairings"]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsxs)("button",{onClick:()=>T(S-1),disabled:S<=1,className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:[(0,Te.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,Te.jsx)("span",{children:"Prev"})]}),(0,Te.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-md font-medium",children:["Round ",S]}),(0,Te.jsxs)("button",{onClick:()=>T(S+1),disabled:S>=((null===y||void 0===y?void 0:y.total_rounds)||5),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:[(0,Te.jsx)("span",{children:"Next"}),(0,Te.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Te.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsxs)("button",{onClick:()=>(async e=>{try{h?await h(e):console.log("Resetting pairings for section:",e)}catch(t){console.error("Failed to reset pairings for section:",t)}})(L),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:[(0,Te.jsx)(Ft,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Reset"})]}),(0,Te.jsx)("button",{onClick:()=>I(L),disabled:E,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:E?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,Te.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Te.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Te.jsx)("span",{children:"Generating..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Nt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Generate"})]})})]})]}),z.totalPairings>0&&(0,Te.jsxs)("div",{className:"mt-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[(0,Te.jsx)("span",{children:"Results Progress"}),(0,Te.jsxs)("span",{children:[z.completedPairings," of ",z.totalPairings," completed (",z.percentage,"%)"]})]}),(0,Te.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Te.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(z.percentage,"%")}})})]})]}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:0===D.length?(0,Te.jsxs)("div",{className:"p-8 text-center",children:[(0,Te.jsx)(Nt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Pairings Yet"}),(0,Te.jsx)("p",{className:"text-gray-500 mb-4",children:'Click "Generate" to create pairings for this section.'}),(0,Te.jsxs)("button",{onClick:()=>I(L),disabled:E,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 transition-colors",children:["Generate ",L," Section"]})]}):(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Te.jsx)("thead",{className:"bg-gray-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Board"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"White Player"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Black Player"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(e=>(0,Te.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.board}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Te.jsxs)("div",{className:"flex flex-col",children:[(0,Te.jsx)("span",{className:"font-medium",children:e.white_name||"TBD"}),e.white_rating&&(0,Te.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.white_rating,")"]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Te.jsxs)("div",{className:"flex flex-col",children:[(0,Te.jsx)("span",{className:"font-medium",children:e.black_name||"TBD"}),e.black_rating&&(0,Te.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.black_rating,")"]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,Te.jsxs)("div",{className:"flex space-x-1 justify-center",children:[(0,Te.jsx)("button",{onClick:()=>O(e.id,"1-0"),className:M("1-0",e.result),title:"White wins",children:"1-0"}),(0,Te.jsx)("button",{onClick:()=>O(e.id,"0-1"),className:M("0-1",e.result),title:"Black wins",children:"0-1"}),(0,Te.jsx)("button",{onClick:()=>O(e.id,"1/2-1/2"),className:M("1/2-1/2",e.result),title:"Draw",children:"\xbd-\xbd"}),(0,Te.jsx)("button",{onClick:()=>O(e.id,"1-0F"),className:M("1-0F",e.result),title:"White wins by forfeit",children:"1-0F"}),(0,Te.jsx)("button",{onClick:()=>O(e.id,"0-1F"),className:M("0-1F",e.result),title:"Black wins by forfeit",children:"0-1F"}),(0,Te.jsx)("button",{onClick:()=>O(e.id,"1/2-1/2F"),className:M("1/2-1/2F",e.result),title:"Draw by forfeit",children:"\xbd-\xbdF"})]})})]},e.id))})]})})}),100===z.percentage&&z.totalPairings>0&&(0,Te.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)($t,{className:"h-5 w-5 text-green-600"}),(0,Te.jsx)("span",{className:"text-green-800 font-medium",children:"All results submitted!"})]}),(0,Te.jsxs)("button",{onClick:()=>l&&l(),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:["Complete Round ",S]})]})})]})})]})},di=()=>{const{user:e}=qe(),{state:t,createOrganization:n,setCurrentOrganization:r}=$e(),[s,i]=(0,a.useState)("profile"),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)({name:"",slug:"",description:"",website:"",contactEmail:"",city:"",state:"",country:"US"});return(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Te.jsxs)("div",{className:"mb-8",children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Account Settings"}),(0,Te.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage your profile and organizations"})]}),(0,Te.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,Te.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,Te.jsxs)("button",{onClick:()=>i("profile"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("profile"===s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Te.jsx)(at,{className:"h-4 w-4 inline mr-2"}),"Profile"]}),(0,Te.jsxs)("button",{onClick:()=>i("organizations"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("organizations"===s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Te.jsx)(vt,{className:"h-4 w-4 inline mr-2"}),"Organizations"]})]})}),"profile"===s&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Profile Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,Te.jsx)("div",{className:"mt-1 text-sm text-gray-900",children:(null===e||void 0===e?void 0:e.username)||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Te.jsx)("div",{className:"mt-1 text-sm text-gray-900",children:(null===e||void 0===e?void 0:e.email)||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,Te.jsx)("div",{className:"mt-1 text-sm text-gray-900",children:(null===e||void 0===e?void 0:e.firstName)||"Not provided"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,Te.jsx)("div",{className:"mt-1 text-sm text-gray-900",children:(null===e||void 0===e?void 0:e.lastName)||"Not provided"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,Te.jsx)("div",{className:"mt-1",children:(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("admin"===(null===e||void 0===e?void 0:e.role)?"bg-purple-100 text-purple-800":"td"===(null===e||void 0===e?void 0:e.role)?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:(null===e||void 0===e?void 0:e.role)||"user"})})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Member Since"}),(0,Te.jsx)("div",{className:"mt-1 text-sm text-gray-900",children:null!==e&&void 0!==e&&e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"})]})]}),(0,Te.jsx)("div",{className:"mt-6",children:(0,Te.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700",children:"Edit Profile"})})]}),"organizations"===s&&(0,Te.jsxs)("div",{className:"space-y-6",children:[t.currentOrganization&&(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:t.currentOrganization.name}),(0,Te.jsx)("p",{className:"text-gray-600",children:t.currentOrganization.description}),(0,Te.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[(0,Te.jsxs)("span",{children:["Role: ",t.currentOrganization.role]}),(0,Te.jsxs)("span",{children:["Joined: ",new Date(t.currentOrganization.joinedAt||"").toLocaleDateString()]})]})]}),(0,Te.jsx)("div",{className:"flex space-x-2",children:(0,Te.jsx)("button",{onClick:()=>r(null),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200",children:"Switch Organization"})})]})}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.organizations.map(e=>{var n;return(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 cursor-pointer transition-all duration-200 ".concat((null===(n=t.currentOrganization)||void 0===n?void 0:n.id)===e.id?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-lg"),onClick:()=>(e=>{r(e)})(e),children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Te.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("owner"===e.role?"bg-purple-100 text-purple-800":"admin"===e.role?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.role})]}),(0,Te.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description||"No description provided"}),(0,Te.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,Te.jsxs)("div",{children:["Slug: ",e.slug]}),(0,Te.jsxs)("div",{children:["Joined: ",new Date(e.joinedAt||"").toLocaleDateString()]}),e.website&&(0,Te.jsxs)("div",{children:["Website: ",e.website]})]})]},e.id)})}),!o&&(0,Te.jsx)("div",{className:"text-center",children:(0,Te.jsxs)("button",{onClick:()=>l(!0),className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(st,{className:"h-4 w-4 inline mr-2"}),"Create New Organization"]})}),o&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Organization"}),(0,Te.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await n(c);r(e),l(!1),d({name:"",slug:"",description:"",website:"",contactEmail:"",city:"",state:"",country:"US"})}catch(t){console.error("Failed to create organization:",t)}},className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Organization Name *"}),(0,Te.jsx)("input",{type:"text",id:"name",required:!0,value:c.name,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{name:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700",children:"URL Slug *"}),(0,Te.jsx)("input",{type:"text",id:"slug",required:!0,value:c.slug,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{slug:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"my-chess-club"})]}),(0,Te.jsxs)("div",{className:"md:col-span-2",children:[(0,Te.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,Te.jsx)("textarea",{id:"description",rows:3,value:c.description,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{description:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700",children:"Website"}),(0,Te.jsx)("input",{type:"url",id:"website",value:c.website,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{website:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700",children:"Contact Email"}),(0,Te.jsx)("input",{type:"email",id:"contactEmail",value:c.contactEmail,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{contactEmail:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),(0,Te.jsx)("input",{type:"text",id:"city",value:c.city,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{city:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),(0,Te.jsx)("input",{type:"text",id:"state",value:c.state,onChange:e=>d((0,Re.A)((0,Re.A)({},c),{},{state:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Create Organization"})]})]})]})]})]})},ui=tt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),hi=()=>{const[e,t]=(0,a.useState)(!1);return(0,Te.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,Te.jsx)("header",{className:"bg-white shadow-sm",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Te.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Te.jsx)("div",{className:"flex items-center",children:(0,Te.jsx)(lt,{size:"md",showText:!0})}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)(Pe,{to:"/public/tournaments",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"View Tournaments"}),(0,Te.jsx)(Pe,{to:"/public/organizations",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Find Organizations"}),(0,Te.jsx)(Pe,{to:"/register",className:"text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Register for Tournament"}),(0,Te.jsxs)("button",{onClick:()=>t(!0),className:"flex items-center space-x-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(ot,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Sign In"})]})]})]})})}),(0,Te.jsx)("section",{className:"py-20",children:(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Te.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Professional Chess Tournament",(0,Te.jsx)("span",{className:"text-blue-600",children:" Management"})]}),(0,Te.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Organize, manage, and run chess tournaments with ease. From Swiss system pairings to real-time standings, we've got everything you need for successful tournaments."}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Te.jsxs)(Pe,{to:"/public/tournaments",className:"bg-blue-600 text-white px-8 py-3 rounded-lg text-lg font-medium hover:bg-blue-700 transition-colors inline-flex items-center justify-center",children:["Browse Tournaments",(0,Te.jsx)(Xs,{className:"ml-2 h-5 w-5"})]}),(0,Te.jsxs)(Pe,{to:"/public/organizations",className:"bg-green-600 text-white px-8 py-3 rounded-lg text-lg font-medium hover:bg-green-700 transition-colors inline-flex items-center justify-center",children:["Find Organizations",(0,Te.jsx)(Xs,{className:"ml-2 h-5 w-5"})]}),(0,Te.jsxs)("button",{onClick:()=>t(!0),className:"bg-white text-blue-600 px-8 py-3 rounded-lg text-lg font-medium hover:bg-gray-50 transition-colors border-2 border-blue-600 inline-flex items-center justify-center",children:[(0,Te.jsx)(ot,{className:"mr-2 h-5 w-5"}),"Sign In / Sign Up"]}),(0,Te.jsx)(Pe,{to:"/register",className:"bg-gray-600 text-white px-8 py-3 rounded-lg text-lg font-medium hover:bg-gray-700 transition-colors inline-flex items-center justify-center",children:"Register for Tournament"})]})]})}),(0,Te.jsx)("section",{className:"py-16 bg-white",children:(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"text-center mb-12",children:[(0,Te.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Everything You Need for Chess Tournaments"}),(0,Te.jsx)("p",{className:"text-xl text-gray-600",children:"Powerful tools designed specifically for chess tournament directors"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(rt,{className:"h-8 w-8 text-blue-600"})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Swiss System Pairings"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Automated Swiss system pairings with USCF compliance and advanced algorithms"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(Nt,{className:"h-8 w-8 text-green-600"})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Player Management"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Easy player registration, rating lookup, and comprehensive player profiles"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(wt,{className:"h-8 w-8 text-purple-600"})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Real-time Standings"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Live tournament standings with multiple tiebreaker systems and live updates"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(ui,{className:"h-8 w-8 text-orange-600"})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Secure & Reliable"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Enterprise-grade security with data backup and reliable tournament management"})]})]})]})}),(0,Te.jsx)("section",{className:"py-16 bg-blue-600",children:(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Te.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Organize Your Next Tournament?"}),(0,Te.jsx)("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of tournament directors who trust our platform"}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Te.jsxs)(Pe,{to:"/public/tournaments",className:"bg-white text-blue-600 px-8 py-3 rounded-lg text-lg font-medium hover:bg-gray-100 transition-colors inline-flex items-center justify-center",children:["View Live Tournaments",(0,Te.jsx)(Xs,{className:"ml-2 h-5 w-5"})]}),(0,Te.jsxs)(Pe,{to:"/public/organizations",className:"bg-green-500 text-white px-8 py-3 rounded-lg text-lg font-medium hover:bg-green-600 transition-colors inline-flex items-center justify-center",children:["Find Organizations",(0,Te.jsx)(Xs,{className:"ml-2 h-5 w-5"})]}),(0,Te.jsxs)("button",{onClick:()=>t(!0),className:"bg-blue-700 text-white px-8 py-3 rounded-lg text-lg font-medium hover:bg-blue-800 transition-colors border-2 border-white inline-flex items-center justify-center",children:[(0,Te.jsx)(ot,{className:"mr-2 h-5 w-5"}),"Sign In / Sign Up"]}),(0,Te.jsx)(Pe,{to:"/register",className:"bg-transparent text-white px-8 py-3 rounded-lg text-lg font-medium hover:bg-white hover:text-blue-600 transition-colors border-2 border-white inline-flex items-center justify-center",children:"Register for Tournament"})]})]})}),(0,Te.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)(lt,{size:"md",showText:!0}),(0,Te.jsx)("p",{className:"mt-4 text-gray-400",children:"Professional chess tournament management made simple."})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),(0,Te.jsxs)("ul",{className:"space-y-2",children:[(0,Te.jsx)("li",{children:(0,Te.jsx)(Pe,{to:"/public/tournaments",className:"text-gray-400 hover:text-white",children:"Tournaments"})}),(0,Te.jsx)("li",{children:(0,Te.jsx)(Pe,{to:"/public/organizations",className:"text-gray-400 hover:text-white",children:"Organizations"})}),(0,Te.jsx)("li",{children:(0,Te.jsx)(Pe,{to:"/register",className:"text-gray-400 hover:text-white",children:"Register"})})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Features"}),(0,Te.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,Te.jsx)("li",{children:"Swiss System Pairings"}),(0,Te.jsx)("li",{children:"Real-time Standings"}),(0,Te.jsx)("li",{children:"Player Management"}),(0,Te.jsx)("li",{children:"Tournament Analytics"})]})]})]}),(0,Te.jsx)("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:(0,Te.jsx)("p",{children:"\xa9 2024 PairCraft. All rights reserved."})})]})}),(0,Te.jsx)(bt,{isOpen:e,onClose:()=>t(!1)})]})},mi=e=>{let{children:t,requireAuth:n=!0}=e;const{isAuthenticated:r,isLoading:a}=qe();return a?(0,Te.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):n&&!r||!n&&r?(0,Te.jsx)(be,{to:"/",replace:!0}):(0,Te.jsx)(Te.Fragment,{children:t})};const fi=function(){return(0,Te.jsx)(Ue,{children:(0,Te.jsx)(ze,{children:(0,Te.jsx)(Ae,{children:(0,Te.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Te.jsxs)(we,{children:[(0,Te.jsx)(ye,{path:"/public/tournaments",element:(0,Te.jsx)(Ws,{})}),(0,Te.jsx)(ye,{path:"/public/tournaments/:id",element:(0,Te.jsx)(Ms,{})}),(0,Te.jsx)(ye,{path:"/public/organizations",element:(0,Te.jsx)(ni,{})}),(0,Te.jsx)(ye,{path:"/public/organizations/:slug",element:(0,Te.jsx)(ei,{})}),(0,Te.jsx)(ye,{path:"/public/organizations/:slug/tournaments/:tournamentId",element:(0,Te.jsx)(ti,{})}),(0,Te.jsx)(ye,{path:"/register/:tournamentId",element:(0,Te.jsx)(li,{})}),(0,Te.jsx)(ye,{path:"/*",element:(0,Te.jsx)(Xe,{children:(0,Te.jsxs)(we,{children:[(0,Te.jsx)(ye,{path:"/",element:(0,Te.jsx)(hi,{})}),(0,Te.jsx)(ye,{path:"/dashboard",element:(0,Te.jsx)(mi,{children:(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(yt,{}),(0,Te.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,Te.jsx)(_t,{})})]})})}),(0,Te.jsx)(ye,{path:"/profile",element:(0,Te.jsx)(mi,{children:(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(yt,{}),(0,Te.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,Te.jsx)(di,{})})]})})}),(0,Te.jsx)(ye,{path:"/tournaments",element:(0,Te.jsx)(mi,{children:(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(yt,{}),(0,Te.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,Te.jsx)(Pt,{})})]})})}),(0,Te.jsx)(ye,{path:"/tournaments/new",element:(0,Te.jsx)(mi,{children:(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(yt,{}),(0,Te.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,Te.jsx)(gn,{})})]})})}),(0,Te.jsx)(ye,{path:"/tournaments/:id",element:(0,Te.jsx)(mi,{children:(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(yt,{}),(0,Te.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,Te.jsx)(fn,{})})]})})}),(0,Te.jsx)(ye,{path:"/tournaments/:tournamentId/pairings/:sectionName",element:(0,Te.jsx)(mi,{children:(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(yt,{}),(0,Te.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,Te.jsx)(ci,{})})]})})}),(0,Te.jsx)(ye,{path:"/organizations/:id/settings",element:(0,Te.jsx)(mi,{children:(0,Te.jsx)(ii,{})})})]})})})]})})})})})};i.createRoot(document.getElementById("root")).render((0,Te.jsx)(a.StrictMode,{children:(0,Te.jsx)(fi,{})}))})();
//# sourceMappingURL=main.de3f5205.js.map